var UNIQODO=typeof UNIQODO!=="undefined"?UNIQODO:{};UNIQODO.tagVersion=2;UNIQODO.advertiserId=29;UNIQODO.priv="0dbf6d03a9070c3613bda109e2ea6c3f2b8cb305";UNIQODO.liveMode=!0;UNIQODO.triggerCodeRedemption=!0;UNIQODO.enableRecognition=!1;UNIQODO.enableAutofill=!0;UNIQODO.isAsyncPromoForm=!0;UNIQODO.validationErrorCallback=null;UNIQODO.validationSuccessCallback=null;UNIQODO.displaysTriggerCode=!0;UNIQODO.platform=(UNIQODO.platform)?UNIQODO.platform:'default';UNIQODO.codeParam='_uqd_param';UNIQODO.codeCookie='_uqd_code';UNIQODO.validatedCodeCookie='_uqd_validated';UNIQODO.triggerCodeCookie='_uqd_trigger';UNIQODO.cookiePath=null;UNIQODO.errorCode='INVALIDCODE';UNIQODO.valueHideStyle="color:#ffffff;";var parts=window.location.hostname.split('.');parts[0]='';UNIQODO.advertiserDomain=parts.join('.');UNIQODO.selector={input:function(){return document.getElementById("voucher")},button:function(){return document.querySelector("button[name=promo-code-validate]")},triggerCodeDisplay:function(){var cont=document.querySelector(".alertSuccess");if(!cont||(cont&&!cont.childNodes)){return !1}
var messageConts=[];var i;for(i=0;i<cont.childNodes.length;i++){if(cont.childNodes[i].nodeName=='text'||cont.childNodes[i].nodeName=='#text'){messageConts.push(cont.childNodes[i])}}
return messageConts}};(function(funcName,baseObj,UNIQODO){funcName=funcName||"onDomReady";baseObj=baseObj||window;var readyList=[];var readyFired=!1;var readyEventHandlersInstalled=!1;function ready(){if(!readyFired){readyFired=!0;for(var i=0;i<readyList.length;i++){readyList[i].fn.call(window,readyList[i].ctx)}
readyList=[]}}
function readyStateChange(){if(document.readyState==="complete"){ready()}}
baseObj[funcName]=function(callback,context){if(readyFired){setTimeout(function(){callback(context)},1);return}else{readyList.push({fn:callback,ctx:context})}
if(document.readyState==="complete"||(!document.attachEvent&&document.readyState==="interactive")){setTimeout(ready,1)}else if(!readyEventHandlersInstalled){if(document.addEventListener){document.addEventListener("DOMContentLoaded",ready,!1);window.addEventListener("load",ready,!1)}else{document.attachEvent("onreadystatechange",readyStateChange);window.attachEvent("onload",ready)}
readyEventHandlersInstalled=!0}};UNIQODO.request=function(url,callback,xhrOnly){var xhr;function ieReady(){callback(xhr)}
function ensureReadiness(){if(xhr.readyState===4){callback(xhr)}
if(xhr.readyState<4){return}
if(xhr.status!==200){return}}
var browserVersion=window.navigator.appVersion.replace(/\s+/g,'');if(window.XDomainRequest&&(browserVersion.match("MSIE8.")||browserVersion.match("MSIE9."))){xhr=new XDomainRequest();xhr.onload=ieReady;xhr.onprogress=function(){};xhr.ontimeout=function(){}}else if(typeof XMLHttpRequest!=='undefined'){xhr=new XMLHttpRequest();xhr.onreadystatechange=ensureReadiness}else{var versions=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];for(var i=0,len=versions.length;i<len;i++){try{xhr=new ActiveXObject(versions[i]);break}
catch(e){}}
xhr.onreadystatechange=ensureReadiness}
if(xhrOnly)return xhr;xhr.open('GET',url,!0);xhr.send('')};UNIQODO.isCurrentURLPath=function(path){var pathname=window.location.pathname.replace(/^\/|\/$/g,'');path=path.replace(/^\/|\/$/g,'');if(pathname==path){return !0}
return !1};UNIQODO.hideEl=function(el){el.setAttribute("style","display:none; visibility: hidden;");try{if(el.style){el.style.visibility="hidden";el.style.display="none"}}catch(e){}};UNIQODO.showEl=function(el){el.setAttribute("style","display:block; visibility: visible;");try{if(el.style){el.style.display="block";el.style.visibility="visible"}}catch(e){}};UNIQODO.inArray=function(val,haystack){for(var i=0;i<haystack.length;i++){if(haystack[i]==val)return !0}
return !1};UNIQODO.getQueryStringParameter=function(paramName){var queryString=document.location.search.substring(1);var paramsArray=queryString.split('&');for(var i=0;i<paramsArray.length;i++){var parameters=paramsArray[i].split('=');if(paramName.toLowerCase()==parameters[0].toLowerCase()){return parameters[1]}}};UNIQODO.buildQueryString=function(obj){var str=[];for(var p in obj){if(obj.hasOwnProperty(p)){str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]))}}
return(str.length>0)?"?"+str.join("&"):''};UNIQODO.isMobile=function(){var windowWidth=window.screen.width<window.outerWidth?window.screen.width:window.outerWidth;return windowWidth<500};UNIQODO.setItem=function(key,value,expiryInMilliseconds,cookieOnly){if(!expiryInMilliseconds){expiryInMilliseconds=30*24*60*60*1000}
var cookieDetails=key+'='+value;var path=UNIQODO.cookiePath?UNIQODO.cookiePath:'/';if(expiryInMilliseconds!==1){var expiry=new Date();expiry.setTime(expiry.getTime()+expiryInMilliseconds);expiry='; expires='+expiry.toGMTString();cookieDetails+=expiry;try{if(!UNIQODO.cookiePath&&!cookieOnly&&typeof localStorage!="undefined"&&localStorage!=null){localStorage.setItem(key,value)}}catch(ex){}}
cookieDetails+='; path='+path+';domain='+UNIQODO.advertiserDomain;document.cookie=cookieDetails};UNIQODO.getItem=function(key){var allCookies=document.cookie.split(';');for(var i=0;i<allCookies.length;i++){var cookieNames=allCookies[i].split('=');if(key==cookieNames[0].replace(/^\s+|\s+$/g,'')){return cookieNames[1]}}
try{if(typeof localStorage!="undefined"&&localStorage.getItem(key)){return localStorage.getItem(key)}}catch(ex){}
return null};UNIQODO.removeItem=function(key){try{if(localStorage){localStorage.removeItem(key)}}catch(e){}
var expiry="expires=Thu, 01 Jan 1970 00:00:00 UTC";var path=UNIQODO.cookiePath?UNIQODO.cookiePath:'/';document.cookie=key+'=;'+expiry+'; path='+path+';domain='+UNIQODO.advertiserDomain};UNIQODO.getPromoCodeElements=function(){var promoCodeField,promoCodeButton,buttonOriginalEv,uniqodoInputStyle;promoCodeField=UNIQODO.selector.input();if(promoCodeField){promoCodeButton=UNIQODO.selector.button();if(promoCodeField&&promoCodeButton){buttonOriginalEv=promoCodeButton.onclick;uniqodoInputStyle=promoCodeField.getAttribute("style")?promoCodeField.getAttribute("style"):'';if(typeof window.uniqodoMatchedEls!="undefined"&&window.uniqodoMatchedEls){if(typeof window.uniqodoMatchedEls.inputStyle!="undefined")uniqodoInputStyle=window.uniqodoMatchedEls.inputStyle;if(typeof window.uniqodoMatchedEls.existingOnClick!="undefined")buttonOriginalEv=window.uniqodoMatchedEls.existingOnClick}
window.uniqodoMatchedEls={input:promoCodeField,button:promoCodeButton,inputStyle:uniqodoInputStyle,existingOnClick:buttonOriginalEv};return window.uniqodoMatchedEls}}
return !1};UNIQODO.changePromoCode=function(merchantCodeEntryField){if(merchantCodeEntryField&&merchantCodeEntryField.value){var val=merchantCodeEntryField.value.toUpperCase();var trg=UNIQODO.getItem(UNIQODO.triggerCodeCookie)?UNIQODO.getItem(UNIQODO.triggerCodeCookie).toUpperCase():'';var errorCode=UNIQODO.errorCode.toUpperCase();switch(val){case trg:merchantCodeEntryField.value=UNIQODO.getItem(UNIQODO.validatedCodeCookie)||UNIQODO.getItem(UNIQODO.codeCookie);break;case errorCode:merchantCodeEntryField.setAttribute("autocomplete","off");merchantCodeEntryField.autocomplete="off";merchantCodeEntryField.value=UNIQODO.getItem(UNIQODO.codeCookie);break}}};UNIQODO.hideFieldValue=function(field){if(!field)return;field.setAttribute("style",UNIQODO.valueHideStyle);field.setAttribute("autocomplete","off");field.autocomplete="off"};UNIQODO.unHideFieldValue=function(field){if(!field)return;field.setAttribute("style",UNIQODO.valueUnHideStyle)};UNIQODO.modeCheck=function(){if(UNIQODO.getQueryStringParameter('uqdLiveMode')=='1'){UNIQODO.setItem('uqdLiveMode',UNIQODO.getQueryStringParameter('uqdLiveMode'),1);UNIQODO.liveMode=!0}else if(UNIQODO.getQueryStringParameter('uqdLiveMode')=='0'){UNIQODO.removeItem('uqdLiveMode');UNIQODO.liveMode=!1}else if(UNIQODO.getItem('uqdLiveMode')==1){UNIQODO.liveMode=!0}};UNIQODO.removeTriggerCodePresenceLegacy=function(){var cont=document.querySelector(".alertSuccess");if(!cont||(cont&&!cont.childNodes)){return}
var triggerCode=UNIQODO.getItem(UNIQODO.triggerCodeCookie);var regX=new RegExp(triggerCode);if(!triggerCode||!UNIQODO.getItem(UNIQODO.validatedCodeCookie)){return}
var i;for(i=0;i<cont.childNodes.length;i++){if(cont.childNodes[i].nodeName=='text'||cont.childNodes[i].nodeName=='#text'){if(cont.childNodes[i].data.match(regX)){cont.childNodes[i].data=cont.childNodes[i].data.replace(regX,UNIQODO.getItem(UNIQODO.validatedCodeCookie))}}}};UNIQODO.removeTriggerCodePresence=function(){if(UNIQODO.isIe8()){try{UNIQODO.removeTriggerCodePresenceLegacy()}catch(e){}
return}
var messageContainers=UNIQODO.selector.triggerCodeDisplay();if(!UNIQODO.displaysTriggerCode||!messageContainers){return}
var triggerCode=UNIQODO.getItem(UNIQODO.triggerCodeCookie);var regX=new RegExp(triggerCode);if(!triggerCode||!UNIQODO.getItem(UNIQODO.validatedCodeCookie)){return}
for(var i=0;i<messageContainers.length;i++){if(!messageContainers[i]||!messageContainers[i].textContent.match(regX))continue;messageContainers[i].nodeValue=messageContainers[i].nodeValue.replace(regX,UNIQODO.getItem(UNIQODO.validatedCodeCookie))}};UNIQODO.pauseEvent=function(e){e.returnValue=!1;if(e.preventDefault){e.preventDefault()}
e.cancelBubble=!0;if(e.stopPropagation){e.stopPropagation()}};UNIQODO.fireEvent=function(element,event,callback){var res;if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent(event,!0,!0);res=!element.dispatchEvent(evt)}else{var evt=document.createEventObject();res=element.fireEvent("on"+event,evt)}
if(callback)callback();return res};UNIQODO.report=function(e){try{var protocol=window.location.protocol;var url=protocol+"//api.uniqodo.com/reporting/"+UNIQODO.advertiserId+"/log";url+="?message="+encodeURIComponent(e.message)+"&type="+encodeURIComponent(e.name);UNIQODO.request(url,function(){})}catch(ex){}};UNIQODO.repeat=function(taskId,doTask,numberOfRepeats,frequency){UNIQODO.taskRepeatInterval=UNIQODO.taskRepeatInterval||{};UNIQODO.taskRepeatCounter=UNIQODO.taskRepeatCounter||{};UNIQODO.taskRepeatCounter[taskId]=0;frequency=frequency?frequency:500;numberOfRepeats=numberOfRepeats?numberOfRepeats:30;if(UNIQODO.taskRepeatInterval[taskId])window.clearInterval(UNIQODO.taskRepeatInterval[taskId]);UNIQODO.taskRepeatInterval[taskId]=window.setInterval(function(){doTask();if(UNIQODO.taskRepeatCounter[taskId]==numberOfRepeats){window.clearInterval(UNIQODO.taskRepeatInterval[taskId]);UNIQODO.taskRepeatCounter[taskId]=0}
UNIQODO.taskRepeatCounter[taskId]++},frequency)};UNIQODO.retry=function(taskId,doTask,breakConditionMet,frequency,exponentialBackOff,unsuccessfulRetryCallback){UNIQODO.taskRetryTimer=UNIQODO.taskRetryTimer||{};UNIQODO.taskRetryCounter=UNIQODO.taskRetryCounter||{};UNIQODO.taskRetryCounter[taskId]=0;frequency=frequency?frequency:500;exponentialBackOff=exponentialBackOff?exponentialBackOff:30;if(UNIQODO.taskRetryTimer[taskId])window.clearInterval(UNIQODO.taskRetryTimer[taskId]);UNIQODO.taskRetryTimer[taskId]=window.setInterval(function(){if(breakConditionMet()){doTask();window.clearInterval(UNIQODO.taskRetryTimer[taskId]);UNIQODO.taskRetryCounter[taskId]=0}else if(UNIQODO.taskRetryCounter[taskId]==exponentialBackOff){window.clearInterval(UNIQODO.taskRetryTimer[taskId]);UNIQODO.taskRetryCounter[taskId]=0;if(unsuccessfulRetryCallback){unsuccessfulRetryCallback()}}
UNIQODO.taskRetryCounter[taskId]++},frequency)};UNIQODO.promoCodeProfileMatched=function(){return !1};UNIQODO.monitor=function(){if(UNIQODO.promoCodeProfileMatched()&&!UNIQODO.getPromoCodeElements()){UNIQODO.report({"name":"siteChangeDetection","message":"Site changes affecting promo code widget detected!"})}
else{}};UNIQODO.isOrderConfirmationPage=function(){return(typeof UNIQODO.orderConfirmation!="undefined"&&UNIQODO.orderConfirmation==!0)};UNIQODO.redemptionCallback=function(){if(UNIQODO.getItem(UNIQODO.validatedCodeCookie)!=UNIQODO.getItem(UNIQODO.triggerCodeCookie)){UNIQODO.removeItem(UNIQODO.codeCookie)}
UNIQODO.removeItem(UNIQODO.triggerCodeCookie);UNIQODO.removeItem(UNIQODO.validatedCodeCookie);if(UNIQODO.embeddableCookie)UNIQODO.removeItem(UNIQODO.embeddableCookie)};UNIQODO.filterTriggerCode=function(){if(typeof UNIQODO.triggerCode=='undefined'){return}
if(!UNIQODO.triggerCodeRedemption){UNIQODO.triggerCode='';return}else{if(typeof UNIQODO.triggerCode=="string")UNIQODO.triggerCode=UNIQODO.triggerCode.replace(/\s+/g,'');UNIQODO.triggerCode=(UNIQODO.triggerCode=='')?null:UNIQODO.triggerCode}};UNIQODO.dataLayer=function(){var data={};if(typeof UNIQODO.email!='undefined'&&UNIQODO.email.length>1){data.email=encodeURIComponent(UNIQODO.email)}
data.itemSeparator=';';data.valueSeparator=',';data.baseValidationParam='domain';data.domain=window.location.hostname;try{data.totalItems=digitalData.cart.items.length;data.totalAmount=digitalData.cart.totalAmount}catch(e){}
return data};UNIQODO.recordCodeRedemption=function(uniqodoValidatedCode){try{UNIQODO.filterTriggerCode()}catch(e){}
if(!uniqodoValidatedCode&&!UNIQODO.triggerCodeRedemption){return}
var url="https://api.uniqodo.com/redeem/";url+=UNIQODO.priv+'/'+uniqodoValidatedCode+"/"+UNIQODO.advertiserId+'?code='+uniqodoValidatedCode;if(typeof UNIQODO.email!='undefined'){url+='&email='+encodeURIComponent(UNIQODO.email);UNIQODO.uid=UNIQODO.email}
if(typeof UNIQODO.orderId!='undefined')url+='&orderId='+UNIQODO.orderId;if(typeof UNIQODO.orderValue!='undefined')url+='&orderValue='+UNIQODO.orderValue;if(typeof UNIQODO.email!='undefined')url+='&email='+UNIQODO.email;if(typeof UNIQODO.currency!='undefined')url+='&currency='+UNIQODO.currency;if(typeof UNIQODO.triggerCode!='undefined')url+='&triggerCode='+UNIQODO.triggerCode;var cnt;for(cnt=1;cnt<15;cnt++){if(typeof UNIQODO["p"+cnt]=='undefined')break;url+='&p'+cnt+'='+UNIQODO["p"+cnt]}
UNIQODO.request(url,function(){});UNIQODO.redemptionCallback()};UNIQODO.validateCode=function(code,merchantLogic){if(!UNIQODO.isAsyncPromoForm&&UNIQODO.requesting){return}
UNIQODO.requesting=!0;if(!code)return !1;code=code.replace(/\s+/g,'');code=encodeURIComponent(code);var protocol=window.location.protocol;var url=protocol+'//api.uniqodo.com/validate/'+UNIQODO.priv+'/'+code+'/'+UNIQODO.advertiserId;UNIQODO.request(url+UNIQODO.buildQueryString(UNIQODO.dataLayer()),function(xhr){if(typeof xhr.status!="undefined"&&xhr.status!=200){merchantLogic({"data":{},"errors":[{"message":"The code entered is not recognised.","code":204,"reference":code}]});return}
var result=JSON.parse(xhr.responseText);UNIQODO.setItem(UNIQODO.codeCookie,code,1);if(result.errors.length==0){UNIQODO.setItem(UNIQODO.validatedCodeCookie,code);UNIQODO.setItem(UNIQODO.codeCookie,code,1)}
if(typeof merchantLogic=='function'){merchantLogic(result)}})};UNIQODO.listener=function(obj,event,handler,capture){if(window.addEventListener){obj.addEventListener(event,handler,capture)}else if(window.attachEvent){obj.attachEvent("on"+event,handler)}};UNIQODO.isPromoCodeEventTarget=function(el){window.uniqodoMatchedEls.button=UNIQODO.selector.button();if(el===window.uniqodoMatchedEls.button||el.parentNode===window.uniqodoMatchedEls.button||el.parentNode.parentNode===window.uniqodoMatchedEls.button){return !0}
return !1};UNIQODO.onValidationSuccess=function(promoCodeEl,validationRes){try{UNIQODO.hideFieldValue(promoCodeEl.input);promoCodeEl.input.value=validationRes.data.code;UNIQODO.setItem(UNIQODO.triggerCodeCookie,validationRes.data.code)}catch(e){promoCodeEl.input.setAttribute("style",promoCodeEl.inputStyle)}};UNIQODO.onValidationError=function(promoCodeEl,validationRes){try{if(validationRes.errors[0].code==204&&(validationRes.errors[0].reference.length>0)){promoCodeEl.input.value=validationRes.errors[0].reference}else{if(UNIQODO.errorCode.length>0){UNIQODO.hideFieldValue(promoCodeEl.input)}
promoCodeEl.input.value=UNIQODO.errorCode}}catch(e){promoCodeEl.input.setAttribute("style",promoCodeEl.inputStyle)}};UNIQODO.handleAsyncInstall=function(){if(UNIQODO.isIe8()){return}
if(UNIQODO.isOrderConfirmationPage()||!UNIQODO.isAsyncPromoForm||!window.addEventListener){return}
UNIQODO.retry("uqdInstallPromoListeners",UNIQODO.installListeners,UNIQODO.getPromoCodeElements);document.addEventListener("click",function(e){if(UNIQODO.displaysTriggerCode){UNIQODO.repeat("removeTriggerCodePresence",UNIQODO.removeTriggerCodePresence,150,100)}
UNIQODO.retry("uqdInstallPromoListeners",UNIQODO.installListeners,UNIQODO.getPromoCodeElements)},!0)};UNIQODO.legacyAsyncListener=function(){if(!UNIQODO.isIe8()||UNIQODO.isOrderConfirmationPage()){return}
if(UNIQODO.isAsyncPromoForm){UNIQODO.retry("addLegacyEventHandler",function(){UNIQODO.addLegacyEventHandler()},UNIQODO.getPromoCodeElements)}};UNIQODO.promoCodeEnterKeyPressHandler=function(e){e=e||window.event;if(e.keyCode==13||(e.key&&e.key.toLowerCase()=="enter")){e.returnValue=!1;if(e.preventDefault){e.preventDefault()}
UNIQODO.fireEvent(window.uniqodoMatchedEls.button,'click')}};UNIQODO.installEventHandlers=function(){if(UNIQODO.isIe8()){UNIQODO.addLegacyEventHandler();return}
if(window.addEventListener){UNIQODO.installListeners()}else if(window.attachEvent){UNIQODO.addLegacyEventHandler()}};UNIQODO.initialize=function(){if(UNIQODO.getQueryStringParameter('uqd')&&UNIQODO.enableAutofill){UNIQODO.setItem(UNIQODO.codeParam,UNIQODO.getQueryStringParameter('uqd'),1)}}})("onDomReady",window,UNIQODO);(function(){UNIQODO.isIe8=function(){var browserVersion=window.navigator.appVersion.replace(/\s+/g,'');if(browserVersion.match("MSIE8.")){return !0}
return !1};UNIQODO.handlePromoCodeSubmission=function(e){e=e||window.event;var target=e.target||e.srcElement;var promoCodeEl=window.uniqodoMatchedEls;if(!UNIQODO.isAsyncPromoForm){UNIQODO.requesting=!1}
if(!promoCodeEl.input.value||!UNIQODO.isPromoCodeEventTarget(target)||(target.uqdAllowProp&&target.uqdAllowProp=="1")){target.uqdAllowProp="0";return e}
UNIQODO.pauseEvent(e);UNIQODO.validateCode(promoCodeEl.input.value,function(response){target.uqdAllowProp="1";if(response.errors.length>0){if(UNIQODO.validationErrorCallback&&typeof UNIQODO.validationErrorCallback=="function"){UNIQODO.validationErrorCallback(promoCodeEl,response)}else{UNIQODO.onValidationError(promoCodeEl,response)}}else{if(UNIQODO.validationSuccessCallback&&typeof UNIQODO.validationSuccessCallback=="function"){UNIQODO.validationSuccessCallback()}else{UNIQODO.onValidationSuccess(promoCodeEl,response)}}
if(UNIQODO.isAsyncPromoForm){UNIQODO.retry("uqdInstallPromoListeners",UNIQODO.installListeners,UNIQODO.getPromoCodeElements)}
try{UNIQODO.fireEvent(target,'click',function(){UNIQODO.changePromoCode(promoCodeEl.input);promoCodeEl.input.setAttribute("style",promoCodeEl.inputStyle);if(UNIQODO.displaysTriggerCode)UNIQODO.repeat("removeTriggerCodePresence",UNIQODO.removeTriggerCodePresence,150,100)})}catch(exc){promoCodeEl.input.setAttribute("style",promoCodeEl.inputStyle)}})};UNIQODO.addLegacyEventHandler=function(){if(!UNIQODO.isIe8()||window.uniqodoMatchedEls.input.uqdInstalled)return;window.uniqodoMatchedEls.input.uqdInstalled=!0;var promoCodeEl=window.uniqodoMatchedEls;UNIQODO.changePromoCode(promoCodeEl.input);if(UNIQODO.getItem(UNIQODO.codeParam)){promoCodeEl.input.value=UNIQODO.getItem(UNIQODO.codeParam);promoCodeEl.input.setAttribute("value",UNIQODO.getItem(UNIQODO.codeParam));UNIQODO.removeItem(UNIQODO.codeParam)}
UNIQODO.selector.button().setAttribute('style','display:none;');var uqdBtn=document.createElement('button');uqdBtn.setAttribute('class','btn btnShop');uqdBtn.setAttribute('id','uqdBtn');uqdBtn.innerHTML="Add";var btn=document.querySelector("button[name=promo-code-validate]");btn.parentNode.insertBefore(uqdBtn,btn);uqdBtn.onclick=function(){UNIQODO.pauseEvent(window.event);UNIQODO.validateCode(promoCodeEl.input.value,function(response){if(response.errors.length>0){if(UNIQODO.validationErrorCallback&&typeof UNIQODO.validationErrorCallback=="function"){UNIQODO.validationErrorCallback(promoCodeEl,response)}else{UNIQODO.onValidationError(promoCodeEl,response)}}else{if(UNIQODO.validationSuccessCallback&&typeof UNIQODO.validationSuccessCallback=="function"){UNIQODO.validationSuccessCallback()}else{UNIQODO.onValidationSuccess(promoCodeEl,response)}}
promoCodeEl.input.setAttribute("style",'color:#ffffff !important;');try{UNIQODO.fireEvent(promoCodeEl.button,'click',function(){promoCodeEl.input.setAttribute("style",'color:#ffffff !important;');setTimeout(function(){UNIQODO.changePromoCode(promoCodeEl.input);promoCodeEl.input.setAttribute("style",'color:#000000;')},800);if(UNIQODO.displaysTriggerCode){UNIQODO.repeat("removeTriggerCodePresence",UNIQODO.removeTriggerCodePresence,150,100)}})}catch(evx){promoCodeEl.input.setAttribute("style",promoCodeEl.inputStyle)}})}};UNIQODO.installListeners=function(){UNIQODO.removeTriggerCodePresence();if(window.uniqodoMatchedEls.input.uqdInstalled||(UNIQODO.installed&&!UNIQODO.isAsyncPromoForm)){return}
UNIQODO.installed=!0;window.uniqodoMatchedEls.input.uqdInstalled=!0;UNIQODO.changePromoCode(window.uniqodoMatchedEls.input);if(UNIQODO.getItem(UNIQODO.codeParam)){window.uniqodoMatchedEls.input.value=UNIQODO.getItem(UNIQODO.codeParam);window.uniqodoMatchedEls.button.removeAttribute('disabled');var noDisabledCls=window.uniqodoMatchedEls.button.getAttribute("class").replace('btn-disabled','');window.uniqodoMatchedEls.button.setAttribute('class',noDisabledCls);UNIQODO.removeItem(UNIQODO.codeParam)}
window.addEventListener("click",UNIQODO.handlePromoCodeSubmission,!0);window.uniqodoMatchedEls.input.addEventListener("keypress",UNIQODO.promoCodeEnterKeyPressHandler,!0);return !1};UNIQODO.bootstrap=function(){UNIQODO.initialize();UNIQODO.removeTriggerCodePresence();if(UNIQODO.isOrderConfirmationPage()){UNIQODO.recordCodeRedemption(UNIQODO.getItem(UNIQODO.validatedCodeCookie))}else if(UNIQODO.getPromoCodeElements()){UNIQODO.installEventHandlers()}
UNIQODO.handleAsyncInstall();UNIQODO.legacyAsyncListener()};if(UNIQODO.liveMode)UNIQODO.removeTriggerCodePresence();onDomReady(function(){try{UNIQODO.modeCheck();if(!UNIQODO.liveMode){return !1}
UNIQODO.bootstrap()}catch(e){UNIQODO.report(e)}})})()