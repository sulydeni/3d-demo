Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),t=this,o=function(){},i=function(){return t.apply(this instanceof o&&e?this:e,n.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,i.prototype=new o,i}),function(e){"use strict";function n(n,t,o){"addEventListener"in e?n.addEventListener(t,o,!1):"attachEvent"in e&&n.attachEvent("on"+t,o)}function t(n,t,o){"removeEventListener"in e?n.removeEventListener(t,o,!1):"detachEvent"in e&&n.detachEvent("on"+t,o)}function o(){var n,t=["moz","webkit","o","ms"];for(n=0;n<t.length&&!H;n+=1)H=e[t[n]+"RequestAnimationFrame"];H||c("setup","RequestAnimationFrame not supported")}function i(n){var t="Host page: "+n;return e.top!==e.self&&(t=e.parentIFrame&&e.parentIFrame.getId?e.parentIFrame.getId()+": "+n:"Nested host page: "+n),t}function r(e){return N+"["+i(e)+"]"}function a(e){return P[e]?P[e].log:T}function c(e,n){d("log",e,n,a(e))}function s(e,n){d("info",e,n,a(e))}function l(e,n){d("warn",e,n,!0)}function d(n,t,o,i){!0===i&&"object"==typeof e.console&&console[n](r(t),o)}function u(o){function i(){function e(){y(Y),g(X)}a("Height"),a("Width"),b(e,Y,"init")}function r(){var e=U.substr(A).split(":");return{iframe:P[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function a(e){var n=Number(P[X]["max"+e]),t=Number(P[X]["min"+e]),o=e.toLowerCase(),i=Number(Y[o]);c(X,"Checking "+o+" is in range "+t+"-"+n),t>i&&(i=t,c(X,"Set "+o+" to min value")),i>n&&(i=n,c(X,"Set "+o+" to max value")),Y[o]=""+i}function d(){function e(){function e(){var e=0,o=!1;for(c(X,"Checking connection is from allowed list of origins: "+t);e<t.length;e++)if(t[e]===n){o=!0;break}return o}function o(){var e=P[X].remoteHost;return c(X,"Checking connection is from: "+e),n===e}return t.constructor===Array?e():o()}var n=o.origin,t=P[X].checkOrigin;if(t&&""+n!="null"&&!e())throw new Error("Unexpected message received from: "+n+" for "+Y.iframe.id+". Message was: "+o.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function u(){return N===(""+U).substr(0,A)&&U.substr(A).split(":")[0]in P}function E(){var e=Y.type in{"true":1,"false":1,undefined:1};return e&&c(X,"Ignoring init message from meta parent page"),e}function S(e){return U.substr(U.indexOf(":")+z+e)}function C(e){c(X,"MessageCallback passed: {iframe: "+Y.iframe.id+", message: "+e+"}"),H("messageCallback",{iframe:Y.iframe,message:JSON.parse(e)}),c(X,"--")}function x(){var n=document.body.getBoundingClientRect(),t=Y.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,e.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,e.innerWidth||0),offsetTop:parseInt(t.top-n.top,10),offsetLeft:parseInt(t.left-n.left,10),scrollTop:e.pageYOffset,scrollLeft:e.pageXOffset})}function M(e,n){function t(){w("Send Page Info","pageInfo:"+x(),e,n)}L(t,32)}function I(){function o(n,t){function o(){P[a]?M(P[a].iframe,a):i()}["scroll","resize"].forEach(function(i){c(a,n+i+" listener for sendPageInfo"),t(e,i,o)})}function i(){o("Remove ",t)}function r(){o("Add ",n)}var a=X;r(),P[a].stopPageInfo=i}function R(){P[X]&&P[X].stopPageInfo&&(P[X].stopPageInfo(),delete P[X].stopPageInfo)}function q(){var e=!0;return null===Y.iframe&&(l(X,"IFrame ("+Y.id+") not found"),e=!1),e}function F(e){var n=e.getBoundingClientRect();return v(X),{x:Math.floor(Number(n.left)+Number(O.x)),y:Math.floor(Number(n.top)+Number(O.y))}}function T(n){function t(){O=a,W(),c(X,"--")}function o(){return{x:Number(Y.width)+r.x,y:Number(Y.height)+r.y}}function i(){e.parentIFrame?e.parentIFrame["scrollTo"+(n?"Offset":"")](a.x,a.y):l(X,"Unable to scroll to requested position, window.parentIFrame not found")}var r=n?F(Y.iframe):{x:0,y:0},a=o();c(X,"Reposition requested from iFrame (offset x:"+r.x+" y:"+r.y+")"),e.top!==e.self?i():t()}function W(){!1!==H("scrollCallback",O)?g(X):p()}function _(n){function t(){var e=F(a);c(X,"Moving to in page link (#"+i+") at x: "+e.x+" y: "+e.y),O={x:e.x,y:e.y},W(),c(X,"--")}function o(){e.parentIFrame?e.parentIFrame.moveToAnchor(i):c(X,"In page link #"+i+" not found and window.parentIFrame not found")}var i=n.split("#")[1]||"",r=decodeURIComponent(i),a=document.getElementById(r)||document.getElementsByName(r)[0];a?t():e.top!==e.self?o():c(X,"In page link #"+i+" not found")}function H(e,n){return f(X,e,n)}function B(){switch(P[X].firstRun&&J(),Y.type){case"close":m(Y.iframe);break;case"message":C(S(6));break;case"scrollTo":T(!1);break;case"scrollToOffset":T(!0);break;case"pageInfo":M(P[X].iframe,X),I();break;case"pageInfoStop":R();break;case"inPageLink":_(S(9));break;case"reset":h(Y);break;case"init":i(),H("initCallback",Y.iframe),H("resizedCallback",Y);break;default:i(),H("resizedCallback",Y)}}function j(e){var n=!0;return P[e]||(n=!1,l(Y.type+" No settings for "+e+". Message was: "+U)),n}function V(){for(var e in P)w("iFrame requested init",k(e),document.getElementById(e),e)}function J(){P[X].firstRun=!1}var U=o.data,Y={},X=null;"[reevooiFrameResizerChild]Ready"===U?V():u()?(Y=r(),X=D=Y.id,!E()&&j(X)&&(c(X,"Received: "+U),q()&&d()&&B())):s(X,"Ignored: "+U)}function f(e,n,t){var o=null,i=null;if(P[e]){if(o=P[e][n],"function"!=typeof o)throw new TypeError(n+" on iFrame["+e+"] is not a function");i=o(t)}return i}function m(e){var n=e.id;c(n,"Removing iFrame: "+n),e.parentNode.removeChild(e),f(n,"closedCallback",n),c(n,"--"),delete P[n]}function v(n){null===O&&(O={x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop},c(n,"Get page position: "+O.x+","+O.y))}function g(n){null!==O&&(e.scrollTo(O.x,O.y),c(n,"Set page position: "+O.x+","+O.y),p())}function p(){O=null}function h(e){function n(){y(e),w("reset","reset",e.iframe,e.id)}c(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),v(e.id),b(n,e,"reset")}function y(e){function n(n){e.iframe.style[n]=e[n]+"px",c(e.id,"IFrame ("+i+") "+n+" set to "+e[n]+"px")}function t(n){W||"0"!==e[n]||(W=!0,c(i,"Hidden iFrame detected, creating visibility listener"),S())}function o(e){n(e),t(e)}var i=e.iframe.id;P[i]&&(P[i].sizeHeight&&o("height"),P[i].sizeWidth&&o("width"))}function b(e,n,t){t!==n.type&&H?(c(n.id,"Requesting animation frame"),H(e)):e()}function w(e,n,t,o){function i(){var i=P[o].targetOrigin;c(o,"["+e+"] Sending msg to iframe["+o+"] ("+n+") targetOrigin: "+i),t.contentWindow.postMessage(N+n,i)}function r(){s(o,"["+e+"] IFrame("+o+") not found"),P[o]&&delete P[o]}function a(){t&&"contentWindow"in t&&null!==t.contentWindow?i():r()}o=o||t.id,P[o]&&a()}function k(e){return e+":"+P[e].bodyMarginV1+":"+P[e].sizeWidth+":"+P[e].log+":"+P[e].interval+":"+P[e].enablePublicMethods+":"+P[e].autoResize+":"+P[e].bodyMargin+":"+P[e].heightCalculationMethod+":"+P[e].bodyBackground+":"+P[e].bodyPadding+":"+P[e].tolerance+":"+P[e].inPageLinks+":"+P[e].resizeFrom+":"+P[e].widthCalculationMethod}function E(e,t){function o(){function n(n){1/0!==P[E][n]&&0!==P[E][n]&&(e.style[n]=P[E][n]+"px",c(E,"Set "+n+" = "+P[E][n]+"px"))}function t(e){if(P[E]["min"+e]>P[E]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}function i(){var e=t&&t.id||V.id+F++;return null!==document.getElementById(e)&&(e+=F++),e}function r(n){return D=n,""===n&&(e.id=n=i(),T=(t||{}).log,D=n,c(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}function a(){c(E,"IFrame scrolling "+(P[E].scrolling?"enabled":"disabled")+" for "+E),e.style.overflow=!1===P[E].scrolling?"hidden":"auto",e.scrolling=!1===P[E].scrolling?"no":"yes"}function s(){("number"==typeof P[E].bodyMargin||"0"===P[E].bodyMargin)&&(P[E].bodyMarginV1=P[E].bodyMargin,P[E].bodyMargin=""+P[E].bodyMargin+"px")}function d(){var n=P[E].firstRun,t=P[E].heightCalculationMethod in B;!n&&t&&h({iframe:e,height:0,width:0,type:"init"})}function u(){Function.prototype.bind&&(P[E].iframe.reevooiFrameResizer={close:m.bind(null,P[E].iframe),resize:w.bind(null,"Window resize","resize",P[E].iframe),moveToAnchor:function(e){w("Move to anchor","inPageLink:"+e,P[E].iframe,E)},sendMessage:function(e){e=JSON.stringify(e),w("Send Message","message:"+e,P[E].iframe,E)}})}function f(t){function o(){w("iFrame.onload",t,e),d()}n(e,"load",o),w("init",t,e)}function v(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function g(e){for(var n in V)V.hasOwnProperty(n)&&(P[E][n]=e.hasOwnProperty(n)?e[n]:V[n])}function p(e){return""===e||"file://"===e?"*":e}function y(n){n=n||{},P[E]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},v(n),g(n),P[E].targetOrigin=!0===P[E].checkOrigin?p(P[E].remoteHost):"*"}function b(){return E in P&&"reevooiFrameResizer"in e}var E=r(e.id);b()?l(E,"Ignored iFrame, already setup."):(y(t),a(),o(),s(),f(k(E)),u())}function L(e,n){null===j&&(j=setTimeout(function(){j=null,e()},n))}function S(){function n(){function e(e){function n(n){return"0px"===P[e].iframe.style[n]}function t(e){return null!==e.offsetParent}t(P[e].iframe)&&(n("height")||n("width"))&&w("Visibility change","resize",P[e].iframe,e)}for(var n in P)e(n)}function t(e){c("window","Mutation observed: "+e[0].target+" "+e[0].type),L(n,16)}function o(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},o=new i(t);o.observe(e,n)}var i=e.MutationObserver||e.WebKitMutationObserver;i&&o()}function C(e){function n(){M("Window "+e,"resize")}c("window","Trigger event: "+e),L(n,16)}function x(){function e(){M("Tab Visable","resize")}"hidden"!==document.visibilityState&&(c("document","Trigger event: Visiblity change"),L(e,16))}function M(e,n){function t(e){return"parent"===P[e].resizeFrom&&P[e].autoResize&&!P[e].firstRun}for(var o in P)t(o)&&w(e,n,document.getElementById(o),o)}function I(){n(e,"message",u),n(e,"resize",function(){C("resize")}),n(document,"visibilitychange",x),n(document,"-webkit-visibilitychange",x),n(e,"focusin",function(){C("focus")}),n(e,"focus",function(){C("focus")})}function R(){function e(e,t){function o(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}t&&(o(),E(t,e),n.push(t))}var n;return o(),I(),function(t,o){switch(n=[],typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),e.bind(void 0,t));break;case"object":e(t,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return n}}function q(e){e.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,t){E(t,e)}).end()}}var F=0,T=!1,W=!1,_="message",z=_.length,N="[iFrameSizer]",A=N.length,O=null,H=e.requestAnimationFrame,B={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},P={},j=null,D="Host Page",V={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"reevooiFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){l("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};e.jQuery&&q(jQuery),e.reevooiFrameResize=e.reevooiFrameResize||R()}(window||{}),window.addEventListener||(window.addEventListener=function(e,n){window.attachEvent("on"+e,n)}),Object.defineProperty(Element.prototype,"documentOffsetTop",{configurable:!0,get:function(){return this.offsetTop+(this.offsetParent?this.offsetParent.documentOffsetTop:0)}}),ReevooEmbeddedApi=function(e,n,t,o,i,r,a){"use strict";function c(){s.iframeResize(),s.monitorScrollingMenu(),s.setEmbeddedStyles(),setInterval(function(){s.setEmbeddedStyles()},500),"function"==typeof loadReevooAjaxConversations&&loadReevooAjaxConversations(s),s.setDividers(),reevooCheckDataCalls.addDoneCallback(s.setDividers)}var s=this,l=!1,d=!!document.getElementById("reevoomark-v1-5"),u=(!!document.querySelector("reevoo-embedded-product-reviews"),document.getElementById("embedded-reviews-container")),f=window.screen.height<=575||window.screen.width<=575;s.loadReviewsPage=function(e){var n=s.getWindowLocation();n=m(n,"page",e),s.setWindowLocation(n)},s.loadAjaxReviewsPage=function(e,n){s.getEmbeddedData(e,n,function(){if(d){var e=document.querySelector(".reevoomark div.count-summary h3.filter-qualifier");if(e){var n=document.querySelector("span.filter.reviews-from select"),t=e.querySelector("span.filter-qualifier-text"),o=n.selectedIndex;0!==o?(t.innerHTML=" "+n.options[o].text,e.classList.remove("hidden")):(e.classList.add("hidden"),t.innerHTML=" ")}}s.setDividers()})},s.getEmbeddedData=function(e,n,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(s.replaceDiv(o.responseText,n),t&&t())},o.open("get",e,!0),o.send(null)},s.replaceDiv=function(e,n){u=n?s.getEmbeddedContainer(n):document.getElementById("embedded-reviews-container");var t=document.implementation.createHTMLDocument("parser");t.documentElement.innerHTML=e;var o=t.querySelector(".no-reviews");if(o)s.replaceWithNoReviews(o,u);else{var i=t.getElementById("embedded-reviews-container"),r=t.getElementById("reevoo-ajax-in-reviews"),a=t.getElementById("reevoo-ajax-in-conversations"),c=document.importNode(i,!0);u.parentNode.replaceChild(c,u),c.scrollIntoView(),null!==r&&s.embedJavascript(r),null!==a&&(s.embedJavascript(a),loadReevooAjaxConversations(s)),v(),h(),l=!1}},s.replaceWithNoReviews=function(e,n){var t=n.getElementsByClassName("review"),o=t[0].parentNode,i=n.querySelector(".pagination"),r=n.querySelector(".filtered-count.summary");for(i.parentNode.removeChild(i),r.parentNode.removeChild(r);t[0];){var a=t[0];a.parentNode.removeChild(a)}var c=document.importNode(e,!0);o.appendChild(e),c.scrollIntoView()},s.getEmbeddedContainer=function(e){for(var n="embedded-reviews-container";e&&e!==document;)if(e=e.parentNode,e.id===n)return e;return!1},s.embedJavascript=function(e){e=e.text;var n=document.createElement("script");n.type="text/javascript",n.text=e;var t=document.getElementsByTagName("head")[0];t.insertBefore(n,t.firstChild)},s.changeParameter=function(e,n){var t=s.getWindowLocation();t=m(t,e,n),t=m(t,"page",1),s.setWindowLocation(t)},s.getWindowLocation=function(){return window.location.href},s.setWindowLocation=function(e){window.location.href=e};var m=function(e,n,t){var o=e.split("#"),i=o[0].indexOf("reevoomark/")>-1?n:"reevoo_"+n,r=new RegExp("(([?&])("+i+"=[^&]*))"),a=o[0].match(r);return a?o[0]=o[0].replace(a[1],a[2]+i+"="+t):(o[0].indexOf("?")<0?o[0]+="?":o[0]+="&",o[0]+=i+"="+t),e=o[0],e+"#reevoo_embedded_reviews"};s.toggleScore=function(e){var n,t,o;if(d){n=e.parentElement.parentElement.parentElement,t=n.querySelector(".score-breakdown, .service-score-breakdown"),o=!t.classList.contains("score-visible"),o?(t.style.display="block",t.classList.add("score-visible"),t.classList.remove("score-hidden")):(t.classList.add("score-hidden"),t.classList.remove("score-visible"),setTimeout(function(){t.style.display="none"},600));var i=t.previousElementSibling.querySelector(".v1-5.toggle-score-breakdown.show"),r=t.previousElementSibling.querySelector(".v1-5.toggle-score-breakdown.hide");o?(i.classList.add("hidden"),r.classList.remove("hidden")):(i.classList.remove("hidden"),r.classList.add("hidden"));var a=document.querySelectorAll(".v1-5.toggle-score-breakdown.show.hidden"),c=document.querySelectorAll(".v1-5.toggle-score-breakdown.hide.hidden"),u=0===a.length,f=0===c.length;(l&&u||!l&&f)&&s.toggleAllScores()}else n=e.parentElement.parentElement,t=n.querySelector(".score-breakdown, .service-score-breakdown"),o="none"===t.style.display,t.style.display=o?"block":"none"},s.toggleAllScores=function(e){function n(e){e.style.display="none"}for(var t,o,i,r=document.querySelectorAll(".score-breakdown, .service-score-breakdown"),a=0;a<r.length;a++)d?(l?(r[a].classList.remove("score-visible"),r[a].classList.add("score-hidden"),setTimeout(n.bind(null,r[a]),600)):(r[a].style.display="block",r[a].classList.add("score-visible"),r[a].classList.remove("score-hidden")),t=r[a].previousElementSibling,o=t.querySelector(".v1-5.toggle-score-breakdown.show"),i=t.querySelector(".v1-5.toggle-score-breakdown.hide"),l?(o.classList.remove("hidden"),i.classList.add("hidden")):(o.classList.add("hidden"),i.classList.remove("hidden"))):r[a].style.display=l?"none":"block";if(d){var c=document.querySelector(".v1-5.hide-all.all-scores"),s=document.querySelector(".v1-5.show-all.all-scores");l?(c.classList.add("hidden"),s.classList.remove("hidden")):(c.classList.remove("hidden"),s.classList.add("hidden"))}return l=!l,!1};var v=function(){for(var e=document.querySelector("#reevoomark .show-all.all-scores, #reevoomark .show-all-service-reviews-details, #reevoomark-v1-5 .show-all.all-scores, #reevoomark-v1-5 .show-all-service-reviews-details"),n=function(){return s.toggleScore(this)},t=document.querySelectorAll("#reevoomark .retailer_review .toggle-score-breakdown, #reevoomark-v1-5 .retailer_review .toggle-score-breakdown"),o=t.length;o--;)t[o].onclick=n;e&&(e.onclick=s.toggleAllScores)},g=function(e){var n=this,t=n.querySelector(".show-more"),o=n.querySelectorAll(".toggleable");this.classList.toggle("shaded-supplementary-info"),"none"==t.style.display?s.show(t):("block"==t.style.display||""==t.style.display)&&s.hide(t),s.each(o,function(e){"none"==e.style.display||""==e.style.display?s.show(e,"list-item"):s.hide(e)})},p=function(e){var n=this,t=n.querySelector(".show-more"),o=n.querySelectorAll(".toggleable");this.classList.toggle("shaded-supplementary-info"),t.classList.contains("more")?(t.classList.remove("more"),t.classList.add("less")):(t.classList.remove("less"),t.classList.add("more")),s.each(o,function(e){e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")})},h=function(){var e=document.querySelectorAll(".supplementary-info-entry .supplementary-info");s.onMultiple(e,"click",d?p:g)};return s.setDividers=function(){var e=document.querySelector("article.review.last");e&&e.classList.remove("last");var n=document.querySelectorAll("article.review");n.length>0&&n[n.length-1].classList.add("last")},s.photoLoaded=function(e){var n=e.naturalWidth>e.naturalHeight?"landscape":"portrait",t=e.parentElement.parentElement.parentElement;t&&t.classList.add(n)},s.photoToggleExpand=function(e){var n=e.parentElement.parentElement.parentElement;if(f){var t=document.querySelector("body > .photo-frame");if(t)document.body.removeChild(t);else{var o=n.querySelector(".photo-frame"),i=o.cloneNode(!0);document.body.appendChild(i),i.addEventListener("touchmove",function(e){e.preventDefault()},!1)}}else n.classList.toggle("expanded")},s.on=function(e,n,t){var o=function(n){return n||(n=window.event),!1===t.call(e,n)?(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1):void 0};e.attachEvent?e.attachEvent("on"+n,o):e.addEventListener(n,o,!1)},s.onMultiple=function(e,n,t){var o=s;s.each(e,function(e){o.on(e,n,t)})},s.hide=function(e){e.style.display="none"},s.show=function(e,n){e.style.display=n||"block"},s.each=function(e,n){var t=0,o=e.length;for(t=0;o>t;t++)n(e[t])},s.vote=function(e,n,t){var o=e.parentNode,i=o.querySelector("span.upvote.thumb"),r=o.querySelector("span.downvote.thumb"),a=o.querySelector("span.message"),c=i.onclick,l=r.onclick;i.onclick=null,r.onclick=null,s.jsonpCall(t,function(e,t){e.success?(o.classList.remove("vote"),o.classList.add("voted-"+n)):(i.onclick=c,r.onclick=l),a.innerHTML=e.message},e)},s.upvote=function(e,n){n.parentNode.parentNode.innerHTML=e.message},s.downvote=function(e,n){n.parentNode.parentNode.innerHTML=e.message},s.jsonpCall=function(e,n,t){function o(e){var o="jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(e){delete window[o],document.body.removeChild(i),n(e,t)};var i=document.createElement("script");i.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(i)}o(e,function(e){callbackName(e)})},s.loadAjaxConversation=function(e,n,t){function o(e,n){n.innerHTML=e}s.jsonpCall(n,o,document.getElementById(t))},s.getInputValue=function(e,n){return e.querySelector("input[name='"+n+"']").getAttribute("value")},s.searchConversations=function(e){var n=e.querySelector("input[name='search']");if(n){var t=n.value,o=s.getInputValue(e,"per_page"),i=s.getInputValue(e,"sku"),r=s.getInputValue(e,"trkref"),a=s.getInputValue(e,"lightbox_1_5_aao"),c=s.getInputValue(e,"current_url"),l=["page=1","show_search_form=true","lightbox_1_5_aao="+a,"per_page="+o,"sku="+i,"trkref="+r,"search="+encodeURIComponent(t)].join("&");a?window.location.href=c+"?"+l+"&tab=ask_an_owner":ReevooApi.load(r,function(n){ReevooEmbedded.loadAjaxReviewsPage(n.config.embedded_conversations_url+"?"+l,e)})}},s.allConversations=function(e){var n=e.parentElement.parentElement,t=n.querySelector("input[name='search']");t.value="",s.searchConversations(n)},s.setEmbeddedStyles=function(){var e=document.getElementById("embedded-reviews-container");if("undefined"!=typeof e&&e){var n=s.checkContainerWidth(e);n.add.forEach(function(n){e.classList.add(n)}),n.remove.forEach(function(n){e.classList.remove(n)})}},s.checkContainerWidth=function(e){var n=Math.min(e.offsetWidth,s.getBrowserWindowWidth()),t=["extralarge","large","medium","small","mobile","tiny"],o=1;if(d)switch(!0){case 375>=n:o=5;break;case 576>=n:o=4;break;case 991>=n:o=3;break;case n>=1200:o=1;break;case n>=992:o=2}else switch(o=2,!0){case 300>=n:o=6;break;case 470>=n:o=5;break;case 530>=n:o=4;break;case 590>=n:o=3}return{add:t.slice(0,o),remove:t.slice(o)}},s.getBrowserWindowWidth=function(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth},s.Tracking=function(){if(!i){var e=this;e.reevooMark=null;var o="product_reviews"===t?!0:!1,c=!1,s=null,l=0,d=!1,u=!1;e.trackClickThrough=function(e){d||(d=!0,o?E(e):L(e))},e.isClickThroughRecorded=function(){return d};var f=function(){setInterval(y,500),window.addEventListener("beforeunload",function(e){w(),S()}),window.addEventListener("blur",function(e){C(),w()}),window.addEventListener("focus",function(e){x(),y()}),v(),h()},m=function(){return e.reevooMark?!0:(e.reevooMark=window["ReevooMark_"+n],!!e.reevooMark)},g=function(){var e=document.getElementById("reevoomark");if(e){var n=e.documentOffsetTop,t=n+e.getBoundingClientRect().height;return window.scrollY+window.innerHeight>n&&window.scrollY<t}},p=function(){return"number"==typeof a?a:1},y=function(){m()&&!u&&(k()>p()&&!d&&e.trackClickThrough("scroll"),g()?b():w())},b=function(){c||(c=!0,s=Date.now())},w=function(){c&&(c=!1,l+=Date.now()-s)},k=function(){return c?(l+(Date.now()-s))/1e3:l/1e3},E=function(n){var t={badge_variant:"scroll"==n?"embedded_scroll":"embedded_click"};e.reevooMark.track_click_through(r,null,t)},L=function(n){var t={badge_type:"overall",badge_variant:"scroll"==n?"embedded_scroll":"embedded_click"};e.reevooMark.retailerBadge.trackClickThrough(t)},S=function(){k()<p()||e.reevooMark.track_reviews_watch_time(r,M(),k())},C=function(){u=!0},x=function(){u=!1},M=function(){return"embedded_"+(o?"product_reviews":"cx_reviews")};return f(),e}}.call(this),s.iframeResize=function(){"undefined"!=typeof window.reevooiFrameResize&&window.reevooiFrameResize({checkOrigin:!1,bodyMargin:0,heightCalculationMethod:"bodyScroll"},".reevoomark-conversations-iframe")},s.monitorScrollingMenu=function(){function e(){var e=0;return r.forEach(function(n){e+=n.offsetWidth,e+=parseInt(getComputedStyle(n).marginRight)}),e+=60}function n(){return window.innerWidth-126-16-22-22}function t(){e()>n()?(a.classList.add("scroll-menu"),i.classList.add("scroll-menu")):(a.classList.remove("scroll-menu"),i.classList.remove("scroll-menu"))}function o(){i=a.querySelector("div.nav-wrapper"),i&&(r=i.querySelectorAll("nav ol li"),window.addEventListener("resize",t),t(),a.classList.add("js-control"),i.classList.add("js-control"))}var i,r,a=document.querySelector("#reevoomark-v1-5");d&&o()},c(),s},"function"==typeof initReevooEmbeddedApi&&initReevooEmbeddedApi();