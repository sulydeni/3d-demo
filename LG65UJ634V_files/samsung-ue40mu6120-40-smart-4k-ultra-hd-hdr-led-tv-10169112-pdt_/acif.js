/**
 * Automaton Customer Interface Framework
 * Version: 3.0.23
 * Release Date: 11/13/2017
 * (c) Nuance (http://www.nuance.com)
 */

var loader,define,requireModule,require,requirejs;!function(t){"use strict";function e(){l={define:0,require:0,reify:0,findDeps:0,modules:0,exports:0,resolve:0,resolveRelative:0,findModule:0,pendingQueueLength:0},requirejs._stats=l}function n(t){throw new Error("an unsupported module was defined, expected `define(name, deps, module)` instead got: `"+t+"` arguments to define`")}function i(t,e,n,i){l.modules++,this.id=p++,this.name=t,this.deps=!e.length&&n.length?m:e,this.module={exports:{}},this.callback=n,this.finalized=!1,this.hasExportsAsDep=!1,this.isAlias=i,this.reified=new Array(e.length),this._foundDeps=!1,this.isPending=!1}function o(t){this.name=t}function r(t,e){throw new Error("Could not find module `"+t+"` imported from `"+e+"`")}function a(t,e,n){l.findModule++;for(var i=f[t]||f[t+"/index"];i&&i.isAlias;)i=f[i.name];return i||r(t,e),!n||i.finalized||i.isPending||(i.findDeps(n),n.push(i),l.pendingQueueLength++),i}function s(t,e){if(l.resolve++,"."!==t.charAt(0))return t;l.resolveRelative++;for(var n=t.split("/"),i=e.split("/"),o=i.slice(0,-1),r=0,a=n.length;r<a;r++){var s=n[r];if(".."===s){if(0===o.length)throw new Error("Cannot access parent module of root");o.pop()}else{if("."===s)continue;o.push(s)}}return o.join("/")}function u(t){return!(!f[t]&&!f[t+"/index"])}var l,c={loader:loader,define:define,requireModule:requireModule,require:require,requirejs:requirejs};requirejs=require=requireModule=function(t){l.require++;for(var e=[],n=a(t,"(require)",e),i=e.length-1;i>=0;i--)e[i].exports();return n.module.exports},e(),loader={noConflict:function(e){var n,i;for(n in e)e.hasOwnProperty(n)&&c.hasOwnProperty(n)&&(i=e[n],t[i]=t[n],t[n]=c[n])}};var d;d=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var f={},h={},p=0,m=["require","exports","module"];i.prototype.makeDefaultExport=function(){var t=this.module.exports;null===t||"object"!=typeof t&&"function"!=typeof t||void 0!==t.default||(t.default=t)},i.prototype.exports=function(){if(this.finalized)return this.module.exports;l.exports++,this.finalized=!0,this.isPending=!1,loader.wrapModules&&(this.callback=loader.wrapModules(this.name,this.callback)),this.reify();var t=this.callback.apply(this,this.reified);return this.hasExportsAsDep&&void 0===t||(this.module.exports=t),this.makeDefaultExport(),this.module.exports},i.prototype.unsee=function(){this.finalized=!1,this._foundDeps=!1,this.isPending=!1,this.module={exports:{}}},i.prototype.reify=function(){l.reify++;for(var t=this.reified,e=0;e<t.length;e++){var n=t[e];t[e]=n.exports?n.exports:n.module.exports()}},i.prototype.findDeps=function(t){if(!this._foundDeps){l.findDeps++,this._foundDeps=!0,this.isPending=!0;for(var e=this.deps,n=0;n<e.length;n++){var i=e[n],o=this.reified[n]={exports:void 0,module:void 0};"exports"===i?(this.hasExportsAsDep=!0,o.exports=this.module.exports):"require"===i?o.exports=this.makeRequire():"module"===i?o.exports=this.module:o.module=a(s(i,this.name),this.name,t)}}},i.prototype.makeRequire=function(){var t=this.name,e=function(e){return require(s(e,t))};return e.default=e,e.has=function(e){return u(s(e,t))},e},define=function(t,e,r){l.define++,arguments.length<2&&n(arguments.length),d(e)||(r=e,e=[]),f[t]=r instanceof o?new i(r.name,e,r,!0):new i(t,e,r,!1)},define.petal={},define.alias=function(t){return new o(t)},requirejs.entries=requirejs._eak_seen=f,requirejs.has=u,requirejs.unsee=function(t){a(t,"(unsee)",!1).unsee()},requirejs.clear=function(){e(),requirejs.entries=requirejs._eak_seen=f={},h={}},define("foo",function(){}),define("foo/bar",[],function(){}),define("foo/asdf",["module","exports","require"],function(t,e,n){n.has("foo/bar")&&n("foo/bar")}),define("foo/baz",[],define.alias("foo")),define("foo/quz",define.alias("foo")),define("foo/bar",["foo","./quz","./baz","./asdf","./bar","../foo"],function(){}),define("foo/main",["foo/bar"],function(){}),require("foo/main"),require.unsee("foo/bar"),requirejs.clear(),"object"==typeof exports&&"object"==typeof module&&module.exports&&(module.exports={require:require,define:define})}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){var t,e=Array,n=e.prototype,i=Object,o=i.prototype,r=Function.prototype,a=String,s=a.prototype,u=Number,l=u.prototype,c=n.slice,d=n.splice,f=n.push,h=n.unshift,p=n.concat,m=r.call,v=Math.max,g=Math.min,y=o.toString,b="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,w=Function.prototype.toString,x=function(t){try{return w.call(t),!0}catch(t){return!1}};t=function(t){if("function"!=typeof t)return!1;if(b)return x(t);var e=y.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e};var _,A=RegExp.prototype.exec,C=function(t){try{return A.call(t),!0}catch(t){return!1}};_=function(t){return"object"==typeof t&&(b?C(t):"[object RegExp]"===y.call(t))};var T,E=String.prototype.valueOf,k=function(t){try{return E.call(t),!0}catch(t){return!1}};T=function(t){return"string"==typeof t||"object"==typeof t&&(b?k(t):"[object String]"===y.call(t))};var S=function(t){var e,n=i.defineProperty&&function(){try{var t={};i.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}();return e=n?function(t,e,n,o){!o&&e in t||i.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,i){!i&&e in t||(t[e]=n)},function(n,i,o){for(var r in i)t.call(i,r)&&e(n,r,i[r],o)}}(o.hasOwnProperty),I=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},N=u.isNaN||function(t){return t!==t},D={ToInteger:function(t){var e=+t;return N(e)?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(e){var n,i,o;if(I(e))return e;if(i=e.valueOf,t(i)&&(n=i.call(e),I(n)))return n;if(o=e.toString,t(o)&&(n=o.call(e),I(n)))return n;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return i(t)},ToUint32:function(t){return t>>>0}},$=function(){};S(r,{bind:function(e){var n=this;if(!t(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,r=c.call(arguments,1),a=function(){if(this instanceof o){var t=n.apply(this,p.call(r,c.call(arguments)));return i(t)===t?t:this}return n.apply(e,p.call(r,c.call(arguments)))},s=v(0,n.length-r.length),u=[],l=0;l<s;l++)f.call(u,"$"+l);return o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this, arguments); }")(a),n.prototype&&($.prototype=n.prototype,o.prototype=new $,$.prototype=null),o}});var F=m.bind(o.hasOwnProperty),j=m.bind(o.toString),q=m.bind(s.slice),O=m.bind(s.split),M=e.isArray||function(t){return"[object Array]"===j(t)},P=1!==[].unshift(0);S(n,{unshift:function(){return h.apply(this,arguments),this.length}},P),S(e,{isArray:M});var L=i("a"),R="a"!==L[0]||!(0 in L),H=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,i){"object"!=typeof i&&(e=!1)}),t.call([1],function(){"use strict";n="string"==typeof this},"x")),!!t&&e&&n};S(n,{forEach:function(e){var n,i=D.ToObject(this),o=R&&T(this)?O(this,""):i,r=-1,a=D.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<a;)r in o&&(void 0===n?e(o[r],r,i):e.call(n,o[r],r,i))}},!H(n.forEach)),S(n,{map:function(n){var i,o=D.ToObject(this),r=R&&T(this)?O(this,""):o,a=D.ToUint32(r.length),s=e(a);if(arguments.length>1&&(i=arguments[1]),!t(n))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;u<a;u++)u in r&&(s[u]=void 0===i?n(r[u],u,o):n.call(i,r[u],u,o));return s}},!H(n.map)),S(n,{filter:function(e){var n,i,o=D.ToObject(this),r=R&&T(this)?O(this,""):o,a=D.ToUint32(r.length),s=[];if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;u<a;u++)u in r&&(n=r[u],(void 0===i?e(n,u,o):e.call(i,n,u,o))&&f.call(s,n));return s}},!H(n.filter)),S(n,{every:function(e){var n,i=D.ToObject(this),o=R&&T(this)?O(this,""):i,r=D.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<r;a++)if(a in o&&!(void 0===n?e(o[a],a,i):e.call(n,o[a],a,i)))return!1;return!0}},!H(n.every)),S(n,{some:function(e){var n,i=D.ToObject(this),o=R&&T(this)?O(this,""):i,r=D.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<r;a++)if(a in o&&(void 0===n?e(o[a],a,i):e.call(n,o[a],a,i)))return!0;return!1}},!H(n.some));var B=!1;n.reduce&&(B="object"==typeof n.reduce.call("es5",function(t,e,n,i){return i})),S(n,{reduce:function(e){var n=D.ToObject(this),i=R&&T(this)?O(this,""):n,o=D.ToUint32(i.length);if(!t(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a++];break}if(++a>=o)throw new TypeError("reduce of empty array with no initial value")}for(;a<o;a++)a in i&&(r=e(r,i[a],a,n));return r}},!B);var V=!1;n.reduceRight&&(V="object"==typeof n.reduceRight.call("es5",function(t,e,n,i){return i})),S(n,{reduceRight:function(e){var n=D.ToObject(this),i=R&&T(this)?O(this,""):n,o=D.ToUint32(i.length);if(!t(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=o-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return r;do{a in i&&(r=e(r,i[a],a,n))}while(a--);return r}},!V);var z=n.indexOf&&-1!==[0,1].indexOf(1,2);S(n,{indexOf:function(t){var e=R&&T(this)?O(this,""):D.ToObject(this),n=D.ToUint32(e.length);if(0===n)return-1;var i=0;for(arguments.length>1&&(i=D.ToInteger(arguments[1])),i=i>=0?i:v(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}},z);var W=n.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);S(n,{lastIndexOf:function(t){var e=R&&T(this)?O(this,""):D.ToObject(this),n=D.ToUint32(e.length);if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=g(i,D.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}},W);var U=function(){var t=[1,2],e=t.splice();return 2===t.length&&M(e)&&0===e.length}();S(n,{splice:function(t,e){return 0===arguments.length?[]:d.apply(this,arguments)}},!U);var J=function(){var t={};return n.splice.call(t,0,0,1),1===t.length}();S(n,{splice:function(t,e){if(0===arguments.length)return[];var n=arguments;return this.length=v(D.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(n=c.call(arguments),n.length<2?f.call(n,this.length-t):n[1]=D.ToInteger(e)),d.apply(this,n)}},!J);var Q=function(){var t=new e(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),X=function(){var t=[];return t[256]="a",t.splice(257,0,"b"),"a"===t[256]}();S(n,{splice:function(t,e){for(var n,i=D.ToObject(this),o=[],r=D.ToUint32(i.length),s=D.ToInteger(t),u=s<0?v(r+s,0):g(s,r),l=g(v(D.ToInteger(e),0),r-u),d=0;d<l;)n=a(u+d),F(i,n)&&(o[d]=i[n]),d+=1;var f,h=c.call(arguments,2),p=h.length;if(p<l){for(d=u;d<r-l;)n=a(d+l),f=a(d+p),F(i,n)?i[f]=i[n]:delete i[f],d+=1;for(d=r;d>r-l+p;)delete i[d-1],d-=1}else if(p>l)for(d=r-l;d>u;)n=a(d+l-1),f=a(d+p-1),F(i,n)?i[f]=i[n]:delete i[f],d-=1;d=u;for(var m=0;m<h.length;++m)i[d]=h[m],d+=1;return i.length=r-l+p,o}},!Q||!X);var G=!{toString:null}.propertyIsEnumerable("toString"),K=function(){}.propertyIsEnumerable("prototype"),Y=!F("x","0"),Z=function(t){var e=t.constructor;return e&&e.prototype===t},tt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},et=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!tt["$"+t]&&F(window,t)&&null!==window[t]&&"object"==typeof window[t]&&Z(window[t])}catch(t){return!0}return!1}(),nt=function(t){if("undefined"==typeof window||!et)return Z(t);try{return Z(t)}catch(t){return!1}},it=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ot=it.length,rt=function(t){return"[object Arguments]"===j(t)},at=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!M(e)&&t(e.callee)},st=rt(arguments)?rt:at;S(i,{keys:function(e){var n=t(e),i=st(e),o=null!==e&&"object"==typeof e,r=o&&T(e);if(!o&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=[],u=K&&n;if(r&&Y||i)for(var l=0;l<e.length;++l)f.call(s,a(l));if(!i)for(var c in e)u&&"prototype"===c||!F(e,c)||f.call(s,a(c));if(G)for(var d=nt(e),h=0;h<ot;h++){var p=it[h];d&&"constructor"===p||!F(e,p)||f.call(s,p)}return s}});var ut=i.keys&&function(){return 2===i.keys(arguments).length}(1,2),lt=i.keys&&function(){var t=i.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),ct=i.keys;S(i,{keys:function(t){return ct(st(t)?c.call(t):t)}},!ut||lt);var dt=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),ft=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();S(Date.prototype,{toISOString:function(){var t,e,n,i,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),o=this.getUTCMonth(),i+=Math.floor(o/12),o=(o%12+12)%12,t=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(i<0?"-":i>9999?"+":"")+q("00000"+Math.abs(i),0<=i&&i<=9999?-4:-6),e=t.length;e--;)(n=t[e])<10&&(t[e]="0"+n);return i+"-"+c.call(t,0,2).join("-")+"T"+c.call(t,2).join(":")+"."+q("000"+this.getUTCMilliseconds(),-3)+"Z"}},dt||ft),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}()||(Date.prototype.toJSON=function(e){var n=i(this),o=D.ToPrimitive(n);if("number"==typeof o&&!isFinite(o))return null;var r=n.toISOString;if(!t(r))throw new TypeError("toISOString property is not callable");return r.call(n)});var ht=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),pt=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||pt||!ht){var mt=Math.pow(2,31)-1,vt=(Math.floor(mt/1e3),N(new Date(1970,0,1,0,0,0,mt+1).getTime()));Date=function(t){var e=function(n,i,o,r,s,u,l){var c,d=arguments.length;if(this instanceof t){var f=u,h=l;if(vt&&d>=7&&l>mt){var p=Math.floor(l/mt)*mt,m=Math.floor(p/1e3);f+=m,h-=1e3*m}c=1===d&&a(n)===n?new t(e.parse(n)):d>=7?new t(n,i,o,r,s,f,h):d>=6?new t(n,i,o,r,s,f):d>=5?new t(n,i,o,r,s):d>=4?new t(n,i,o,r):d>=3?new t(n,i,o):d>=2?new t(n,i):d>=1?new t(n):new t}else c=t.apply(this,arguments);return I(c)||S(c,{constructor:e},!0),c},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(t,e){var n=e>1?1:0;return i[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)},r=function(e){var n=0,i=e;if(vt&&i>mt){var o=Math.floor(i/mt)*mt,r=Math.floor(o/1e3);n+=r,i-=1e3*r}return u(new t(1970,0,1,0,0,n,i))};for(var s in t)F(t,s)&&(e[s]=t[s]);return S(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,S(e.prototype,{constructor:e},!0),S(e,{parse:function(e){var i=n.exec(e);if(i){var a,s=u(i[1]),l=u(i[2]||1)-1,c=u(i[3]||1)-1,d=u(i[4]||0),f=u(i[5]||0),h=u(i[6]||0),p=Math.floor(1e3*u(i[7]||0)),m=Boolean(i[4]&&!i[8]),v="-"===i[9]?1:-1,g=u(i[10]||0),y=u(i[11]||0);return d<(f>0||h>0||p>0?24:25)&&f<60&&h<60&&p<1e3&&l>-1&&l<12&&g<24&&y<60&&c>-1&&c<o(s,l+1)-o(s,l)&&(a=60*(24*(o(s,l)+c)+d+g*v),a=1e3*(60*(a+f+y*v)+h)+p,m&&(a=r(a)),-864e13<=a&&a<=864e13)?a:NaN}return t.parse.apply(this,arguments)}}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var gt=l.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),yt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var n=-1,i=e;++n<yt.size;)i+=t*yt.data[n],yt.data[n]=i%yt.base,i=Math.floor(i/yt.base)},divide:function(t){for(var e=yt.size,n=0;--e>=0;)n+=yt.data[e],yt.data[e]=Math.floor(n/t),n=n%t*yt.base},numToString:function(){for(var t=yt.size,e="";--t>=0;)if(""!==e||0===t||0!==yt.data[t]){var n=a(yt.data[t]);""===e?e=n:e+=q("0000000",0,7-n.length)+n}return e},pow:function t(e,n,i){return 0===n?i:n%2==1?t(e,n-1,i*e):t(e*e,n/2,i)},log:function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}};S(l,{toFixed:function(t){var e,n,i,o,r,s,l,c;if(e=u(t),(e=N(e)?0:Math.floor(e))<0||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=u(this),N(n))return"NaN";if(n<=-1e21||n>=1e21)return a(n);if(i="",n<0&&(i="-",n=-n),o="0",n>1e-21)if(r=yt.log(n*yt.pow(2,69,1))-69,s=r<0?n*yt.pow(2,-r,1):n/yt.pow(2,r,1),s*=4503599627370496,(r=52-r)>0){for(yt.multiply(0,s),l=e;l>=7;)yt.multiply(1e7,0),l-=7;for(yt.multiply(yt.pow(10,l,1),0),l=r-1;l>=23;)yt.divide(1<<23),l-=23;yt.divide(1<<l),yt.multiply(1,1),yt.divide(2),o=yt.numToString()}else yt.multiply(0,s),yt.multiply(1<<-r,0),o=yt.numToString()+q("0.00000000000000000000",2,2+e);return e>0?(c=o.length,o=c<=e?i+q("0.0000000000000000000",0,e-c+2)+o:i+q(o,0,c-e)+"."+q(o,c-e)):o=i+o,o}},gt),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1],e=Math.pow(2,32)-1;s.split=function(n,i){var o=this;if(void 0===n&&0===i)return[];if(!_(n))return O(this,n,i);var r,a,s,u,l=[],d=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),h=0,p=new RegExp(n.source,d+"g");o+="",t||(r=new RegExp("^"+p.source+"$(?!\\s)",d));var m=void 0===i?e:D.ToUint32(i);for(a=p.exec(o);a&&!((s=a.index+a[0].length)>h&&(f.call(l,q(o,h,a.index)),!t&&a.length>1&&a[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<o.length&&f.apply(l,c.call(a,1)),u=a[0].length,h=s,l.length>=m));)p.lastIndex===a.index&&p.lastIndex++,a=p.exec(o);return h===o.length?!u&&p.test("")||f.call(l,""):f.call(l,q(o,h)),l.length>m?arraySlice(l,0,m):l}}():"0".split(void 0,0).length&&(s.split=function(t,e){return void 0===t&&0===e?[]:O(this,t,e)});var bt=s.replace;(function(){var t=[];return"x".replace(/x(.)?/g,function(e,n){f.call(t,n)}),1===t.length&&void 0===t[0]})()||(s.replace=function(e,n){var i=t(n),o=_(e)&&/\)[*?]/.test(e.source);if(i&&o){var r=function(t){var i=arguments.length,o=e.lastIndex;e.lastIndex=0;var r=e.exec(t)||[];return e.lastIndex=o,f.call(r,arguments[i-2],arguments[i-1]),n.apply(this,r)};return bt.call(this,e,r)}return bt.call(this,e,n)});var wt=s.substr,xt="".substr&&"b"!=="0b".substr(-1);S(s,{substr:function(t,e){var n=t;return t<0&&(n=v(this.length+t,0)),wt.call(this,n,e)}},xt);var _t="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",At="​",Ct="["+_t+"]",Tt=new RegExp("^"+Ct+Ct+"*"),Et=new RegExp(Ct+Ct+"*$"),kt=s.trim&&(_t.trim()||!At.trim());S(s,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return a(this).replace(Tt,"").replace(Et,"")}},kt),8===parseInt(_t+"08")&&22===parseInt(_t+"0x16")||(parseInt=function(t){var e=/^0[xX]/;return function(n,i){var o=a(n).trim(),r=u(i)||(e.test(o)?16:10);return t(o,r)}}(parseInt))}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=it.type(t);return"function"!==n&&!it.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(dt.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return it.inArray(t,e)>=0!==n})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e=yt[t]={};return it.each(t.match(gt)||[],function(t,n){e[n]=!0}),e}function a(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(a(),it.ready())}function u(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(At,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_t.test(n)?it.parseJSON(n):n)}catch(t){}it.data(t,e,n)}else n=void 0}return n}function l(t){var e;for(e in t)if(("data"!==e||!it.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(it.acceptData(t)){var o,r,a=it.expando,s=t.nodeType,u=s?it.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof e)return l||(l=s?t[a]=Q.pop()||it.guid++:a),u[l]||(u[l]=s?{}:{toJSON:it.noop}),"object"!=typeof e&&"function"!=typeof e||(i?u[l]=it.extend(u[l],e):u[l].data=it.extend(u[l].data,e)),r=u[l],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[it.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[it.camelCase(e)]):o=r,o}}function d(t,e,n){if(it.acceptData(t)){var i,o,r=t.nodeType,a=r?it.cache:t,s=r?t[it.expando]:it.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){it.isArray(e)?e=e.concat(it.map(e,it.camelCase)):e in i?e=[e]:(e=it.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!l(i):!it.isEmptyObject(i))return}(n||(delete a[s].data,l(a[s])))&&(r?it.cleanData([t],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function h(){return!1}function p(){try{return ht.activeElement}catch(t){}}function m(t){var e=jt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,o=0,r=typeof t.getElementsByTagName!==xt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xt?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||it.nodeName(i,e)?r.push(i):it.merge(r,v(i,e));return void 0===e||e&&it.nodeName(t,e)?it.merge([t],r):r}function g(t){St.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==it.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)it._data(n,"globalEval",!e||it._data(e[i],"globalEval"))}function _(t,e){if(1===e.nodeType&&it.hasData(t)){var n,i,o,r=it._data(t),a=it._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;i<o;i++)it.event.add(e,n,s[n][i])}a.data&&(a.data=it.extend({},a.data))}}function A(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[it.expando]){o=it._data(e);for(i in o.events)it.removeEvent(e,i,o.handle);e.removeAttribute(it.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!it.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&St.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function C(e,n){var i,o=it(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:it.css(o[0],"display");return o.detach(),r}function T(t){var e=ht,n=Kt[t];return n||(n=C(t,e),"none"!==n&&n||(Gt=(Gt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Gt[0].contentWindow||Gt[0].contentDocument).document,e.write(),e.close(),n=C(t,e),Gt.detach()),Kt[t]=n),n}function E(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=ce.length;o--;)if((e=ce[o]+n)in t)return e;return i}function S(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(r[a]=it._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Et(i)&&(r[a]=it._data(i,"olddisplay",T(i.nodeName)))):(o=Et(i),(n&&"none"!==n||!o)&&it._data(i,"olddisplay",o?n:it.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function I(t,e,n){var i=ae.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function N(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=it.css(t,n+Tt[r],!0,o)),i?("content"===n&&(a-=it.css(t,"padding"+Tt[r],!0,o)),"margin"!==n&&(a-=it.css(t,"border"+Tt[r]+"Width",!0,o))):(a+=it.css(t,"padding"+Tt[r],!0,o),"padding"!==n&&(a+=it.css(t,"border"+Tt[r]+"Width",!0,o)));return a}function D(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Yt(t),a=nt.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(o=Zt(t,e,r),(o<0||null==o)&&(o=t.style[e]),ee.test(o))return o;i=a&&(nt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+N(t,e,n||(a?"border":"content"),i,r)+"px"}function $(t,e,n,i,o){return new $.prototype.init(t,e,n,i,o)}function F(){return setTimeout(function(){de=void 0}),de=it.now()}function j(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)n=Tt[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function q(t,e,n){for(var i,o=(ge[e]||[]).concat(ge["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function O(t,e,n){var i,o,r,a,s,u,l,c=this,d={},f=t.style,h=t.nodeType&&Et(t),p=it._data(t,"fxshow");n.queue||(s=it._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,it.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=it.css(t,"display"),"inline"===("none"===l?it._data(t,"olddisplay")||T(t.nodeName):l)&&"none"===it.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],he.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;h=!0}d[i]=p&&p[i]||it.style(t,i)}else l=void 0;if(it.isEmptyObject(d))"inline"===("none"===l?T(t.nodeName):l)&&(f.display=l);else{p?"hidden"in p&&(h=p.hidden):p=it._data(t,"fxshow",{}),r&&(p.hidden=!h),h?it(t).show():c.done(function(){it(t).hide()}),c.done(function(){var e;it._removeData(t,"fxshow");for(e in d)it.style(t,e,d[e])});for(i in d)a=q(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function M(t,e){var n,i,o,r,a;for(n in t)if(i=it.camelCase(n),o=e[i],r=t[n],it.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=it.cssHooks[i])&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function P(t,e,n){var i,o,r=0,a=ve.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=de||F(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,r=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(r);return s.notifyWith(t,[l,r,n]),r<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:de||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=it.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(M(c,l.opts.specialEasing);r<a;r++)if(i=ve[r].call(l,t,c,l.opts))return i;return it.map(c,q,l),it.isFunction(l.opts.start)&&l.opts.start.call(t,l),it.fx.timer(it.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(gt)||[];if(it.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function R(t,e,n,i){function o(s){var u;return r[s]=!0,it.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||r[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),u}var r={},a=t===He;return o(e.dataTypes[0])||!r["*"]&&o("*")}function H(t,e){var n,i,o=it.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&it.extend(!0,t,n),t}function B(t,e,n){for(var i,o,r,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){u.unshift(a);break}if(u[0]in n)r=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==u[0]&&u.unshift(r),n[r]}function V(t,e,n,i){var o,r,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=c.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(!(a=l[u+" "+r]||l["* "+r]))for(o in l)if(s=o.split(" "),s[1]===r&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}function z(t,e,n,i){var o;if(it.isArray(e))it.each(e,function(e,o){n||ze.test(t)?i(t,o):z(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==it.type(e))i(t,e);else for(o in e)z(t+"["+o+"]",e[o],n,i)}function W(){try{return new t.XMLHttpRequest}catch(t){}}function U(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function J(t){return it.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var Q=[],X=Q.slice,G=Q.concat,K=Q.push,Y=Q.indexOf,Z={},tt=Z.toString,et=Z.hasOwnProperty,nt={},it=function(t,e){return new it.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,at=/-([\da-z])/gi,st=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:"1.11.2",constructor:it,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return it.each(this,t,e)},map:function(t){
return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:Q.sort,splice:Q.splice},it.extend=it.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],n=o[i],a!==n&&(l&&n&&(it.isPlainObject(n)||(e=it.isArray(n)))?(e?(e=!1,r=t&&it.isArray(t)?t:[]):r=t&&it.isPlainObject(t)?t:{},a[i]=it.extend(l,r,n)):void 0!==n&&(a[i]=n));return a},it.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray||function(t){return"array"===it.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!it.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&it.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(rt,"ms-").replace(at,st)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o=0,r=t.length,a=n(t);if(i){if(a)for(;o<r&&!1!==e.apply(t[o],i);o++);else for(o in t)if(!1===e.apply(t[o],i))break}else if(a)for(;o<r&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?it.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Y)return Y.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,i){var o,r=0,a=t.length,s=n(t),u=[];if(s)for(;r<a;r++)null!=(o=e(t[r],r,i))&&u.push(o);else for(r in t)null!=(o=e(t[r],r,i))&&u.push(o);return G.apply([],u)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(o=t[e],e=t,t=o),it.isFunction(t))return n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||it.guid++,i},now:function(){return+new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var o,r,a,s,l,d,f,h,p,m;if((e?e.ownerDocument||e:P)!==N&&I(e),e=e||N,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&$){if(11!==s&&(o=vt.exec(t)))if(a=o[1]){if(9===s){if(!(r=e.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&O(e,r)&&r.id===a)return n.push(r),n}else{if(o[2])return G.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&b.getElementsByClassName)return G.apply(n,e.getElementsByClassName(a)),n}if(b.qsa&&(!F||!F.test(t))){if(h=f=M,p=e,m=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(d=A(t),(f=e.getAttribute("id"))?h=f.replace(yt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=d.length;l--;)d[l]=h+c(d[l]);p=gt.test(t)&&u(e.parentNode)||e,m=d.join(",")}if(m)try{return G.apply(n,p.querySelectorAll(m)),n}catch(t){}finally{f||e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[M]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||W)-(~t.sourceIndex||W);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function c(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=R++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,u,l=[L,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(u=e[M]||(e[M]={}),(s=u[i])&&s[0]===L&&s[1]===r)return l[2]=s[2];if(u[i]=l,l[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function h(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function p(t,e,n,i,o){for(var r,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),l&&e.push(s)));return a}function m(t,e,n,o,r,a){return o&&!o[M]&&(o=m(o)),r&&!r[M]&&(r=m(r,a)),i(function(i,a,s,u){var l,c,d,f=[],m=[],v=a.length,g=i||h(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?g:p(g,f,t,s,u),b=n?r||(i?t:v||o)?[]:a:y;if(n&&n(y,b,s,u),o)for(l=p(b,m),o(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[m[c]]=!(y[m[c]]=d));if(i){if(r||t){if(r){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);r(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=r?Y(i,d):f[c])>-1&&(i[l]=!(a[l]=d))}}else b=p(b===a?b.splice(v,b.length):b),r?r(null,a,b,u):G.apply(a,b)})}function v(t){for(var e,n,i,o=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],s=r?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return Y(e,t)>-1},a,!0),h=[function(t,n,i){var o=!r&&(i||n!==E)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,o}];s<o;s++)if(n=w.relative[t[s].type])h=[d(f(h),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[M]){for(i=++s;i<o&&!w.relative[t[i].type];i++);return m(s>1&&f(h),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),n,s<i&&v(t.slice(s,i)),i<o&&v(t=t.slice(i)),i<o&&c(t))}h.push(n)}return f(h)}function g(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,u,l){var c,d,f,h=0,m="0",v=i&&[],g=[],y=E,b=i||r&&w.find.TAG("*",l),x=L+=null==y?1:Math.random()||.1,_=b.length;for(l&&(E=a!==N&&a);m!==_&&null!=(c=b[m]);m++){if(r&&c){for(d=0;f=t[d++];)if(f(c,a,s)){u.push(c);break}l&&(L=x)}o&&((c=!f&&c)&&h--,i&&v.push(c))}if(h+=m,o&&m!==h){for(d=0;f=n[d++];)f(v,g,a,s);if(i){if(h>0)for(;m--;)v[m]||g[m]||(g[m]=Q.call(u));g=p(g)}G.apply(u,g),l&&!i&&g.length>0&&h+n.length>1&&e.uniqueSort(u)}return l&&(L=x,E=y),v};return o?i(a):a}var y,b,w,x,_,A,C,T,E,k,S,I,N,D,$,F,j,q,O,M="sizzle"+1*new Date,P=t.document,L=0,R=0,H=n(),B=n(),V=n(),z=function(t,e){return t===e&&(S=!0),0},W=1<<31,U={}.hasOwnProperty,J=[],Q=J.pop,X=J.push,G=J.push,K=J.slice,Y=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+tt+"*\\]",ot=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),ut=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){I()};try{G.apply(J=K.call(P.childNodes),P.childNodes),J[P.childNodes.length].nodeType}catch(t){G={apply:J.length?function(t,e){X.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:P;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,D=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),$=!_(i),b.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=mt.test(i.getElementsByClassName),b.getById=o(function(t){return D.appendChild(t).id=M,!i.getElementsByName||!i.getElementsByName(M).length}),b.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&$){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.CLASS=b.getElementsByClassName&&function(t,e){if($)return e.getElementsByClassName(t)},j=[],F=[],(b.qsa=mt.test(i.querySelectorAll))&&(o(function(t){D.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+M+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||F.push(".#.+[+~]")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(b.matchesSelector=mt.test(q=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(t){b.disconnectedMatch=q.call(t,"div"),q.call(t,"[s!='']:x"),j.push("!=",ot)}),F=F.length&&new RegExp(F.join("|")),j=j.length&&new RegExp(j.join("|")),e=mt.test(D.compareDocumentPosition),O=e||mt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return S=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===P&&O(P,t)?-1:e===i||e.ownerDocument===P&&O(P,e)?1:k?Y(k,t)-Y(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return S=!0,0;var n,o=0,r=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:k?Y(k,t)-Y(k,e):0;if(r===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[o]===l[o];)o++;return o?a(u[o],l[o]):u[o]===P?-1:l[o]===P?1:0},i):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&I(t),n=n.replace(lt,"='$1']"),b.matchesSelector&&$&&(!j||!j.test(n))&&(!F||!F.test(n)))try{var i=q.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&I(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&I(t);var n=w.attrHandle[e.toLowerCase()],i=n&&U.call(w.attrHandle,e.toLowerCase())?n(t,e,!$):void 0;return void 0!==i?i:b.attributes||!$?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(S=!b.detectDuplicates,k=!b.sortStable&&t.slice(0),t.sort(z),S){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return k=null,t},x=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",v=e.parentNode,g=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(v){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(c=v[M]||(v[M]={}),l=c[t]||[],h=l[0]===L&&l[1],f=l[0]===L&&l[2],d=h&&v.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===e){c[t]=[L,h,f];break}}else if(y&&(l=(e[M]||(e[M]={}))[t])&&l[0]===L)f=l[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++f||(y&&((d[M]||(d[M]={}))[t]=[L,f]),d!==e)););return(f-=o)===i||f%i==0&&f/i>=0}}},PSEUDO:function(t,n){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[M]?r(n):r.length>1?(o=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)i=Y(t,o[a]),t[i]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=C(t.replace(at,"$1"));return o[M]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do{if(n=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ht.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,A=e.tokenize=function(t,n){var i,o,r,a,s,u,l,c=B[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){i&&!(o=st.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(r=[])),i=!1,(o=ut.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(at," ")}),s=s.slice(i.length));for(a in w.filter)!(o=ft[a].exec(s))||l[a]&&!(o=l[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):B(t,u).slice(0)},C=e.compile=function(t,e){var n,i=[],o=[],r=V[t+" "];if(!r){for(e||(e=A(t)),n=e.length;n--;)r=v(e[n]),r[M]?i.push(r):o.push(r);r=V(t,g(o,i)),r.selector=t}return r},T=e.select=function(t,e,n,i){var o,r,a,s,l,d="function"==typeof t&&t,f=!i&&A(t=d.selector||t);if(n=n||[],1===f.length){if(r=f[0]=f[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&b.getById&&9===e.nodeType&&$&&w.relative[r[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(bt,wt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(bt,wt),gt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&c(r)))return G.apply(n,i),n;break}}return(d||C(t,f))(i,e,!$,n,gt.test(t)&&u(e.parentNode)||e),n},b.sortStable=M.split("").sort(z).join("")===M,b.detectDuplicates=!!S,I(),b.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(Z,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);it.find=ut,it.expr=ut.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ut.uniqueSort,it.text=ut.getText,it.isXMLDoc=ut.isXML,it.contains=ut.contains;var lt=it.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;it.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?it.find.matchesSelector(i,t)?[i]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;e<o;e++)if(it.contains(i[e],this))return!0}));for(e=0;e<o;e++)it.find(t,i[e],n);return n=this.pushStack(o>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&lt.test(t)?it(t):t||[],!1).length}});var ft,ht=t.document,pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(it.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ft).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ht,!0)),ct.test(n[1])&&it.isPlainObject(e))for(n in e)it.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=ht.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ft.find(t);this.length=1,this[0]=i}return this.context=ht,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?void 0!==ft.ready?ft.ready(t):t(it):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))}).prototype=it.fn,ft=it(ht);var mt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!it(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),it.fn.extend({has:function(t){var e,n=it(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(it.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=lt.test(t)||"string"!=typeof t?it(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?it.unique(r):r)},index:function(t){return t?"string"==typeof t?it.inArray(this[0],it(t)):it.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.unique(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return it.dir(t,"parentNode")},parentsUntil:function(t,e,n){return it.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return it.dir(t,"nextSibling")},prevAll:function(t){return it.dir(t,"previousSibling")},nextUntil:function(t,e,n){return it.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return it.dir(t,"previousSibling",n)},siblings:function(t){return it.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return it.sibling(t.firstChild)},contents:function(t){return it.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,i){var o=it.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=it.filter(i,o)),this.length>1&&(vt[t]||(o=it.unique(o)),mt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var gt=/\S+/g,yt={};it.Callbacks=function(t){t="string"==typeof t?yt[t]||r(t):it.extend({},t);var e,n,i,o,a,s,u=[],l=!t.once&&[],c=function(r){for(n=t.memory&&r,i=!0,a=s||0,s=0,o=u.length,e=!0;u&&a<o;a++)if(!1===u[a].apply(r[0],r[1])&&t.stopOnFalse){n=!1;break}e=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var i=u.length;!function e(n){it.each(n,function(n,i){var o=it.type(i);"function"===o?t.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==o&&e(i)})}(arguments),e?o=u.length:n&&(s=i,c(n))}return this},remove:function(){return u&&it.each(arguments,function(t,n){for(var i;(i=it.inArray(n,u,i))>-1;)u.splice(i,1),e&&(i<=o&&o--,i<=a&&a--)}),this},has:function(t){return t?it.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(t,n){return!u||i&&!l||(n=n||[],n=[t,n.slice?n.slice():n],e?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,r){var a=it.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,i):i}},o={};return i.pipe=i.then,it.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=X.call(arguments),a=r.length,s=1!==a||t&&it.isFunction(t.promise)?a:0,u=1===s?t:it.Deferred(),l=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?X.call(arguments):o,i===e?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&it.isFunction(r[o].promise)?r[o].promise().done(l(o,i,r)).fail(u.reject).progress(l(o,n,e)):--s;return s||u.resolveWith(i,r),u.promise()}});var bt;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){if(!0===t?!--it.readyWait:!it.isReady){if(!ht.body)return setTimeout(it.ready);it.isReady=!0,!0!==t&&--it.readyWait>0||(bt.resolveWith(ht,[it]),it.fn.triggerHandler&&(it(ht).triggerHandler("ready"),it(ht).off("ready")))}}}),it.ready.promise=function(e){if(!bt)if(bt=it.Deferred(),"complete"===ht.readyState)setTimeout(it.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{ht.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&ht.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}a(),it.ready()}}()}return bt.promise(e)};var wt,xt="undefined";for(wt in it(nt))break;nt.ownLast="0"!==wt,nt.inlineBlockNeedsLayout=!1,it(function(){var t,e,n,i;(n=ht.getElementsByTagName("body")[0])&&n.style&&(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(t){nt.deleteExpando=!1}}t=null}(),it.acceptData=function(t){var e=it.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,At=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?it.cache[t[it.expando]]:t[it.expando])&&!l(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),it.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=it.data(r),1===r.nodeType&&!it._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=it.camelCase(i.slice(5)),u(r,i,o[i])));it._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){it.data(this,t)}):arguments.length>1?this.each(function(){it.data(this,t,e)}):r?u(r,t,it.data(r,t)):void 0},removeData:function(t){return this.each(function(){it.removeData(this,t)})}}),it.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=it._data(t,e),n&&(!i||it.isArray(n)?i=it._data(t,e,it.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),i=n.length,o=n.shift(),r=it._queueHooks(t,e),a=function(){it.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return it._data(t,n)||it._data(t,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(t,e+"queue"),it._removeData(t,n)})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):void 0===e?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=it.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),
t=t||"fx";a--;)(n=it._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},kt=it.access=function(t,e,n,i,o,r,a){var s=0,u=t.length,l=null==n;if("object"===it.type(n)){o=!0;for(s in n)it.access(t,e,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,it.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(it(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:l?e.call(t):u?e(t[0],n):r},St=/^(?:checkbox|radio)$/i;!function(){var t=ht.createElement("input"),e=ht.createElement("div"),n=ht.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}}(),function(){var e,n,i=ht.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var It=/^(?:input|select|textarea)$/i,Nt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,$t=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(t,e,n,i,o){var r,a,s,u,l,c,d,f,h,p,m,v=it._data(t);if(v){for(n.handler&&(u=n,n=u.handler,o=u.selector),n.guid||(n.guid=it.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||(c=v.handle=function(t){return typeof it===xt||t&&it.event.triggered===t.type?void 0:it.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(gt)||[""],s=e.length;s--;)r=Ft.exec(e[s])||[],h=m=r[1],p=(r[2]||"").split(".").sort(),h&&(l=it.event.special[h]||{},h=(o?l.delegateType:l.bindType)||h,l=it.event.special[h]||{},d=it.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&it.expr.match.needsContext.test(o),namespace:p.join(".")},u),(f=a[h])||(f=a[h]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(h,c,!1):t.attachEvent&&t.attachEvent("on"+h,c))),l.add&&(l.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[h]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,u,l,c,d,f,h,p,m,v=it.hasData(t)&&it._data(t);if(v&&(c=v.events)){for(e=(e||"").match(gt)||[""],l=e.length;l--;)if(s=Ft.exec(e[l])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=it.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=r=f.length;r--;)a=f[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(r,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(t,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,p,v.handle)||it.removeEvent(t,h,v.handle),delete c[h])}else for(h in c)it.event.remove(t,h+e[l],n,i,!0);it.isEmptyObject(c)&&(delete v.handle,it._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,a,s,u,l,c,d,f=[i||ht],h=et.call(e,"type")?e.type:e,p=et.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||ht,3!==i.nodeType&&8!==i.nodeType&&!$t.test(h+it.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[it.expando]?e:new it.Event(h,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:it.makeArray(n,[e]),l=it.event.special[h]||{},o||!l.trigger||!1!==l.trigger.apply(i,n))){if(!o&&!l.noBubble&&!it.isWindow(i)){for(u=l.delegateType||h,$t.test(u+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(i.ownerDocument||ht)&&f.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=f[d++])&&!e.isPropagationStopped();)e.type=d>1?u:l.bindType||h,r=(it._data(s,"events")||{})[e.type]&&it._data(s,"handle"),r&&r.apply(s,n),(r=a&&s[a])&&r.apply&&it.acceptData(s)&&(e.result=r.apply(s,n),!1===e.result&&e.preventDefault());if(e.type=h,!o&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(f.pop(),n))&&it.acceptData(i)&&a&&i[h]&&!it.isWindow(i)){c=i[a],c&&(i[a]=null),it.event.triggered=h;try{i[h]()}catch(t){}it.event.triggered=void 0,c&&(i[a]=c)}return e.result}},dispatch:function(t){t=it.event.fix(t);var e,n,i,o,r,a=[],s=X.call(arguments),u=(it._data(this,"events")||{})[t.type]||[],l=it.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=it.event.handlers.call(this,t,u),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,void 0!==(n=((it.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(o=[],r=0;r<s;r++)i=e[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?it(n,this).index(u)>=0:it.find(n,this,null,[u]).length),o[n]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[it.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Dt.test(o)?this.mouseHooks:Nt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new it.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=r.srcElement||ht),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ht,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(it.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=it.extend(new it.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?it.event.trigger(o,null,e):it.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=ht.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===xt&&(t[i]=null),t.detachEvent(i,n))},it.Event=function(t,e){if(!(this instanceof it.Event))return new it.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?f:h):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),this[it.expando]=!0},it.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||it.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){if(it.nodeName(this,"form"))return!1;it.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=it.nodeName(e,"input")||it.nodeName(e,"button")?e.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&it.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(it.nodeName(this,"form"))return!1;it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){if(It.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(it.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,t,!0)})),!1;it.event.add(this,"beforeactivate._change",function(t){var e=t.target;It.test(e.nodeName)&&!it._data(e,"changeBubbles")&&(it.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||it.event.simulate("change",this.parentNode,t,!0)}),it._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return it.event.remove(this,"._change"),!It.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t),!0)};it.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=it._data(i,e);o||i.addEventListener(t,n,!0),it._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=it._data(i,e)-1;o?it._data(i,e,o):(i.removeEventListener(t,n,!0),it._removeData(i,e))}}}),it.fn.extend({on:function(t,e,n,i,o){var r,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(r in t)this.on(r,e,n,t[r],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=h;else if(!i)return this;return 1===o&&(a=i,i=function(t){return it().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,it(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=h),this.each(function(){it.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return it.event.trigger(t,e,n,!0)}});var jt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Ot=new RegExp("<(?:"+jt+")[\\s/>]","i"),Mt=/^\s+/,Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Rt=/<tbody/i,Ht=/<|&#?\w+;/,Bt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^$|\/(?:java|ecma)script/i,Wt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(ht),Xt=Qt.appendChild(ht.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,it.extend({clone:function(t,e,n){var i,o,r,a,s,u=it.contains(t.ownerDocument,t);if(nt.html5Clone||it.isXMLDoc(t)||!Ot.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Xt.innerHTML=t.outerHTML,Xt.removeChild(r=Xt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(i=v(r),s=v(t),a=0;null!=(o=s[a]);++a)i[a]&&A(o,i[a]);if(e)if(n)for(s=s||v(t),i=i||v(r),a=0;null!=(o=s[a]);a++)_(o,i[a]);else _(t,r);return i=v(r,"script"),i.length>0&&x(i,!u&&v(t,"script")),i=s=o=null,r},buildFragment:function(t,e,n,i){for(var o,r,a,s,u,l,c,d=t.length,f=m(e),h=[],p=0;p<d;p++)if((r=t[p])||0===r)if("object"===it.type(r))it.merge(h,r.nodeType?[r]:r);else if(Ht.test(r)){for(s=s||f.appendChild(e.createElement("div")),u=(Lt.exec(r)||["",""])[1].toLowerCase(),c=Jt[u]||Jt._default,s.innerHTML=c[1]+r.replace(Pt,"<$1></$2>")+c[2],o=c[0];o--;)s=s.lastChild;if(!nt.leadingWhitespace&&Mt.test(r)&&h.push(e.createTextNode(Mt.exec(r)[0])),!nt.tbody)for(r="table"!==u||Rt.test(r)?"<table>"!==c[1]||Rt.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)it.nodeName(l=r.childNodes[o],"tbody")&&!l.childNodes.length&&r.removeChild(l);for(it.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(e.createTextNode(r));for(s&&f.removeChild(s),nt.appendChecked||it.grep(v(h,"input"),g),p=0;r=h[p++];)if((!i||-1===it.inArray(r,i))&&(a=it.contains(r.ownerDocument,r),s=v(f.appendChild(r),"script"),a&&x(s),n))for(o=0;r=s[o++];)zt.test(r.type||"")&&n.push(r);return s=null,f},cleanData:function(t,e){for(var n,i,o,r,a=0,s=it.expando,u=it.cache,l=nt.deleteExpando,c=it.event.special;null!=(n=t[a]);a++)if((e||it.acceptData(n))&&(o=n[s],r=o&&u[o])){if(r.events)for(i in r.events)c[i]?it.event.remove(n,i):it.removeEvent(n,i,r.handle);u[o]&&(delete u[o],l?delete n[s]:typeof n.removeAttribute!==xt?n.removeAttribute(s):n[s]=null,Q.push(o))}}}),it.fn.extend({text:function(t){return kt(this,function(t){return void 0===t?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?it.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||it.cleanData(v(n)),n.parentNode&&(e&&it.contains(n.ownerDocument,n)&&x(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&it.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&it.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(qt,""):void 0;if("string"==typeof t&&!Bt.test(t)&&(nt.htmlSerialize||!Ot.test(t))&&(nt.leadingWhitespace||!Mt.test(t))&&!Jt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Pt,"<$1></$2>");try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(it.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,it.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,i,o,r,a,s,u=0,l=this.length,c=this,d=l-1,f=t[0],h=it.isFunction(f);if(h||l>1&&"string"==typeof f&&!nt.checkClone&&Vt.test(f))return this.each(function(n){var i=c.eq(n);h&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(l&&(s=it.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=it.map(v(s,"script"),b),o=r.length;u<l;u++)i=s,u!==d&&(i=it.clone(i,!0,!0),o&&it.merge(r,v(i,"script"))),e.call(this[u],i,u);if(o)for(a=r[r.length-1].ownerDocument,it.map(r,w),u=0;u<o;u++)i=r[u],zt.test(i.type||"")&&!it._data(i,"globalEval")&&it.contains(a,i)&&(i.src?it._evalUrl&&it._evalUrl(i.src):it.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ut,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,i=0,o=[],r=it(t),a=r.length-1;i<=a;i++)n=i===a?this:this.clone(!0),it(r[i])[e](n),K.apply(o,n.get());return this.pushStack(o)}});var Gt,Kt={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return(n=ht.getElementsByTagName("body")[0])&&n.style?(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==xt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ht.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Yt,Zt,te=/^margin/,ee=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),ne=/^(top|right|bottom|left)$/;t.getComputedStyle?(Yt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},Zt=function(t,e,n){var i,o,r,a,s=t.style;return n=n||Yt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||it.contains(t.ownerDocument,t)||(a=it.style(t,e)),ee.test(a)&&te.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):ht.documentElement.currentStyle&&(Yt=function(t){return t.currentStyle},Zt=function(t,e,n){var i,o,r,a,s=t.style;return n=n||Yt(t),a=n?n[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ee.test(a)&&!ne.test(e)&&(i=s.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,n,i,o;(n=ht.getElementsByTagName("body")[0])&&n.style&&(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,u=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,o=e.appendChild(ht.createElement("div")),o.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",e.style.width="1px",u=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight),e.removeChild(o)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=e.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),n.removeChild(i))}var n,i,o,r,a,s,u;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],(i=o&&o.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==u&&e(),u}}))}(),it.swap=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o};var ie=/alpha\([^)]*\)/i,oe=/opacity\s*=\s*([^)]*)/,re=/^(none|table(?!-c[ea]).+)/,ae=new RegExp("^("+Ct+")(.*)$","i"),se=new RegExp("^([+-])=("+Ct+")","i"),ue={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=it.camelCase(e),u=t.style;if(e=it.cssProps[s]||(it.cssProps[s]=k(u,s)),a=it.cssHooks[e]||it.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:u[e];if(r=typeof n,"string"===r&&(o=se.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(it.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,i)))))try{u[e]=n}catch(t){}}},css:function(t,e,n,i){var o,r,a,s=it.camelCase(e);return e=it.cssProps[s]||(it.cssProps[s]=k(t.style,s)),a=it.cssHooks[e]||it.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Zt(t,e,i)),"normal"===r&&e in le&&(r=le[e]),""===n||n?(o=parseFloat(r),!0===n||it.isNumeric(o)?o||0:r):r}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,i){if(n)return re.test(it.css(t,"display"))&&0===t.offsetWidth?it.swap(t,ue,function(){return D(t,e,i)}):D(t,e,i)},set:function(t,n,i){var o=i&&Yt(t);return I(t,n,i?N(t,e,i,nt.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,o),o):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(t,e){return oe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=it.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===it.trim(r.replace(ie,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ie.test(r)?r.replace(ie,o):r+" "+o)}}),it.cssHooks.marginRight=E(nt.reliableMarginRight,function(t,e){if(e)return it.swap(t,{display:"inline-block"},Zt,[t,"marginRight"])}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Tt[i]+e]=r[i]||r[i-2]||r[0];return o}},te.test(t)||(it.cssHooks[t+e].set=I)}),it.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,o,r={},a=0;if(it.isArray(e)){for(i=Yt(t),o=e.length;a<o;a++)r[e[a]]=it.css(t,e[a],!1,i);return r}return void 0!==n?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?it(this).show():it(this).hide()})}}),it.Tween=$,$.prototype={constructor:$,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(it.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.options.duration?this.pos=e=it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=it.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[it.cssProps[t.prop]]||it.cssHooks[t.prop])?it.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},it.fx=$.prototype.init,it.fx.step={};var de,fe,he=/^(?:toggle|show|hide)$/,pe=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),me=/queueHooks$/,ve=[O],ge={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=pe.exec(e),r=o&&o[3]||(it.cssNumber[t]?"":"px"),a=(it.cssNumber[t]||"px"!==r&&+i)&&pe.exec(it.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do{s=s||".5",a/=s,it.style(n.elem,t,a+r)}while(s!==(s=n.cur()/i)&&1!==s&&--u)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};it.Animation=it.extend(P,{tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;i<o;i++)n=t[i],ge[n]=ge[n]||[],ge[n].unshift(e)},prefilter:function(t,e){e?ve.unshift(t):ve.push(t)}}),it.speed=function(t,e,n){var i=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return i.duration=it.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in it.fx.speeds?it.fx.speeds[i.duration]:it.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){it.isFunction(i.old)&&i.old.call(this),i.queue&&it.dequeue(this,i.queue)},i},it.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=it.isEmptyObject(t),r=it.speed(e,n,i),a=function(){var e=P(this,it.extend({},t),r);(o||it._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=it.timers,a=it._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&me.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=it._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=it.timers,a=i?i.length:0;for(n.finish=!0,it.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,i,o)}}),it.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),it.timers=[],it.fx.tick=function(){var t,e=it.timers,n=0;for(de=it.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||it.fx.stop(),de=void 0},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){fe||(fe=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(fe),fe=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(t,e){return t=it.fx?it.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,o;e=ht.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=ht.createElement("select"),o=n.appendChild(ht.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=o.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!o.disabled,t=ht.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();var ye=/\r/g;it.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=it.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,it(this).val()):t,null==o?o="":"number"==typeof o?o+="":it.isArray(o)&&(o=it.map(o,function(t){return null==t?"":t+""})),(e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return(e=it.valHooks[o.type]||it.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ye,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,u=o<0?s:r?o:0;u<s;u++)if(n=i[u],(n.selected||u===o)&&(nt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=it.makeArray(e),a=o.length;a--;)if(i=o[a],
it.inArray(it.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){if(it.isArray(e))return t.checked=it.inArray(it(t).val(),e)>=0}},nt.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,we,xe=it.expr.attrHandle,_e=/^(?:checked|selected)$/i,Ae=nt.getSetAttribute,Ce=nt.input;it.fn.extend({attr:function(t,e){return kt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===xt?it.prop(t,e,n):(1===r&&it.isXMLDoc(t)||(e=e.toLowerCase(),i=it.attrHooks[e]||(it.expr.match.bool.test(e)?we:be)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=it.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void it.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(gt);if(r&&1===t.nodeType)for(;n=r[o++];)i=it.propFix[n]||n,it.expr.match.bool.test(n)?Ce&&Ae||!_e.test(n)?t[i]=!1:t[it.camelCase("default-"+n)]=t[i]=!1:it.attr(t,n,""),t.removeAttribute(Ae?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),we={set:function(t,e,n){return!1===e?it.removeAttr(t,n):Ce&&Ae||!_e.test(n)?t.setAttribute(!Ae&&it.propFix[n]||n,n):t[it.camelCase("default-"+n)]=t[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=xe[e]||it.find.attr;xe[e]=Ce&&Ae||!_e.test(e)?function(t,e,i){var o,r;return i||(r=xe[e],xe[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,xe[e]=r),o}:function(t,e,n){if(!n)return t[it.camelCase("default-"+e)]?e.toLowerCase():null}}),Ce&&Ae||(it.attrHooks.value={set:function(t,e,n){if(!it.nodeName(t,"input"))return be&&be.set(t,e,n);t.defaultValue=e}}),Ae||(be={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},xe.id=xe.name=xe.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},it.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:be.set},it.attrHooks.contenteditable={set:function(t,e,n){be.set(t,""!==e&&e,n)}},it.each(["width","height"],function(t,e){it.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),nt.style||(it.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Te=/^(?:input|select|textarea|button|object)$/i,Ee=/^(?:a|area)$/i;it.fn.extend({prop:function(t,e){return kt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return t=it.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),it.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!it.isXMLDoc(t),r&&(e=it.propFix[e]||e,o=it.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=it.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(t,e){it.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var ke=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,i,o,r,a,s=0,u=this.length,l="string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];s<u;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=it.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];s<u;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ke," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=t?it.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):it.isFunction(t)?this.each(function(n){it(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,o=it(this),r=t.match(gt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else n!==xt&&"boolean"!==n||(this.className&&it._data(this,"__className__",this.className),this.className=this.className||!1===t?"":it._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ke," ").indexOf(e)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Se=it.now(),Ie=/\?/,Ne=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=it.trim(e+"");return o&&!it.trim(o.replace(Ne,function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")}))?Function("return "+o)():it.error("Invalid JSON: "+e)},it.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+e),n};var De,$e,Fe=/#.*$/,je=/([?&])_=[^&]*/,qe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,Pe=/^\/\//,Le=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Re={},He={},Be="*/".concat("*");try{$e=location.href}catch(t){$e=ht.createElement("a"),$e.href="",$e=$e.href}De=Le.exec($e.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$e,type:"GET",isLocal:Oe.test(De[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,it.ajaxSettings),e):H(it.ajaxSettings,t)},ajaxPrefilter:L(Re),ajaxTransport:L(He),ajax:function(t,e){function n(t,e,n,i){var o,c,g,y,w,_=e;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=i||"",x.readyState=t>0?4:0,o=t>=200&&t<300||304===t,n&&(y=B(d,x,n)),y=V(d,y,x,o),o?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(it.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(it.etag[r]=w)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=y.state,c=y.data,g=y.error,o=!g)):(g=_,!t&&_||(_="error",t<0&&(t=0))),x.status=t,x.statusText=(e||_)+"",o?p.resolveWith(f,[c,_,x]):p.rejectWith(f,[x,_,g]),x.statusCode(v),v=void 0,u&&h.trigger(o?"ajaxSuccess":"ajaxError",[x,d,o?c:g]),m.fireWith(f,[x,_]),u&&(h.trigger("ajaxComplete",[x,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,a,s,u,l,c,d=it.ajaxSetup({},e),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?it(f):it.event,p=it.Deferred(),m=it.Callbacks("once memory"),v=d.statusCode||{},g={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=qe.exec(a);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,g[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return l&&l.abort(e),n(0,e),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||$e)+"").replace(Fe,"").replace(Pe,De[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(gt)||[""],null==d.crossDomain&&(i=Le.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===De[1]&&i[2]===De[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(De[3]||("http:"===De[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),R(Re,d,e,x),2===b)return x;u=it.event&&d.global,u&&0==it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Ie.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=je.test(r)?r.replace(je,"$1_="+Se++):r+(Ie.test(r)?"&":"?")+"_="+Se++)),d.ifModified&&(it.lastModified[r]&&x.setRequestHeader("If-Modified-Since",it.lastModified[r]),it.etag[r]&&x.setRequestHeader("If-None-Match",it.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Be+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)x.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](d[o]);if(l=R(He,d,e,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,l.send(g,n)}catch(t){if(!(b<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,void 0,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,i,o){return it.isFunction(n)&&(o=o||i,i=n,n=void 0),it.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},it.fn.extend({wrapAll:function(t){if(it.isFunction(t))return this.each(function(e){it(this).wrapAll(t.call(this,e))});if(this[0]){var e=it(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return it.isFunction(t)?this.each(function(e){it(this).wrapInner(t.call(this,e))}):this.each(function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||it.css(t,"display"))},it.expr.filters.visible=function(t){return!it.expr.filters.hidden(t)};var Ve=/%20/g,ze=/\[\]$/,We=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,Je=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,i=[],o=function(t,e){e=it.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){o(this.name,this.value)});else for(n in t)z(n,t[n],e,o);return i.join("&").replace(Ve,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&Je.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!St.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(We,"\r\n")}}):{name:e.name,value:n.replace(We,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||U()}:W;var Qe=0,Xe={},Ge=it.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Xe)Xe[t](void 0,!0)}),nt.cors=!!Ge&&"withCredentials"in Ge,Ge=nt.ajax=!!Ge,Ge&&it.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var o,r=t.xhr(),a=++Qe;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(t.hasContent&&t.data||null),e=function(n,o){var s,u,l;if(e&&(o||4===r.readyState))if(delete Xe[a],e=void 0,r.onreadystatechange=it.noop,o)4!==r.readyState&&r.abort();else{l={},s=r.status,"string"==typeof r.responseText&&(l.text=r.responseText);try{u=r.statusText}catch(t){u=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&i(s,u,l,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Xe[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ht.head||it("head")[0]||ht.documentElement;return{send:function(i,o){e=ht.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Ke=[],Ye=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||it.expando+"_"+Se++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ye,"$1"+o):!1!==e.jsonp&&(e.url+=(Ie.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||it.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ke.push(o)),a&&it.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ht;var i=ct.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=it.buildFragment([t],e,o),o&&o.length&&it(o).remove(),it.merge([],i.childNodes))};var Ze=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&Ze)return Ze.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>=0&&(i=it.trim(t.slice(s,t.length)),t=t.slice(0,s)),it.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&it.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?it("<div>").append(it.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length};var tn=t.document.documentElement;it.offset={setOffset:function(t,e,n){var i,o,r,a,s,u,l,c=it.css(t,"position"),d=it(t),f={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=it.css(t,"top"),u=it.css(t,"left"),l=("absolute"===c||"fixed"===c)&&it.inArray("auto",[r,u])>-1,l?(i=d.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(u)||0),it.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+o),"using"in e?e.using.call(t,f):d.css(f)}},it.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,it.contains(e,o)?(typeof o.getBoundingClientRect!==xt&&(i=o.getBoundingClientRect()),n=J(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===it.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(n=t.offset()),n.top+=it.css(t[0],"borderTopWidth",!0),n.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-it.css(i,"marginTop",!0),left:e.left-n.left-it.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||tn;t&&!it.nodeName(t,"html")&&"static"===it.css(t,"position");)t=t.offsetParent;return t||tn})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);it.fn[t]=function(i){return kt(this,function(t,i,o){var r=J(t);if(void 0===o)return r?e in r?r[e]:r.document.documentElement[i]:t[i];r?r.scrollTo(n?it(r).scrollLeft():o,n?o:it(r).scrollTop()):t[i]=o},t,i,arguments.length,null)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=E(nt.pixelPosition,function(t,n){if(n)return n=Zt(t,e),ee.test(n)?it(t).position()[e]+"px":n})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){it.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return kt(this,function(e,n,i){var o;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?it.css(e,n,a):it.style(e,n,i,a)},e,r?i:void 0,r,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var en=t.jQuery,nn=t.$;return it.noConflict=function(e){return t.$===it&&(t.$=nn),e&&t.jQuery===it&&(t.jQuery=en),it},typeof e===xt&&(t.jQuery=t.$=it),it}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var o,r,a,s=e.nodeName.toLowerCase();return"area"===s?(o=e.parentNode,r=o.name,!(!e.href||!r||"map"!==o.nodeName.toLowerCase())&&(!!(a=t("img[usemap='#"+r+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&e(n,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(r,i(this,e)+"px")})},t.fn["outer"+n]=function(e,o){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(r,i(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(n=o.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}};var i=0,o=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=t._data(o,"events"),i&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,a,s,u={},l=e.split(".")[0];return e=e.split(".")[1],o=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[l]=t[l]||{},r=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){if(!t.isFunction(i))return void(u[e]=i);u[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},u,{constructor:a,namespace:l,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,i,r=o.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])i=r[a][n],r[a].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=o.call(arguments,1),u=this;return a?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(u=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s),n!==o&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+r.eventNamespace,c=u[2];c?o.delegate(c,l,s):n.bind(l,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}});t.widget;!function(){function e(t,e,n){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,r,a=Math.max,s=Math.abs,u=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{
width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||o?n.width():n.outerWidth(),height:i||o?n.height():n.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=t.extend({},o);var h,m,v,g,y,b,w=t(o.of),x=t.position.getWithinInfo(o.within),_=t.position.getScrollInfo(x),A=(o.collision||"flip").split(" "),C={};return b=i(w),w[0].preventDefault&&(o.at="left top"),m=b.width,v=b.height,g=b.offset,y=t.extend({},g),t.each(["my","at"],function(){var t,e,n=(o[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=d.exec(n[0]),e=d.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],o[this]=[f.exec(n[0])[0],f.exec(n[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===o.at[0]?y.left+=m:"center"===o.at[0]&&(y.left+=m/2),"bottom"===o.at[1]?y.top+=v:"center"===o.at[1]&&(y.top+=v/2),h=e(C.at,m,v),y.left+=h[0],y.top+=h[1],this.each(function(){var i,l,c=t(this),d=c.outerWidth(),f=c.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),T=d+p+n(this,"marginRight")+_.width,E=f+b+n(this,"marginBottom")+_.height,k=t.extend({},y),S=e(C.my,c.outerWidth(),c.outerHeight());"right"===o.my[0]?k.left-=d:"center"===o.my[0]&&(k.left-=d/2),"bottom"===o.my[1]?k.top-=f:"center"===o.my[1]&&(k.top-=f/2),k.left+=S[0],k.top+=S[1],r||(k.left=u(k.left),k.top=u(k.top)),i={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[A[e]]&&t.ui.position[A[e]][n](k,{targetWidth:m,targetHeight:v,elemWidth:d,elemHeight:f,collisionPosition:i,collisionWidth:T,collisionHeight:E,offset:[h[0]+S[0],h[1]+S[1]],my:o.my,at:o.at,within:x,elem:c})}),o.using&&(l=function(t){var e=g.left-k.left,n=e+m-d,i=g.top-k.top,r=i+v-f,u={target:{element:w,left:g.left,top:g.top,width:m,height:v},element:{element:c,left:k.left,top:k.top,width:d,height:f},horizontal:n<0?"left":e>0?"right":"center",vertical:r<0?"top":i>0?"bottom":"middle"};m<d&&s(e+n)<m&&(u.horizontal="center"),v<f&&s(i+r)<v&&(u.vertical="middle"),a(s(e),s(n))>a(s(i),s(r))?u.important="horizontal":u.important="vertical",o.using.call(this,t,u)}),c.offset(t.extend(k,{using:l}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=t.left-e.collisionPosition.marginLeft,u=o-s,l=s+e.collisionWidth-r-o;e.collisionWidth>r?u>0&&l<=0?(n=t.left+u+e.collisionWidth-r-o,t.left+=u-n):t.left=l>0&&u<=0?o:u>l?o+r-e.collisionWidth:o:u>0?t.left+=u:l>0?t.left-=l:t.left=a(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,u=o-s,l=s+e.collisionHeight-r-o;e.collisionHeight>r?u>0&&l<=0?(n=t.top+u+e.collisionHeight-r-o,t.top+=u-n):t.top=l>0&&u<=0?o:u>l?o+r-e.collisionHeight:o:u>0?t.top+=u:l>0?t.top-=l:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,d=l+e.collisionWidth-a-u,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+f+h+p+e.collisionWidth-a-r)<0||n<s(c))&&(t.left+=f+h+p):d>0&&((i=t.left-e.collisionPosition.marginLeft+f+h+p-u)>0||s(i)<d)&&(t.left+=f+h+p)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,d=l+e.collisionHeight-a-u,f="top"===e.my[1],h=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];c<0?((i=t.top+h+p+m+e.collisionHeight-a-r)<0||i<s(c))&&(t.top+=h+p+m):d>0&&((n=t.top-e.collisionPosition.marginTop+h+p+m-u)>0||s(n)<d)&&(t.top+=h+p+m)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,o,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)e.style[a]=i[a];e.appendChild(u),n=s||document.documentElement,n.insertBefore(e,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=t(u).offset().left,r=o>10&&o<11,e.innerHTML="",n.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t)return void this._activate(e);"event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),o=i.uniqueId().attr("id");e.attr("aria-controls",o),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=o.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,o=t(e.currentTarget),r=o[0]===i[0],a=r&&n.collapsible,s=a?t():o.next(),u=i.next(),l={oldHeader:i,oldPanel:u,newHeader:a?t():o,newPanel:s};e.preventDefault(),r&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!a&&this.headers.index(o),this.active=r?t():o,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&o.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,o,r,a=this,s=0,u=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=l&&c.down||c,f=function(){a._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,r=r||d.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:f,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===u&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,r,o,f):t.animate(this.showProps,r,o,f)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(n,i);-1!==o&&i.splice(o,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;if("disabled"===e)return this[n?"_disable":"_enable"](),void(this.options[e]=n);this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i.element[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,o=this,r=e?e.type:null;if("string"==typeof i)return this._open(e,t,i);(n=i.call(t[0],function(n){o._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var r,a,s,u,l=t.extend({},this.options.position);if(i){if(r=this._find(n))return void r.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),a=r.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(u=i.clone(),u.removeAttr("id").find("[id]").removeAttr("id")):u=i,t("<div>").html(u).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:o}),o(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,o=t(e?e.currentTarget:this.element),r=this._find(o);if(!r)return void o.removeData("ui-tooltip-open");n=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:n}),r.hiding||(r.closing=!1))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur"),r=i.element;o.target=o.currentTarget=r[0],e.close(o,!0),t("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,a,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(r=u.length,n=0;n<r;n+=1)a[n]=str(n,u)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;n<r;n+=1)"string"==typeof rep[n]&&(i=rep[n],(o=str(i,u))&&a.push(quote(i)+(gap?": ":":")+o));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(o=str(i,u))&&a.push(quote(i)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){if("function"==typeof define&&define.amd)define("FrameMessenger",["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.FrameMessenger=n.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){try{return JSON.parse(t)}catch(t){return{}}}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){function i(t){return!(!t||!t.postMessage||"function"!=typeof t.postMessage)}if(n(this,t),e=e||{},this.name=e.name,this.frame=e.frame,this.targetName=e.targetName,this.targetFrame=e.targetFrame,this.Promise=e.Promise,this.callbackCount=0,this.callbacks={},this.listeners={},"string"!=typeof this.name)throw new Error("FrameCommunicator must be initialized with a string in the `name` property");if("string"!=typeof this.targetName)throw new Error("FrameCommunicator must be initialized with a string in the `targetName` property");if(!i(this.frame))throw new Error("FrameCommunicator must be initialized with a frame in the `frame` property");if(!i(this.targetFrame))throw new Error("FrameCommunicator must be initialized with a frame in the `targetFrame` property");this.frame.addEventListener("message",this._processMessage.bind(this))}return o(t,[{key:"postMessage",value:function(t,e,n,i){var o=this,r="c"+this.callbackCount++;i&&(i instanceof Error?i={name:i.name,message:i.message,stack:i.stack}:"object"==typeof i&&(i=JSON.parse(JSON.stringify(i))));var a=JSON.stringify({__name__:this.targetName,__origin_name__:this.name,__reply__:r,__callback__:n,__error__:i,data:t});if(this.targetFrame.postMessage(a,"*"),"function"==typeof e)this.callbacks[r]=e;else{if(this.Promise)return new this.Promise(function(t,e){o.callbacks[r]={resolve:t,reject:e}});this.callbacks[r]=function(){}}}},{key:"_processMessage",value:function(t){var e=this,n=t.data,o=i(n);if(t.source===this.targetFrame&&o.__name__===this.name){var r=o.__callback__,a=this.callbacks[r],s=function(t,n,i){e.postMessage(n,i,o.__reply__,t)};a?(delete this.callbacks[r],o.__error__?a.reject?a.reject(o.__error__):a(o.__error__):a.resolve?a.resolve(o.data):a(null,o.data,s)):this._onMessage?this._onMessage(o.data,s):console.error("No callback existed to handle callback ID "+r)}}},{key:"onMessage",value:function(t){this._onMessage=t}}]),t}();e.exports=r}),function(){define("storage/iframe/index",["exports","./storage"],function(t,e){var n=function(t){return t&&t.__esModule?t:{default:t}}(e),i=new FrameMessenger({frame:window,name:"tc-storage-iframe",targetFrame:parent,targetName:"tc-storage-top-frame"}),o=JSON.parse(decodeURIComponent(window.name)),r=new n.default(o),a=r.getAllData();i.postMessage({code:"initial storage data",storage:a}),i.onMessage(function(t,e){var n=r[t.method],i=void 0;if("function"==typeof n)try{return e(null,n.call(r,t.params))}catch(t){i=t}else i='"'+t.method+'" is not a valid TcSorage method.';i&&(e(i),window.console&&"function"==typeof console.error&&console.error(i))})}),define("storage/iframe/storage",["exports","module","../utils/get","../utils/set"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!l){this.ids={site:t.siteId,session:t.sessionId,engagement:t.engagementId,tab:t.tabId},this._storageKey="tc-"+t.siteId;var e=this._getStorage();this.options=t,this._initStore(e,"session"),this._initStore(e,"engagement"),this._initStore(e,"tab"),e.lifetime=e.lifetime||{data:{}},e.custom=e.custom||{data:{},registry:{}},this._purgeExpiredItems(e),this._ieSyncFix(),this._setStorage(e)}}function a(t){var e=new Date,n=(t.match(/(\d+)y/i)||[])[1],i=(t.match(/(\d+)M/)||[])[1],o=(t.match(/(\d+)d/i)||[])[1],r=(t.match(/(\d+)h/i)||[])[1],a=(t.match(/(\d+)m/)||[])[1],s=(t.match(/(\d+)s/i)||[])[1];return n&&e.setFullYear(e.getFullYear()+Number(n)),i&&e.setMonth(e.getMonth()+Number(i)),o&&e.setDate(e.getDate()+Number(o)),r&&e.setHours(e.getHours()+Number(r)),a&&e.setMinutes(e.getMinutes()+Number(a)),s&&e.setSeconds(e.getSeconds()+Number(s)),e}var s=o(n),u=o(i);e.exports=r;var l=!window.localStorage;r.get=function(t){var e=localStorage.getItem(t);if(!e)return e;try{e=JSON.parse(e)}catch(e){console.error('"'+t+'" is not a valid localStorage JSON string')}return e};var c=r.prototype={constructor:r};c._initStore=function(t,e){t[e]=t[e]||{};var n=this.ids[e];n!==t[e].id&&(t[e]={id:n,data:{}})},c._ieSyncFix=function(){var t=function(){};document.addEventListener?document.addEventListener("storage",t,!1):document.attachEvent?document.attachEvent("onstorage",t):document.onstorage=t,this._ieSyncFix=function(){localStorage.setItem("inq-dummy",1),localStorage.removeItem("inq-dummy")}},c._x__resetEngagementStore=function(t,e){if(!e)return console.error("Cannot access engagement store - no engagement is active");this.options.engagementId=e,this._initStore(t,"engagement")},c.set=function(t){if(!l){t.engagementId&&(this.ids.engagement=t.engagementId);var e=t.path,n=t.value,i=t.scope,o=this._getStorage(),r=this._getStore(o,i),a=void 0;r||(i?(a=this._getExpirationDate(i),i="custom"):i="session",r=this._getStore(o,i));var c=(0,s.default)(r,e);(0,u.default)(r,e,n),a&&(o.custom.registry[e]=a.getTime()),this._setStorage(o),this._ieSyncFix();return{storage:o,changes:c===n?void 0:{path:e,previous:c,current:n,scope:i,expires:a}}}},c._setStorage=function(t){t=JSON.stringify(t),localStorage.setItem(this._storageKey,t)},c.get=function(t){if(!l){t.engagementId&&(this.ids.engagement=t.engagementId);var e=this._getStorage(),n=t.scope||"session",i=this._getStore(e,n);return i?(0,s.default)(i,t.path):void console.error('"'+n+'" is not a valid TC Storage scope. Expected one of: engagement, tab, session, lifetime, or custom')}},c._getStore=function(t,e){var n=t[e];if(e.match(/custom|lifetime/i))return n.data;var i=this.ids[e];return i!==n.id&&(n=t[e]={id:i,data:{}}),n.data},c._getStorage=function(){var t=localStorage.getItem(this._storageKey);return t?JSON.parse(t):{}},c.getAllData=function(){return this._getStorage()},c._getExpirationDate=function(t){var e=void 0;return t instanceof Date?e=t:"number"==typeof t?e=new Date(t):"string"==typeof t&&(e=a(t)),e instanceof Date&&e>new Date?e:a("1d")},c._purgeExpiredItems=function(t){var e=(new Date).getTime(),n=t.__registry__;for(var i in n){e<n[i]||((0,u.default)(t,i,void 0),delete n[i])}}}),define("storage/index",["exports"],function(t){var e="undefined"==typeof inqFrame;require(e?"storage/iframe":"storage/top-frame")}),define("storage/top-frame/api",["exports","module","../utils/get","../utils/set","./id-manager"],function(t,e,n,i,o){function r(t){return t&&t.__esModule?t:{default:t}}function a(t){this.frameMessenger=t,this.peek.queue=[],this.get.queue=[],this.set.queue=[]}var s=r(n),u=r(i),l=r(o);e.exports=a;var c=a.prototype;c.peek=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.peek.queue.push(e)},c._peek=function(t,e,n){e&&"function"!=typeof e||(n=e,e="session");var i=(0,l.default)("engagement");if("engagement"!==e||i){var o=this._getStore(e);if(!o)return void console.error('"'+e+'" is not a valid TC Storage scope. Expected one of: engagment, tab, session, lifetime, or custom');var r=(0,s.default)(o,t);return"function"==typeof n?n(null,r):r}},c._getStore=function(t){var e=this.storage[t],n=(0,l.default)(t);return n!==e.id&&(e=this.storage[t]={id:n,data:{}}),e.data},c.get=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.get.queue.push(e)},c._get=function(t,e,n){e&&"function"!=typeof e||(n=e,e="session");var i=(0,l.default)("engagement");this.frameMessenger.postMessage({method:"get",params:{path:t,scope:e,engagementId:i}},n)},c.set=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.set.queue.push(e)},c._set=function(t,e,n){"object"==typeof t&&(e=t.value,n=t.scope,t=t.path||t.key);var i=(0,l.default)("engagement");if("engagement"!==(n=n||"session")||i){var o=this._getStore("engagement");(0,u.default)(o,t,e),this.frameMessenger.postMessage({method:"set",params:{path:t,value:e,scope:n,engagementId:i}},function(t,e){if(t)return window.inqFrame.Inq.log(t,"error");this.storage=e.storage,e.changes&&Inq.fireCustomEvent("StorageChanged",e.changes)})}},c._loadStorage=function(t){var e=this;this.storage=t,this.peek.queue.forEach(function(t){e._peek.apply(e,t)}),this.get.queue.forEach(function(t){e._get.apply(e,t)}),this.set.queue.forEach(function(t){e._set.apply(e,t)}),this.peek=this._peek,this.get=this._get,this.set=this._set,Inq.fireCustomEvent("StorageReady",t)}}),define("storage/top-frame/id-manager",["exports","module"],function(t,e){function n(t){var e=u[t];if(e)return e(t);throw new Error(t+" is not a valid TC Local Storage scope")}function i(){return inqFrame.Inq.siteID}function o(){return inqFrame.Inq.FlashPeer.getSessionID()}function r(){var t=void 0;try{t=window.Inq.API.get("engagementId")}catch(t){}if(t)return t;try{return window.Inq.getData().CHM.id}catch(t){}}function a(){var t=sessionStorage.getItem("tc-tab-guuid");return t||(t=Math.random().toString().substr(2,99),sessionStorage.setItem("tc-tab-guuid",t)),t}function s(t){return t}e.exports=n;var u={site:i,session:o,engagement:r,tab:a,lifetime:s,custom:s}}),define("storage/top-frame/index",["exports","./api","./id-manager"],function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}var o=i(e),r=i(n),a=window.inQ=window.inQ||{},s="production",u=function(){var t=document.createElement("iframe"),e=$("script").last().attr("src"),n=inqFrame.Inq.urls.skinURL.replace(/flash\/$/,""),i="production"===s?n+"assets/local-storage/storage.html":"https://localhost:4201/storage.html",o={siteId:(0,r.default)("site"),sessionId:(0,r.default)("session"),engagementId:(0,r.default)("engagement"),tabId:(0,r.default)("tab"),jsUrl:e};return i=i.replace(/^https?/,"https"),t.name=encodeURIComponent(JSON.stringify(o)),t.src=i,t.style.display="none",document.body.appendChild(t),t}(),l=function(t){var e=new FrameMessenger({frame:window,name:"tc-storage-top-frame",targetFrame:t.contentWindow,targetName:"tc-storage-iframe"})
;return e.onMessage(function(t,e){"initial storage data"===t.code&&a.Storage._loadStorage(t.storage)}),e}(u),c=new o.default(l);a.Storage=c}),define("storage/utils/get",["exports","module"],function(t,e){function n(t,e){if(t)try{var i=(e||"").split("."),o=i.shift(),r=t[o];return i.length?n(r,i.join(".")):r}catch(t){console.error(t)}}e.exports=n}),define("storage/utils/set",["exports","module"],function(t,e){function n(t,e,i){if("object"!=typeof t)throw new Error("set() expected an object as the first argument. Received "+t);if("string"!=typeof e)throw new Error("set() expected a string as the second argument. Received "+e);var o=e.split("."),r=o.shift();if(o.length){n(t[r]=t[r]||{},o.join("."),i)}else t[r]=i}e.exports=n}),require("storage")}(),function(){function t(t){function e(e,n,i,o,r,a){for(;r>=0&&r<a;r+=t){var s=o?o[r]:r;i=n(i,e[s],s,e)}return i}return function(n,i,o,r){i=b(i,r,4);var a=!E(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(o=n[a?a[u]:u],u+=t),e(n,i,o,a,u,s)}}function e(t){return function(e,n,i){n=w(n,i);for(var o=T(e),r=t>0?0:o-1;r>=0&&r<o;r+=t)if(n(e[r],r,e))return r;return-1}}function n(t,e,n){return function(i,o,r){var a=0,s=T(i);if("number"==typeof r)t>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=e(c.call(i,a,s),y.isNaN),r>=0?r+a:-1;for(r=t>0?a:s-1;r>=0&&r<s;r+=t)if(i[r]===o)return r;return-1}}function i(t,e){var n=D.length,i=t.constructor,o=y.isFunction(i)&&i.prototype||s,r="constructor";for(y.has(t,r)&&!y.contains(e,r)&&e.push(r);n--;)(r=D[n])in t&&t[r]!==o[r]&&!y.contains(e,r)&&e.push(r)}var o=this,r=o._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,d=s.toString,f=s.hasOwnProperty,h=Array.isArray,p=Object.keys,m=u.bind,v=Object.create,g=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=t(r),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=r[l])}return n}},_=function(t){if(!y.isObject(t))return{};if(v)return v(t);g.prototype=t;var e=new g;return g.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,T=A("length"),E=function(t){var e=T(t);return"number"==typeof e&&e>=0&&e<=C};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,o;if(E(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var r=y.keys(t);for(i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),o=(i||t).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=e(t[s],s,t)}return r},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!E(t)&&y.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,o,r=-1/0,a=-1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,u=t.length;s<u;s++)(i=t[s])>r&&(r=i)}else e=w(e,n),y.each(t,function(t,n,i){((o=e(t,n,i))>a||o===-1/0&&r===-1/0)&&(r=t,a=o)});return r},y.min=function(t,e,n){var i,o,r=1/0,a=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,u=t.length;s<u;s++)(i=t[s])<r&&(r=i)}else e=w(e,n),y.each(t,function(t,n,i){((o=e(t,n,i))<a||o===1/0&&r===1/0)&&(r=t,a=o)});return r},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,o=Array(i),r=0;r<i;r++)e=y.random(0,r),e!==r&&(o[r]=o[e]),o[e]=n[r];return o},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(t){return function(e,n,i){var o={};return n=w(n,i),y.each(e,function(i,r){var a=n(i,r,e);t(o,i,a)}),o}};y.groupBy=k(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=k(function(t,e,n){t[n]=e}),y.countBy=k(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],o=[];return y.each(t,function(t,n,r){(e(t,n,r)?i:o).push(t)}),[i,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var S=function(t,e,n,i){for(var o=[],r=0,a=i||0,s=T(t);a<s;a++){var u=t[a];if(E(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=S(u,e,n));var l=0,c=u.length;for(o.length+=c;l<c;)o[r++]=u[l++]}else n||(o[r++]=u)}return o};y.flatten=function(t,e){return S(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var o=[],r=[],a=0,s=T(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&r===l||o.push(u),r=l):n?y.contains(r,l)||(r.push(l),o.push(u)):y.contains(o,u)||o.push(u)}return o},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=T(t);i<o;i++){var r=t[i];if(!y.contains(e,r)){for(var a=1;a<n&&y.contains(arguments[a],r);a++);a===n&&e.push(r)}}return e},y.difference=function(t){var e=S(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,T).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,o=T(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var o=n(e),r=0,a=T(t);r<a;){var s=Math.floor((r+a)/2);n(t[s])<o?r=s+1:a=s}return r},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;r<i;r++,t+=n)o[r]=t;return o};var I=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=_(t.prototype),a=t.apply(r,o);return y.isObject(a)?a:r};y.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return I(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),a=0;a<o;a++)r[a]=e[a]===y?arguments[i++]:e[a];for(;i<arguments.length;)r.push(arguments[i++]);return I(t,n,this,this,r)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var o=n.cache,r=""+(e?e.apply(this,arguments):i);return y.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,o,r,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:y.now(),a=null,r=t.apply(i,o),a||(i=o=null)};return function(){var l=y.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=l,r=t.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(u,c)),r}},y.debounce=function(t,e,n){var i,o,r,a,s,u=function(){var l=y.now()-a;l<e&&l>=0?i=setTimeout(u,e-l):(i=null,n||(s=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=y.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(s=t.apply(r,o),r=o=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return N&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),r=o.length,a={},s=0;s<r;s++)i=o[s],a[i]=e(t[i],i,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),r=0,a=o.length;r<a;r++)if(i=o[r],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,o,r={},a=t;if(null==a)return r;y.isFunction(e)?(o=y.allKeys(a),i=b(e,n)):(o=S(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=o.length;s<u;s++){var l=o[s],c=a[l];i(c,l,a)&&(r[l]=c)}return r},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(S(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;r<i;r++){var a=n[r];if(e[a]!==o[a]||!(a in o))return!1}return!0};var $=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),r){if((u=t.length)!==e.length)return!1;for(;u--;)if(!$(t[u],e[u],n,i))return!1}else{var l,c=y.keys(t);if(u=c.length,y.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(e,l)||!$(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return $(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=h||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return o._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=A,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=y.invert(F),q=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};y.escape=q(F),y.unescape=q(j),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var O=0;y.uniqueId=function(t){var e=++O+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+P[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||M).source,(e.interpolate||M).source,(e.evaluate||M).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,a,s){return r+=t.slice(o,s).replace(L,R),o=s+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var s=function(t){return a.call(this,t,y)};return s.source="function("+(e.variable||"obj")+"){\n"+r+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var H=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),H(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),define("acif/automaton/index",["exports","module","./utils","./initializer","../environment","../view","../view/forms","../transitions","../chat","../data"],function(t,e,n,i,o,r,a,s,u,l){function c(t){return t&&t.__esModule?t:{default:t}}function d(t){this.options=t||{},this.Env=new p.default(t),this.utils=new f.default(this),this.id=parseInt(this.Env.dbSync)||this.options.automatonId,this.hash=this.id+"::"+t.context+"::"+t.location,this.id||ACIF.Utils.throwError("An automaton ID was not specified"),this.Data=new b.default(this),this.View=new m.default(this),this.Forms=new v.default(this),this.Chat=new y.default(this),this.Transitions=new g.default(this),this.displayedPath=[],this.flashVars=this.Env.flashVars}var f=c(n),h=c(i),p=c(o),m=c(r),v=c(a),g=c(s),y=c(u),b=c(l);e.exports=d;var w=d.prototype={constructor:d};d.load=function(t){var e=new d(t);return h.default.initialize(e),e},w.close=function(){var t=this.options,e=t.automatonId,n=t.location,i=t.context;return ACIF.closeAutomaton({automatonID:e,location:n,context:i})},w.getProp=function(t,e){t=[].concat(t),e=e||this.node;var n=[e||this.node,this.settings],i=void 0,o=void 0,r=void 0,a=void 0;for(o=0;o<n.length;o++)if(i=n[o])for(r=0;r<t.length;r++)if(a=t[r],void 0!==i[a])return i[a]}}),define("acif/automaton/initializer",["exports","module","../utils/mixins","../ci/ijsf-adapter","../utils","../models/Collection"],function(t,e,n,i,o,r){function a(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=t;return this.Automaton=e,this.Data=e.Data,this.initPromise=e.utils.makePromise("automaton initializing"),this.benchmark=l.default.benchmark,this.benchmark("init").start(),l.default.console("Initializing framework"),Array.isArray(e.Env.top.inqAcifEventsRegistry)&&l.default.events.loadHandlers(e.Env.top.inqAcifEventsRegistry),e.Data.init().then(this.loadCollections.bind(this)).then(this.init.bind(this)),this.initPromise}var u=a(i),l=a(o),c=a(r);e.exports=s,s.initialize=function(t){return new s(t).initPromise};var d=s.prototype={constructor:s};d.loadCollections=function(){var t=this;return this.getClientConfigs().then(function(e){t.Automaton.configs=e})},d.getClientConfigs=function(){var t=this,e=this.Automaton.utils.makePromise(1e4),n=window.inqGuide.staticConfigs,i=this.Automaton,o=i.Data,r=Math.random().toString().substr(2,100),a="jsonp_"+i.id+"_r"+r,s=i.Env.dbSync||o.get("jsonp"),u=ACIF._jsonpCallbacks[a];if(u&&u.configs)return e.resolve(u.configs);if(!s)return e.resolve(n);var c=i.Env.dbSyncClient||n.acib_client_id,d="https://automatons.touchcommerce.com/api/configs/jsonp/"+c+"/"+i.id+"/ACIF._jsonpCallbacks."+a,f=!1,h=setTimeout(function(){l.default.console("JSONP request  failed.  Using static configurations instead.","error"),f=!0,e.resolve(n)},1e4);return ACIF._jsonpCallbacks[a]=function(n){f||(clearTimeout(h),l.default.console("received configs from JSONP request"),t.benchmark("init").mark("received JSONP response"),ACIF._jsonpCallbacks[a].configs=n,e.resolve(n))},document.body.appendChild(document.createElement("script")).src=d,e},d.init=function(){var t=this.Automaton;if(this.isSessionInitializing=!t.Data.Storage.get("state.started"),t.isSessionInitializing=this.isSessionInitializing,this.initCollections(),this.shouldTerminateAutomaton())return this.status="Cancelled automaton initialization",void this.initPromise.resolve();if(this.shouldCloseCustomerInterface())return t.View.Exit.closeCI(),this.status="Cancelled automaton initialization. Closing CI.",void this.initPromise.resolve(this);this.benchmark("init").mark("starting View.initializeViewport()"),t.View.initializeViewport(),this.benchmark("init").mark("finishing View.initializeViewport()"),this.initializeSessionData(),this.createPublicAPI();var e=this.Automaton.Data.get("automaton");if(t.settings.extend(e),t.settings.on_page_landing&&t.settings.runHook("on_page_landing"),this.isSessionInitializing)return t.Data.triggerStarted(t.options.startedBy),this.runAutomatonOnInitHook().then(this.persistInitialSessionData.bind(this)).then(this.doAfterAutomatonIsInitialized.bind(this));this.doAfterAutomatonIsInitialized()},d.initCollections=function(){var t=this.Automaton.configs;t||l.default.throwError("Cannot find automaton configurations (i.e., configs.js file).");var e=this.Automaton,n={automatons:new c.default(t.automatons,"automaton",e),nodes:new c.default(t.nodes,"node",e),templates:new c.default(t.templates,"template",e),styles:new c.default(t.styles,"style",e)};this.Automaton.settings=n.automatons.get(this.Automaton.id),n.nodes.automaton=this.Automaton.settings,this.Automaton.collections=n},d.shouldTerminateAutomaton=function(){var t=this.Data.get("currentNodeID");if(!t)return!1;if("agent"===this.Automaton.options.startedBy.type)return!1;var e=this.Automaton.collections.nodes.get(t),n=u.default.isChatConnected(),i=!(!e.is_chat_node||n);return this.Data.get("exit")&&!i},d.shouldCloseCustomerInterface=function(){if("agent"===this.Automaton.options.startedBy.type)return!1;var t=this.Data.get("currentNodeID");if(t){var e=this.Automaton.collections.nodes.get(t);return!(!e||!e.is_exit_node)}},d.createPublicAPI=function(){var t=this,e=this.Automaton,n=e.Chat,i=e.View,o=e.Env,r=e.Data,a=e.Transitions,s=e.settings,c=e.utils,d=c.timers,f=r.get("automatonDataMap"),h={hideLayer:u.default.hideLayer,showLayer:u.default.showLayer,shrinkLayer:u.default.shrinkLayer,growLayer:u.default.growLayer,fireAssistedEvent:u.default.fireAssistedEvent,fireCustomEvent:u.default.fireCustomEvent,engageChat:n.engageChat.bind(n),map:f,automatonDataMap:f,datapass:e.options.datapass,flashVars:o.flashVars,position:i.position.set.bind(i.position),resize:i.resizeStage.bind(i),console:l.default.console.bind(l.default),top:o.win,document:o.document,getFormData:r.CRM.toDatapassString.bind(r.CRM),getAllFormData:r.CRM.toSimpleObject.bind(r.CRM),getPath:n.createPathForDatapass.bind(n),checkAA:n.checkAA.bind(n),automaton:s,cookies:l.default.cookies,getBreadcrumbs:a.getBreadcrumbs.bind(a),triggerTransition:a.trigger.bind(a),sendToAgent:u.default.sendDatapassMessage,sendSystemMessage:u.default.sendSystemMessage,setTimeout:d.setTimeout.bind(d),setInterval:d.setInterval.bind(d),forms:r.CRM.apiData,getAutomatonAttribute:r.DW.getAutomatonAttr.bind(r.DW),setAutomatonAttribute:r.DW.setAutomatonAttr.bind(r.DW),removeAutomatonAttribute:r.DW.removeAutomatonAttr.bind(r.DW),IJSF:u.default};this.Automaton.Data.StorageClass.create(h,"public-api");try{h.emailTranscript=u.default.requestTranscript}catch(t){}h.getNodeById=function(t){return e.collections.nodes.get(t)},h.getPreviousNode=function(){var t=r.get("previousNodeID");if(t)return e.collections.nodes.get(t)},h.logData=function(t,n){e.Data.store.addToLogQueue("custom: "+t,n)},h.getTargetChatNode=function(){return t.settings._targetChatNode},e.api=h},d.initializeSessionData=function(){if(this.isSessionInitializing){var t=this.Automaton.settings,e=t.initial_node,n=this.Automaton.options.automatonDataMap,i=_.extend(_.pick(n,"name","type","sub_type","acif_id","acif_version"),t.attributes,n.automatonAttributes);this.Automaton.Data.save({automaton_id:this.Automaton.id,automatonDataMap:n,automaton:{},attributes:i,path:[e],currentNodeID:e,previousNodeID:null,dbSync:this.Automaton.Env.dbSync||void 0})}},d.runAutomatonOnInitHook=function(){function t(t){if(!!Number(t)){var e=n.Data.get("path");n.Data.save("currentNodeID",t),e.pop(),e.push(t),n.Data.save("path",e)}}var e=this.Automaton,n=this,i=e.utils.makePromise("automaton onInit hook");if(this.isSessionInitializing&&e.settings.onInit){var o=e.settings.runHook("onInit");l.default.isPromise(o)?o.always(t).always(i.resolve):(t(o),i.resolve())}else i.resolve();return i},d.persistInitialSessionData=function(){this.Automaton.settings.onInit&&this.Automaton.Data.persistCustomAutomatonProperties()},d.doAfterAutomatonIsInitialized=function(){this.configureInitialNodePath(),this.benchmark("init").mark("starting to load first node"),this.loadFirstNodeOnPageLanding(),this.isSessionInitializing=!1,l.default.events.trigger("initialized"),this.initPromise.resolve(this)},d.configureInitialNodePath=function(){var t=this.Automaton,e=t.settings;if(Array.isArray(e.root_path)){var n=_.clone(e.root_path),i=n.indexOf(this.Data.storage.path[0]);i>-1&&n.splice(i,1),t.root_path=n}else t.root_path=[];t.Transitions.updateDisplayedPath()},d.loadFirstNodeOnPageLanding=function(){var t=this.Automaton,e=t.collections.nodes.get(this.Data.storage.currentNodeID);e.is_chat_node?t.Chat.resolveChatNode(e).then(function(n){e.id!==n?(e=t.collections.nodes.get(n),t.node=e,t.Transitions.loadNode(e)):(t.node=e,t.Chat.loadChatNode(e))}):t.Transitions.loadNode(e),this.benchmark("init").mark("finished loading first node"),this.benchmark("init").end()}}),define("acif/automaton/utils/index",["exports","module","./timers","./promises"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){this.timers=new a.default}var a=o(n),s=o(i);e.exports=r;var u=r.prototype={constructor:r};u.makePromise=function(t){return s.default.makePromise(this.timers,t)},u.doAfter=function(t,e,n,i){if(1===arguments.length){var o=arguments[0];t=o.condFn,e=o.afterFn,n=o.poll,i=o.maxWait}var r=this,a=void 0;this.timers.setTimeout(function(){clearTimeout(a)},i||1e4),function i(){t()?e():a=r.timers.setTimeout(i,n||10)}()}}),define("acif/automaton/utils/promises",["exports","module"],function(t,e){function n(t,e){var n=new $.Deferred,i=0,o=t.setInterval(function(){i++;var r=2e3*i/1e3;"pending"===n.state()?r<60?ACIF.Utils.logger("Pending promise - "+e+" | "+r+"s","warn"):(ACIF.Utils.logger("Max wait time reached - "+e+" | "+r+"s","error"),t.clearInterval(o),n.reject()):t.clearInterval(o)},2e3);return n}e.exports={makePromise:n}}),define("acif/automaton/utils/timers",["exports","module"],function(t,e){function n(){this._timeouts=[],this._intervals=[]}e.exports=n;var i=n.prototype={constructor:n};i.setTimeout=function(t,e){var n=setTimeout(t,e);return this._timeouts.push(n),n},i.setInterval=function(t,e){var n=setInterval(t,e);return this._intervals.push(n),n},i.clearTimers=function(){this._timeouts.forEach(function(t){return clearTimeout(t)}),this._intervals.forEach(function(t){return clearInterval(t)}),this._timeouts=[],this._intervals=[]},i.clearTimeout=function(t){var e=this._timeouts.indexOf(t);e>-1&&(this._timeouts.splice(e,1),clearTimeout(t))},i.clearInterval=function(t){var e=this._intervals.indexOf(t);e>-1&&(this._intervals.splice(e,1),clearInterval(t))}}),define("acif/chat/chat",["exports","module","../environment/is-dev-mode","../ci/ijsf-adapter","../utils"],function(t,e,n,i,o){function r(t){return t&&t.__esModule?t:{default:t}}function a(t){this.Automaton=t,this.engageChatCalled=!1}var s=r(n),u=r(i),l=r(o);e.exports=a;var c=a.prototype={constructor:a};c.loadChatNode=function(t){var e=this,n=this.Automaton,i=n.View,o=n.Data,r=n.Transitions;this.node=t,r.runNodeEntry(t).then(function(n){n||(u.default.removeCircularTabbing(),i.Exit.cleanup(),e.logChatOutcome(t),t.viewport&&e.setChatWindowSizeAndPosition(),e.engageChatCalled||e.engageChat(),o.Storage.persist())})},c.logChatOutcome=function(t){var e=this.Automaton.Data,n=[];e.triggerContentSentToCustomer(t,n),e.triggerEnded(t)},c.setChatWindowSizeAndPosition=function(){var t=this.Automaton.View,e=this.node.viewport||{};(e.height||e.width)&&t.resizeStage(e.width,e.height),e.position&&t.position.set(e.position)},c.resolveChatNode=function(t){var e=this.Automaton,n=!!e.activeEvent&&e.activeEvent.$element.is("[acif-ignore-aa]"),i=!t.require_agent_avlb||n;if(e.utils.timers.clearTimers(),i){return e.utils.makePromise().resolve(t.id)}return delete e.settings._targetChatNode,this.Automaton.settings.runHook("willCheckAvailability",t),t.runHook("willCheckAvailability"),this.checkAA(t).then(function(n){return n.AA&&n.inHOP?t.id:(e.settings._targetChatNode=t.id,n.outsideHOP&&t.outside_hop_node_id?(l.default.console("Outside hours of operation. Routing to outside HOP node"),t.outside_hop_node_id):t.agents_busy_node_id?(l.default.console("All agents are busy. Routing to agents busy node."),t.agents_busy_node_id):(l.default.console("No agents available. Customer will be queued."),t.id))})},c.checkAA=function(t){t=t||{};var e=this.Automaton.getProp.bind(this.Automaton),n={},i=t.agent_attributes||t.agentAttributes||e("agent_attributes"),o=t.agent_group_id||t.agentGroupID||t.agentGroupId||e("agent_group_id"),r=t.business_unit_id||t.businessUnitID||t.businessUnitId||t.buID||e("business_unit_id"),a=t.q_threshold||t.qThreshold||e("q_threshold");n.buID=r,n.siteID=this.Automaton.configs.site_id,n.buID||l.default.throwError("Business Unit ID must be specified in order to check for agent availability."),n.siteID||l.default.throwError("Site ID must be specified in order to check for agent availability."),o&&(n.agID=o),a&&(n["q-thresh"]=a),i&&function(){var t=i.split(";"),e=[];_.each(t,function(t){var n=t.split(","),i=(n[0]||"").trim(),o=(n[1]||"").trim();e.push({name:i,value:o})}),n.agentAttributes=JSON.stringify(e)}(),this.aaData=n,this.aaPromise=this.Automaton.utils.makePromise("agent availability check");var s=this.checkAAFromCache(n);if(s&&_.now()-s.timestamp<5e3)return this.aaPromise.resolve(s.status),this.aaPromise;n["no-cache"]=Date.now(),l.default.console("Checking agent availability for: "+JSON.stringify(n));var c=u.default.getAgentsAvailabilityCheckUrl(),d="t"+Date.now();return n.callback="ACIF._jsonpCallbacks."+d,window.ACIF._jsonpCallbacks[d]=this.aaCallback.bind(this),c+="?"+$.param(n),document.body.appendChild(document.createElement("script")).src=c,this.aaPromise},c.aaCallback=function(t){t.AA="true"===t.availability,t.inHOP="true"===t.inHOP,t.online="online"===t.status,t.outsideHOP=!t.inHOP,this.updateAAStatusCache(this.aaData,t),this.aaData=null,this.aaPromise.resolve(t)},c.aaStatusCache={},c.checkAAFromCache=function(t){var e=JSON.stringify(t);return this.aaStatusCache[e]},c.updateAAStatusCache=function(t,e){var n=JSON.stringify(t);this.aaStatusCache[n]={status:e,timestamp:_.now()}},c.createPathForDatapass=function(t){var e=this;t=t||"Selections";var n="",i=l.default.generateBreadcrumbs(this.Automaton.Data.storage.path);return i=i.map(function(t){var n=e.Automaton.collections.nodes.get(t);return n.breadcrumb||n.name}),i.length&&function(){var e=0;i=i.map(function(t){return"\n    "+ ++e+") "+t}),n+="- "+t+":"+i.join("")}(),n},c.engageChat=function(t){this.engageChatCalled=!0
;var e=t||{},n=this.node,i=this.Automaton.getProp.bind(this.Automaton),o=i("circularTabbing"),r=e.publicUserId||i("publicUserId",n),a=e.agentDatapass||i(["agent_outcome","agentDatapass"],n)||"",c=e.agentName||i("agentName",n),d=(e.autoOpener||i(["client_outcome","autoOpener"],n)||"")+"",f=(e.agentAttributes||i("agent_attributes",n)||"")+"",h=(e.businessUnitID||i("business_unit_id",n)||"")+"",p=(e.agentGroupId||i("agent_group_id",n)||"")+"",m=(e.path_prefix||i("path_prefix",n)||"")+"",v=(e.scriptTreeId||i(["script_tree_id","scriptTreeId","scriptTreeID"],n)||"")+"",g=$.trim(e.hideLayers||i("hide_layers",n)||""),y=$.trim(e.showLayers||i("show_layers",n)||""),b=e.deferChatRouting||i("deferChatRouting",n)||!1,w=e.routingAllocationSpec||i("routingAllocationSpec",n),x=e.isWebRTCAudio||i("isWebRTCAudio",n)||!1,A=e.isWebRTCVideo||i("isWebRTCVideo",n)||!1,C=e.phone||"",T=void 0!==e.guidePath?e.guidePath:i("guidePath",n),E="",k=[];if(!1!==T&&(T="string"==typeof T?T:this.createPathForDatapass(m)),!1!==e.formData&&(E="string"==typeof e.formData?e.formData:this.Automaton.Data.CRM.toDatapassString()),T&&k.push(T),E&&k.push(E),a&&k.push(a),a=k.join("\n"),a=a?"\n"+a:"",g)_.each(g.split(/[\s,;]+/),function(t){u.default.hideLayer(t)});else{var S=this.Automaton.options.panel;S&&u.default.hideLayer(S)}y?(y=y.split(/[\s,;]+/),-1===y.indexOf("chat")&&y.push("chat")):y=["chat"],y.forEach(function(t){u.default.showLayer(t)});var I={agentOutcome:a,clientOutcome:d,agentAttrs:f,businessUnitID:h,phone:C,agentGroupId:p,agentName:c,scriptTreeId:v,publicUserId:r,circularTabbing:o,routingAllocSpecs:w,closeOnEnd:!0};if(x?u.default.engageAudio(I):A?u.default.engageVideo(I):b?u.default.setEngageParameters(I):u.default.engageChat(I),(0,s.default)()){var N="Routing customer to chat with the following parameters:";for(var D in I)N+="\n** "+D+': "'+I[D]+'"';l.default.console(N)}}}),define("acif/chat/index",["exports","module","./chat"],function(t,e,n){t.default=function(t){return t&&t.__esModule?t.default:t}(n),e.exports=t.default}),define("acif/ci/ijsf-adapter",["exports","module","../environment/is-dev-mode","../utils/tryCatch"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return dt.addListener(r({},t,e))}function s(){return ACIF.Utils.logger("Closing CI"),dt.closeChat()}function u(t){inqFrame.com.inq.flash.client.control.WebRTCMgr.engageAudio(t)}function l(t){return dt.ciEngageChat(t)}function c(t){inqFrame.com.inq.flash.client.control.WebRTCMgr.engageVideo(t)}function d(){return Inq.fireCustomEvent("AssistedEvent")}function f(t,e,n){return Inq.fireCustomEvent(t,e,n)}function h(){return dt.getChatRule()}function p(t){return(0,ct.default)(function(){var e=inqFrame.Inq.CHM.getChat(),n=e&&e.getChatData().agtAttrs;if(n){t=t.toLowerCase();for(var i in n)if(i.toLowerCase()===t)return decodeURIComponent(n[i])}})}function m(){return dt.getAgentsAvailabilityCheckUrl()}function v(){return x(A())}function g(){return dt.getAgentGroupName()}function y(){return dt.getAgentID()}function b(){return dt.getAutomatonDataMap()||{}}function w(){return dt.getBrowserTypeAndVersion()}function x(t){return dt.getBuRuleAgentGroupID(t)}function A(){return dt.getBrID()}function C(){return dt.getBrName()}function T(){return dt.getBusinessUnitID()}function E(){return dt.getBusinessUnitName()}function k(){return dt.getCustID()}function S(){try{return dt.getCustGeoData()||{}}catch(t){return{}}}function I(){return S().country_code}function N(){return S().region_code}function D(){return S().zip_code}function $(){return dt.getDeviceType()}function F(){var t=void 0;try{t=window.Inq.API.get("engagementId")}catch(t){}if(t)return t;try{return window.Inq.getData().CHM.id}catch(t){}}function j(){return dt.getPageID()}function q(){return dt.getPageMarker()}function O(t){return dt.ciGrowLayer(t)}function M(t){return dt.ciHideLayer(t)}function P(){return window.inqFrame.com.inq.flash.client.control.XFrameWorker.hideLayerAndEndChat.apply(null,arguments)}function L(){return dt.isChatConnected()}function R(){return inqFrame.com.inq.flash.client.control.WebRTCMgr.isWebRTCCapable()}function H(){return dt.ciMinimize.apply(null,arguments)}function B(t,e,n){dt.ciMoveStage(t,e,n)}function V(t){(0,lt.default)()?_.each(t,function(e,n){t[n]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];setTimeout(function(){e.apply(null,n)})}}):_.each(t,function(e,n){t[n]=function(){try{for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(null,n)}catch(t){throw ACIF.Utils.logger(t,"error"),t}}}),dt.addListener(t)}function z(){return dt.ciRemoveCircularModalWindow()}function W(t){st(t)}function U(){return dt.ciTransitionPage()}function J(t,e){return dt.ciResizeStage(t,e)}function Q(){return dt.ciRestore.apply(null,arguments)}function X(t,e){return dt.requestTranscript(t,e)}function G(t,e,n){return Inq.sendAutomatonMessage(t,e,n)}function K(t){t="object"==typeof t?t:{"Automaton-Datapass":t};var e={agentID:y(),engagementID:F()};return Inq.sendAutomatonMessage("datapass",_.extend(t,e))}function Y(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return Inq.sendAutomatonMessage("system",t,"automaton-system-message "+e)}function Z(){return dt.ciSetAutomatonDataMapXcd.apply(null,arguments)}function tt(t,e,n){return dt.ciSetCircularModalWindow(t,e,n)}function et(t,e){return dt.setElementPosition(t,e)}function nt(t){return dt.ciSetEngageParameters(t)}function it(){return dt.ciSetFocusOnChatInputField()}function ot(){return dt.showAutomaton.apply(null,arguments)}function rt(t){return dt.ciShowLayer(t)}function at(t){return dt.ciShrinkLayer(t)}function st(t,e){var n=inqFrame.Inq.xforms;if(n&&n.bindOrbeonListeners){var i="acif::"+t;return n.unbindOrbeonListeners(i),e?n.bindOrbeonListeners(i,e):void 0}}function ut(t,e){return inqFrame.com.inq.flash.client.control.UploadHandler.engageFileUpload(t,e)}var lt=o(n),ct=o(i),dt=inqFrame.Inq.FlashPeer;!function(t){Object.keys(t).forEach(function(e){window[e]=t[e]})}({setAutomatonDataMap:Z,showAutomaton:ot,isChatConnected:L}),e.exports={addInputListeners:st,addListener:a,closeCI:s,engageAudio:u,engageChat:l,engageVideo:c,fireAssistedEvent:d,fireCustomEvent:f,getActiveRule:h,getAgentsAvailabilityCheckUrl:m,getAgentAttr:p,getAgentGroupId:v,getAgentGroupName:g,getAgentId:y,getAutomatonDataMap:b,getBrowserTypeAndVersion:w,getBusinessRuleAgentGroupId:x,getBusinessUnitId:T,getBusinessUnitName:E,getBusinessRuleName:C,getCustomerId:k,getCustomerCountryCode:I,getCustomerRegionCode:N,getCustomerZipCode:D,getDeviceType:$,getEngagementId:F,getPageId:j,getPageMarker:q,growLayer:O,hideLayer:M,hideLayerAndEndChat:P,isChatConnected:L,isWebRTCCapable:R,minimizeStage:H,moveStage:B,registerIJSFListeners:V,removeCircularTabbing:z,removeInputListeners:W,resetPhoneXframe:U,resizeStage:J,restoreStage:Q,requestTranscript:X,sendAutomatonMessage:G,sendDatapassMessage:K,sendSystemMessage:Y,setAutomatonDataMap:Z,setCircularTabbing:tt,setElementPosition:et,setEngageParameters:nt,setFocusOnChatInput:it,shrinkLayer:at,showAutomaton:ot,showLayer:rt,uploadFile:ut}}),define("acif/ci/index",["exports","module","./push-content","./ijsf-adapter"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(){ACIF.loaded={}}function a(t,e){var n=t.panel,i=ACIF.Utils,o=i.get(e,"panel.width"),r=i.get(e,"panel.height");ACIF.ci=ACIF.ci||{},ACIF.ci[n]=ACIF.ci[n]||{},ACIF.ci[n].automatonId=t.automatonId;o=o?parseInt(o):null,r=r?parseInt(r):null;var a=!(!r&&!o),s={};b(n)?s.height=r||200:y(n)?s.width=o||350:a&&(s.height=r,s.width=o),/left/gi.test(n)&&c({x:-s.width}),/top/gi.test(n)&&c({y:-s.height});var l=!(!s.height&&!s.width);!v(n)&&l&&u(n,s),x.default.showLayer(n)}function s(t){h(t)||ACIF.Utils.throwError(t+" does not exist and therefore cannot be closed.");var e=!!(ACIF.ci[t].width>0||ACIF.ci[t].height>0),n={};b(t)?n.height=0:y(t)?n.width=0:e&&(n.height=0,n.width=0);var i=p(t),o=i.width(),r=i.height();!v(t)&&e&&u(t,n),/left/gi.test(t)&&c({x:o}),/top/gi.test(t)&&c({y:r}),x.default.hideLayer(t),x.default.setFocusOnChatInput()}function u(t,e){var n=e.width,i=e.height,o=p(t);o||ACIF.Utils.throwError(t+" does not exist and therefore cannot be resized.");var r=0,a=0,s=i>=0,u=n>=0;if(s||u||ACIF.Utils.throwError('Automaton does not contain property "panel" with a specified height or width'),s){a=i-o.height(),x.default.setElementPosition(t,{height:i}),ACIF.ci[t].height=i}if(u){r=n-o.width(),x.default.setElementPosition(t,{width:n}),ACIF.ci[t].width=n}var l="Phone"!==x.default.getDeviceType(),c=g(t);l&&c&&f({width:r,height:a})}function l(t){if(y(t)){var e=ACIF.ci[t].width;x.default.setElementPosition(t,{width:e})}else if(b(t)){var n=ACIF.ci[t].height;x.default.setElementPosition(t,{height:n})}else if(!v(t)){var i=m(t);x.default.setElementPosition(t,i)}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,r=ACIF.$skin,a=r.position(),s=a.left,u=a.top,l=Math.max(s+n,0),c=Math.max(u+o,0);x.default.moveStage("ABSOLUTE",l,c)}function d(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=ACIF.$skin,n=e.width(),i=e.height(),o=t.width,r=t.height,a=o||n,s=r||i;x.default.resizeStage(a,s)}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=ACIF.$skin,n=t.width,i=void 0===n?0:n,o=t.height,r=void 0===o?0:o,a=e.width(),s=e.height(),u=a+i,l=s+r;x.default.resizeStage(u,l)}function h(t){return!!p(t).length}function p(t){return ACIF.$skin.is("div")?ACIF.$skin.find('[id$="'+t+'"]'):ACIF.$skin.contents().find('[id$="'+t+'"]')}function m(t){var e=ACIF.ci[t],n=e.width,i=e.height,o={};return n&&(o.width=n),i&&(o.height=i),o}function v(t){return["acifCenter","acifInnerFull","acifOuterFull"].indexOf(t)>-1}function g(t){return y(t)||b(t)}function y(t){return["acifOuterLeft","acifInnerLeft","acifInnerRight","acifOuterRight"].indexOf(t)>-1}function b(t){return["acifOuterTop","acifTranscriptTop","acifTranscriptBottom","acifOuterBottom","acifChatFooter"].indexOf(t)>-1}var w=o(n),x=o(i),_={};e.exports={listeners:_,initializePanel:a,closePanel:s,reinstatePanel:l,resizePanel:u,isMainPanel:v,resizeStage:d,isHorizontalPanel:b},_.onChatClosed=function(){r()},_.onAgentMsg=function(t){w.default.extractAgentScriptCommands(t)}}),define("acif/ci/push-content",["exports","module","./ijsf-adapter"],function(t,e,n){function i(t){var e=t.textLine,n=$("<div>").append(e).find("[data-automaton-id]"),i=n.data("automaton-id"),r=n.data("context")||"ci",a=n.data("panel"),s=n.data("action"),u="show"===s&&i&&a,l="hide"===s&&i&&a;if(!(!u&&!l)){var c={automatonID:i,context:r,location:a},d={type:"agent",id:o.default.getAgentId()};u?ACIF.loadAutomaton(c,d):l?ACIF.closeAutomaton(c):ACIF.Utils.throwError("The action '"+s+"' sent by the agent can not be handled by the ACIF")}}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports={extractAgentScriptCommands:i}}),define("acif/data/alerts",["exports","module","./evaluator","../ci/ijsf-adapter"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){this.Automaton=t}var a=o(n),s=o(i);e.exports=r;var u=r.prototype;u.checkAlertConditions=function(){var t=this.Automaton.getProp("surveyAlerts");Array.isArray(t)&&t.forEach(this.processAlertRule.bind(this))},u.processAlertRule=function(t){var e=this.Automaton.Data.CRM.getResponseList();if(new a.default(t.conditions,e).isSatisfied()){var n={alertName:t.name,emailSpecID:t.emailSpecId,emailSpecName:t.emailSpecName,emailSubject:this.getEmailSubject(t.emailSubject),emailBody:this.getEmailBody(t.emailTemplate)};s.default.fireCustomEvent("SendSurveyAlert",n)}},u.getEmailSubject=function(t){return t=t||"Survey Submission Alert",t=this.loadDynamicValues(t)},u.getEmailBody=function(t){var e="";if(t){e=this.Automaton.collections.templates.get(t).html}else e=this.createPlainTextEmail();return this.loadDynamicValues(e)},u.createPlainTextEmail=function(){return this.getResponsesWithEncodedAnswers().map(function(t){return"- <b>"+_.titleCase(t.questionId)+":</b> "+t.answer}).join("<br/>")},u.keywords={"engagement-id":s.default.getEngagementId,"agent-id":s.default.getAgentId,"br-name":s.default.getBusinessRuleName,"customer-id":s.default.getCustomerId,"co-browse":"","agent-group-id":s.default.getAgentGroupId,"agent-group-name":s.default.getAgentGroupName,"business-unit-id":s.default.getBusinessUnitId,"business-unit-name":s.default.getBusinessUnitName},u.loadDynamicValues=function(t){var e=this,n=/\[agent-attribute\.(.*?)\]/gi,i=/\[all-customer-responses]/gi,o=this.getResponsesWithEncodedAnswers(),r={};o.forEach(function(t){r[t.questionId]=t.answer}),t=t.replace(n,function(t,e){return s.default.getAgentAttr(e)||ACIF.Utils.htmlEncode("<< none >>")}),t=t.replace(i,this.createPlainTextEmail());var a=/\[(.*?)\]/g;return t.replace(a,function(t,n){if(!e.keywords[n])return r[n]?r[n]:t;try{return e.keywords[n]()||ACIF.Utils.htmlEncode("<< none >>")}catch(e){return t}})},u.getResponsesWithEncodedAnswers=function(){return this.Automaton.Data.CRM.getResponseList().map(function(t){var e=t.answerText,n=void 0;return n=Array.isArray(e)?0===e.length?"<< none selected >>":e.join(", "):String(e).match(/^true|false$/i)?e:e||"<< none >>",t.answer=ACIF.Utils.htmlEncode(n),t})}}),define("acif/data/customer-response-manager",["exports","module","../utils"],function(t,e,n){function i(t){var e=this;this.Data=t,this.Automaton=t.Automaton,this.storage=t.StorageClass.create(this,"CRM"),this.responsesToBeLogged={},this.apiData={_:{}},_.each(this.storage,function(t){e.exposeResponseToApi(t)})}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i;var r=i.prototype={constructor:i};r.addNodeSelection=function(t){var e=o.default.generateBreadcrumbs(this.Automaton.displayedPath),n=_.indexOf(e,t)>-1,i=!!this.Automaton.View.$viewport.find("form:visible").length;if(!n&&!i){var r=this.Automaton.node.id+"-"+t;this.addNodeTransition(r)}},r.addTransitionSelection=function(t){var e=this.Automaton.node.id+"-"+t;this.addNodeTransition(e)},r.addNodeTransition=function(t){var e=this.getCurrentQuestion(),n=this.getAnswerText(t),i=this.answerTypes.NON_FREE_FORM;if(e.questionText&&n){var o=_.extend({answerId:t,answerType:i,answerText:n},e);this.addResponse(o)}},r.getCurrentQuestion=function(){var t=this.Automaton.View.$viewport,e=t.find("[data-question]").text().trim()||this.Automaton.node.form_field_name,n=void 0,i=void 0;return e?(i=!1,n=e):(i=!0,e=t.find("h1,h2,h3").last().text().trim()||this.Automaton.node.name,n=this.Automaton.node.id),{questionId:n,questionText:e,isTransitionQuestion:i}},r.getAnswerText=function(t){var e=this.Automaton.activeEvent?this.Automaton.activeEvent.$element.text().trim():null,n=t.split("-")[1];return e||n},r.addResponse=function(t){var e=void 0!==t.answerType?t.answerType:this.answerTypes.FREE_FORM;t={questionText:t.questionText||"",questionId:t.questionId||"",answerText:t.answerText||"",answerId:t.answerId||"",questionNumber:t.questionNumber||"",answerNumber:t.answerNumber||"",answerType:e,isTransitionQuestion:t.isTransitionQuestion||!1},this.responsesToBeLogged[t.questionId]=t,this.save(t.questionId,t),this.exposeResponseToApi(t)},r.clearResponse=function(t){var e=o.default.underscore(t);delete this.apiData[t],delete this.apiData["_"+e],delete this.apiData._[e],delete this.responsesToBeLogged[t],this.save(t,void 0)},r.exposeResponseToApi=function(t){var e=o.default.underscore(t.questionId),n=o.default.underscore(t.answerText);this.apiData[t.questionId]=t.answerText,this.apiData["_"+e]=n,this.apiData._[e]=n},r.getResponseList=function(){var t=_.values(this.storage);return t=t.filter(function(t){return!!t}),t=_.sortBy(t,"questionNumber")},r.emptyResponses=function(){var t=_.values(this.responsesToBeLogged);return this.responsesToBeLogged={},t},r.answerTypes={FREE_FORM:1,NON_FREE_FORM:0},r.toDatapassString=function(){return _.values(this.storage).filter(function(t){return t&&!t.isTransitionQuestion}).map(function(t){var e="- "+t.questionId+":",n=t.answerText;return e+=Array.isArray(n)?"\n"+n.map(function(t){return"    ** "+t}).join("\n"):" "+n}).join("\n")},r.toSimpleObject=function(){var t={};return _.each(this.storage,function(e){e&&!e.isTransitionQuestion&&(t[e.questionId]=e.answerText)}),t}}),define("acif/data/data-warehouse",["exports","module","../utils/hash-code","../ci/ijsf-adapter"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){this.Automaton=t.Automaton,this.Storage=t.Storage,this.CRM=t.CRM,this.queue=[],this.isLogInProgress=!1,this.eventHistory=this.Storage.get("dw.eventHistory",[])}function a(t){return t=String(t||"").trim().toLowerCase(),t.match("survey")?t="satisfactionSurvey":t||(t="guide"),{type:t,automatonType:t}}function s(t){var e={};return _.each(t,function(t,n){n===v.answerTypes?e[n]=t.join(","):e[n]=Array.isArray(t)?u(t):t}),e}function u(t){return t=t.map(function(t){return encodeURIComponent(void 0!==t?t:"")}),encodeURIComponent(t.join(","))}function l(t){var e=v,n={};return _.each(t,function(t,i){var o=e[i]?e[i]:i;n[o]=t}),n}function c(t,e){return{previous_node_id:t.id||"",previous_node_name:t.name||"",next_node_id:e.id||e,next_node_name:e.name||e}}function d(t){return{node_id:t.id,node_name:t.name,node_type:t.type,node_is_outcome:t.is_outcome_node,node_business_unit_id:t.business_unit_id,node_agent_group_id:t.agent_group_id,node_agent_attributes:t.agent_attributes,node_auto_opener:t.client_outcome,node_redirect_url:t.redirect_url,check_agent_availability:t.require_agent_avlb,agents_busy_backup_node:t.agents_busy_node_id,outside_hop_backup_node:t.outside_hop_node_id}}function f(t){if(!t)return"";var e=[];return Object.keys(t).forEach(function(n){var i=t[n];void 0!==i&&(i=h(i),e.push(encodeURIComponent(n)+","+encodeURIComponent(i)))}),e.join(";")}function h(t){return String(t).replace(/,/g,"")}var p=o(n),m=o(i);e.exports=r;var v={nodeId:"unique_node_id",nodeName:"custom.decisiontree.nodeID",questions:"custom.decisiontree.questions",questionIds:"custom.decisiontree.questionIDs",answers:"custom.decisiontree.answers",answerIds:"custom.decisiontree.answerIDs",answerNumbers:"custom.decisiontree.answersNumeric",answerTypes:"custom.decisiontree.answerTypes",nodeAttributes:"automatonNodeAttributes",automatonAttributes:"automatonAttributes",outcomeType:"automaton.outcomeType",outcomeMessage:"automaton.outcome"},g=r.prototype={constructor:r};g.automatonStarted=function(t){this._log("started",{automatonName:this.Automaton.settings.name,automatonStartedBy:t.type+","+t.id,startedIn:"chat",countryCode:m.default.getCustomerCountryCode(),regionCode:m.default.getCustomerRegionCode()}),this.Storage.save("state.started",!0),this.Storage.save("state.ended",!1)},g.getAutomatonAttr=function(t){var e="attributes."+t;return this.Automaton.Data.get(e)},g.setAutomatonAttr=function(t,e){var n="attributes."+t;return this.Automaton.Data.save(n,e)},g.removeAutomatonAttr=function(t){var e="attributes."+t;return this.Automaton.Data.save(e,void 0)},g.contentSentToCustomer=function(t,e){e.length||(e=[this.CRM.getCurrentQuestion()]);var n=e.map(function(t){return t.questionText}),i=e.map(function(t){return t.questionId}),o=d(t),r=_.extend({},o,t.attributes),a=f(r);if("object"==typeof t.automatonAttributes){var s=_.extend({},this.Automaton.Data.get("attributes"),t.automatonAttributes);this.Automaton.Data.save("attributes",s)}this.updateOutcomeType(t),this._log("contentSentToCustomer",{nodeId:t.id,nodeName:t.name,nodeAttributes:a,questions:n,questionIds:i}),this.isTerminalNode(t)&&this.ended()},g.updateOutcomeType=function(t){var e=this.Storage.get("outcomeType");"Completed"!==e&&(e=t.is_outcome_node?"Completed":this.Automaton.Data.get("path.length")>1?"Abandoned":"Refused",this.Storage.save("outcomeType",e))},g.isTerminalNode=function(t){var e=this.Automaton.View.$viewport,n=["[data-node]","[data-transition]","[data-next-node]","[data-next-transition]",'[data-action="back"]','[data-action="start_over"]'],i=e.find(n.join(",")).filter(":visible").length,o=_.isObject(t.transitions)&&Object.keys(t.transitions).length>0;return!(i||o)},g.customerResponded=function(t,e,n){var i=this.getResponsesToLog(),o=c(t,n),r=d(e),a=_.extend({},o,r,e.attributes),s=f(a);this._log("customerResponded",_.extend({nodeId:e.id,nodeName:e.name,nodeAttributes:s},i))},g.getResponsesToLog=function(){function t(t){e.questions.push(t.questionText),e.questionIds.push(_.dasherize(t.questionId)),e.answers.push(t.answerText),e.answerIds.push(_.dasherize(t.answerId)),e.answerTypes.push(t.answerType),e.answerNumbers.push(t.answerNumber)}var e={questionIds:[],questions:[],answerIds:[],answers:[],answerTypes:[],answerNumbers:[]},n=this.CRM.emptyResponses();return n=_.sortBy(n,"questionNumber"),n.forEach(function(e){Array.isArray(e.answerText)?e.answerText.forEach(function(n,i){var o=e.answerType,r=e.questionText,a=e.questionId;t({answerId:e.answerId[i],answerNumber:e.answerNumber[i],answerText:n,answerType:o,questionId:a,questionText:r})}):t(e)}),e},g.ended=function(t){if(!this.Storage.get("state.ended")){t=t||{};var e=this.Automaton.Data,n=e.get("path");e.save("exit",!0),e.DW.setAutomatonAttr("nodeIdPath",n.join(".")),this._log("ended",{businessUnitID:t.business_unit_id,agentGroupID:t.agent_group_id,outcomeType:this.Storage.get("outcomeType"),outcomeMessage:this.Storage.get("outcomeMessage")}),this.Storage.save("state.started",!1),this.Storage.save("state.ended",!0)}},g._log=function(t,e){var n=this;this._addToEventQueue(t,e),clearTimeout(this.logEventsTimer),this.logEventsTimer=setTimeout(function(){n.logEventsTimer=null,n._sendEventLog()},10)},g._addToEventQueue=function(t,e){var n=this.Automaton.settings,i=this.Automaton.Data.get("attributes"),o=a(n.type);e=_.extend({_domain:"automaton",evt:t,acifVersion:ACIF.VERSION,automatonID:n.id,automatonType:o.automatonType,type:o.type,automatonAttributes:f(i)},e),["acifVersion","automatonID","automatonName","outcome","outcomeType"].forEach(function(t){e.hasOwnProperty(t)&&(e[t]=encodeURIComponent(e[t]))}),_.each(e,function(t,n){"undefined"===String(t)&&delete e[n]}),e=l(e),this.isDuplicateEvent(e)||(e.clientTimestamp=Date.now(),this.eventHistory.push(e),this.Storage.save("dw.eventHistory",this.eventHistory),e=s(e),this.queue.push(e))},g.isDuplicateEvent=function(t){var e=(0,p.default)(t),n=this.Storage.get("lastEventHash"),i=e===n;return i||this.Storage.save("lastEventHash",e),i},g._sendEventLog=function(){var t=this.queue,e=this.Automaton.Env;this.queue=[],(e.showEvents||e.devMode)&&this.sendEventHistoryToConsole(),m.default.fireCustomEvent("LogToDW",{eventList:t}),(this.Automaton.Env.showEvents||this.Automaton.Env.devMode)&&console.debug("ACIF LogToDW:",t)},g.sendEventHistoryToConsole=function(){var t={},e=_.last(this.eventHistory).evt;this.eventHistory.forEach(function(e,n){var i=n+1,o=i+") "+e.evt,r={};_.each(e,function(t,e){r[e]=Array.isArray(t)?t.join(","):t}),t[o]=r}),console.debug("ACIF Event Log (last event: "+e+")",t)}}),define("acif/data/data",["exports","module","../utils","./data-warehouse","./customer-response-manager","./local-storage","./storage-mixin","./alerts"],function(t,e,n,i,o,r,a,s){function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.Automaton=t,this.Storage=new h.default(t),this.Alerts=new m.default(t)}var c=u(n),d=u(i),f=u(o),h=u(r),p=u(a),m=u(s);e.exports=l;var v=l.prototype={constructor:l};v.init=function(){var t=this;return this.Storage.init().then(function(e){return t.StorageClass=(0,p.default)(t),t.storage=t.StorageClass.create(t,"Automaton.Data"),t.CRM=new f.default(t),t.DW=new d.default(t),e})},v.triggerCustomerResponded=function(t){var e=this.Automaton.api.getPreviousNode()||{},n=this.Automaton.node;if("exit"===t||t.is_chat_node){var i="object"==typeof t?t.outcome_message:this.Automaton.node.outcome_message;i=i||n.outcome_message||"",this.Storage.save("outcomeMessage",i)}this.DW.customerResponded(e,n,t),this.persistCustomAutomatonProperties(),this.Automaton.activeEvent=null},v.triggerStarted=function(){this.DW.automatonStarted.apply(this.DW,arguments)},v.triggerContentSentToCustomer=function(t,e){this.DW.contentSentToCustomer(t,e)},v.triggerEnded=function(t){this.DW.ended(t)},v.checkAlertConditions=function(){this.Alerts.checkAlertConditions()},v._x_updateOutcomeMessage=function(t){var e=this.getLeavingNode(),n=t||e.outcome_message||"";this.save("outcomeMessage",n)},v._x_getLeavingNode=function(){var t=this.Automaton.node;if(t.is_chat_node){var e=this.storage.path,n=e[e.length-2];t=this.Automaton.collections.nodes.get(n)}return t},v.logCustomData=function(){var t=$(this),e=t.data("element"),n=t.data("element-response"),i=t.is("[data-log-multiple]"),o=t.data("occurence")||0;e&&n&&(i&&(o+=1,n=n+" ("+o+")",t.data("occurence",o)),this.Store.addToLogQueue("custom","custom: "+e,n))},v.persistCustomAutomatonProperties=function(){var t=this.Automaton.settings.getCustomProperties();if(Object.keys(t).length){c.default.logger.deprecate('Saving custom data on the automaton object is deprecated. To save (and get) custom data, use `api.save("key", value)` and `api.get("key")`'),this.save("automaton",t)}return t}}),define("acif/data/evaluator",["exports","module","../utils","../ci/ijsf-adapter"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){this.totalEvaluated=0,this.responses=e;var n=Array.isArray(t)?{and:t}:t,i=this.evaluateConditional(n);this._isSatisfied=i}function a(t){return Array.isArray(t)?t.map(function(t){return a(t)}):String(t).toLowerCase()}var s=o(n),u=o(i);e.exports=r;var l=r.prototype,c={equals:"equals","==":"equals","=":"equals","===":"equals","!=":"not-equal","!==":"not-equal","contains any":"contains-any","contains none":"contains-none",contains:"contains","does not contain":"not-contain","doesn't contain":"not-contain","starts with":"starts-with","ends with":"ends-with","does not start with":"not-start-with","doesn't start with":"not-start-with","does not end with":"not-end-with","doesn't end with":"not-end-with",">":"greater-than",">=":"greater-than-or-equal-to","<":"less-than","<=":"less-than-or-equal-to","is greater than or equal to":"greater-than-or-equal-to","is greater than":"greater-than","is less than or equal to":"less-than-or-equal-to","is less than":"less-than",in:"in","not in":"not-in","is blank":"is-blank","is not blank":"is-not-blank","is not":"not-equal",is:"equals"},d=["equals","not-equal","contains-any","contains-none","contains","starts-with","not-start-with","ends-with","not-end-with","in","not in"];l.and=function(t){var e=this;return-1===_.findIndex(t,function(t){return!0!==e.evaluateConditional(t)})},l.or=function(t){var e=this;return _.findIndex(t,function(t){return e.evaluateConditional(t)})>-1},l.not=function(t){return!this.and(t)},l.nor=function(t){return!this.or(t)},l.evaluateConditional=function(t){var e=this;return s.default.tryCatch(function(){return e._evaluateConditional(t)},function(e){try{t=JSON.stringify(t,null,4)}catch(t){}s.default.console.log("Could not evaluate condition: "+t),s.default.console.log(e.stack)})},l._evaluateConditional=function(t){if(Array.isArray(t.or))return this.or(t.or);if(Array.isArray(t.and))return this.and(t.and);if(Array.isArray(t.not))return this.not(t.not);if(Array.isArray(t.nor))return this.nor(t.nor);this.totalEvaluated++;var e=r.parse(t);e||s.default.throwError(t+" is not a valid condition");var n=e.ref,i=e.operator,o=e.expected,u=this.getActualValue(n);o=this.getKeywordReference(o)||o,i=r.operators[i]?i:c[i],d.indexOf(i)>-1&&(o=a(o),u=a(u));var l=r.operators[i];if("function"==typeof l){var f=l(o,u);return f||(this.firstInvalid=t),f}return void s.default.console.log(e.operator+" is not a valid operator")},l.getActualValue=function(t){var e=this.getKeywordReference(t);if(e)return e;var n=_.findIndex(this.responses,function(e){return e.questionId.toString()===t.toString()});if(-1!==n){return e=this.responses[n].answerText}};var f={"br-name":u.default.getBusinessRuleName,"co-browse":"","agent-group-id":u.default.getAgentGroupId,"agent-group-name":u.default.getAgentGroupName,"business-unit-id":u.default.getBusinessUnitId,"business-unit-name":u.default.getBusinessUnitName},h=new RegExp("^("+Object.keys(f).join("|")+")$","i");l.getKeywordReference=function(t){if("string"==typeof t){var e=/^agent-attribute\.(.*)/i,n=t.match(e);if(n){var i=n[1];return u.default.getAgentAttr(i)}var o=t.match(h);if(o)try{var r=o[1];return f[r]()}catch(t){}}},l.isSatisfied=function(){return this._isSatisfied};var p=r.operators={};p.equals=function(t,e){return t===e},p["not-equal"]=function(t,e){return!p.equals(t,e)},p.contains=function(t,e){return e.indexOf(t)>-1},p["not-contain"]=function(t,e){return!p.contains(t,e)},p["contains-any"]=function(t,e){return _.findIndex(t,function(t){return e.match(t)})>-1},p["contains-none"]=function(t,e){return!p["contains-any"](t,e)},p["starts-with"]=function(t,e){return 0===e.indexOf(t)},p["not-start-with"]=function(t,e){return!p["starts-with"](t,e)},p["ends-with"]=function(t,e){return!!e.match(new RegExp(t+"$","i"))},p["not-end-with"]=function(t,e){return!p["ends-with"](t,e)},p["is-blank"]=function(t,e){return""===String(e||"").trim()},p["is-not-blank"]=function(t,e){return!p["is-blank"](t,e)},p.in=function(t,e){return t.indexOf(e)>-1},p["not-in"]=function(t,e){return!p.in(t,e)},p["greater-than"]=function(t,e){return Number(e)>Number(t)},p["greater-than-or-equal-to"]=function(t,e){return Number(e)>=Number(t)},p["less-than"]=function(t,e){return Number(e)<Number(t)},p["less-than-or-equal-to"]=function(t,e){return Number(e)<=Number(t)},r.parse=function(t){return"string"==typeof t?this.parse.string(t):Array.isArray(t)?this.parse.array(t):void 0},r.parse.string=function(t){var e=Object.keys(c).map(function(t){return t.replace(/\s+/g,"[\\s_-]")}).join("|"),n=new RegExp("^([\\w-\\.\\[\\]'\"]+)\\b\\s*("+e+")\\s*\\b([\\w-\\.\\[\\]'\"\\s,]+)$","i"),i=t.match(n);if(i){var o=i[1],r=i[2],a=i[3];"is"===r&&"blank"===a?(r="is-blank",a=null):"is not"===r&&"blank"===a?(r="is-not-blank",a=null):r=c[r];return!!r.match(/^(|not-)in|contains-any|contains-none$/)&&(a=a.split(/\s*,\s*/g)),{ref:o,operator:r,expected:a}}},r.parse.array=function(t){var e=t.shift(),n=t.shift(),i=t;if(i.length){n.toString().match(/^(|not-)in$/i)||(i=i[0])}else i=n,n=i instanceof RegExp?"regex":"equals";return{ref:e,operator:n,expected:i}}}),define("acif/data/index",["exports","module","./data"],function(t,e,n){t.default=function(t){return t&&t.__esModule?t.default:t}(n),e.exports=t.default}),define("acif/data/local-storage",["exports","module","../utils"],function(t,e,n){function i(t){this.Automaton=t}var o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=parent.parent.inQ.Storage;e.exports=i;var a=i.prototype={constructor:i};a.init=function(){var t=this,e=this.Automaton,n=e.utils.makePromise("local-storage initializing"),i=e.options,o=i.startedBy;return this.scope="ci"===i.context?"engagement":"tab",this.storageKey="automaton-"+e.id+"|"+o.name+"|"+i.location,r.get(this.storageKey,this.scope,function(e,i){if(e)return n.reject(e);i?t.data=i:(t.data={},t.persist()),n.resolve(t.data)}),n},a.get=function(t,e){var n=o.default.get(this.data,t);return void 0===n&&void 0!==e&&(this.save(t,e),n=e),n},a.save=function(t,e){o.default.set(this.data,t,e),this.persist()},a.persist=_.debounce(function(){this._immediatePersist()},100),a._immediatePersist=function(){r.set(this.storageKey,this.data,this.scope)}}),define("acif/data/storage-mixin",["exports","module"],function(t,e){function n(t){function e(t){var e=n+"::"+t;if(this.storageKey=e,this.LocalStorage=o,this.data=o.get(e),!this.data){var i={};o.save(this.storageKey,i),this.data=i}}var n=t.Automaton.hash,o=t.Storage;return e.prototype=i,e.create=function(t,n){var o=new e(n);return _.each(i,function(e,n){t[n]=e.bind(o)}),o.getAll()},e}e.exports=n;var i={};i.save=function(t,e){var n=this
;if("object"==typeof t)return void _.each(t,function(t,e){n.save(e,t)});t=this.storageKey+"."+t,this.LocalStorage.save(t,e)},i.get=function(t,e){t=this.storageKey+"."+t;var n=this.LocalStorage.get(t);return void 0===n&&void 0!==e&&(this.save(t,e),n=e),n},i.getAll=function(){return this.data}}),define("acif/environment/flashvars",["exports","module","../ci/ijsf-adapter"],function(t,e,n){function i(){var t=r.default.getBrowserTypeAndVersion(),e={browserType:t[0],browserVersion:t[1],automatonDataMap:r.default.getAutomatonDataMap(),operatingSystemType:o(),agentGroupID:r.default.getAgentGroupId(),businessUnitID:r.default.getBusinessUnitId(),brName:r.default.getBusinessRuleName(),pageMarker:r.default.getPageMarker(),pageID:r.default.getPageId()};return e.brName.match(/-P-/)?e.launchType="proactive":e.brName.match(/-R-/)?e.launchType="reactive":e.launchType="unknown",e.deviceType||(e.deviceType=r.default.getDeviceType()||"unknown"),e}function o(){var t="Unknown",e=window.navigator.platform,n=window.navigator.userAgent;return/Android/.test(n)?t="Android":/iPhone/.test(n)||/iPad/.test(n)||/iPod/.test(n)?t="iOS":/Win/.test(e)?t="Windows":/Linux/.test(e)?t="Linux":/Mac/.test(e)&&(t="Mac OS"),t}var r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i}),define("acif/environment/get-env-var",["exports","module","./globals"],function(t,e,n){function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o.default.window,i=new RegExp(t+"=?([^&]*|)([&#]|$)","i"),r=o.default.location.href.match(i),a=(r?r[1]||!0:null)||(sessionStorage?sessionStorage.getItem(t):null)||(localStorage?localStorage.getItem(t):null)||n[t]||n[t.replace(/-/g,"_")];return e.persist&&a&&window.sessionStorage&&sessionStorage.setItem(t,a),a}e.exports=i;var o=function(t){return t&&t.__esModule?t:{default:t}}(n)}),define("acif/environment/globals",["exports","module"],function(t,e){var n=void 0;try{n=window.top}catch(t){n=parent.parent}e.exports={window:n,location:n.location}}),define("acif/environment/index",["exports","module","./flashvars","./globals","./get-env-var","./is-dev-mode"],function(t,e,n,i,o,r){function a(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=t.top,n=t.frame,i=n.document,o=n===e,r=!!l.default.location.href.match("inqChat.html"),a=document.getElementById("acif-preview-container"),s=!!a,f=(0,u.default)(),h=f.deviceType||"",p=f.operatingSystemType||"",m=(0,c.default)("nuance-env")||"production";this.devMode=(0,d.default)(),this.win=l.default.window,this.flashVars=f,this.location=l.default.location,this.is_top_frame=o,this.top=e,this.document=i,this.isIE7=-1!==navigator.appVersion.indexOf("MSIE 7."),this.isIE8=void 0===document.addEventListener,this.isAndroidMobile=!(!h.match(/phone|tablet/i)||!p.match(/android/i)),this.isIOS=!!p.match(/ios/i),this.isIOS9=!!navigator.userAgent.match(/iPhone OS 9/i),this.isFF=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.is_touch_enabled="ontouchstart"in window,this.is_preview_mode=s,this.previewContainerEl=a,this.isPersistentWindow=r,this.dbSync=this.getDbSync(),this.dbSyncClient=this.getDbSyncClient(),this.showEvents=this.get("nuance-show-events",{persist:!0}),this.environment=m,this.isTest=!!m.match(/^test|agvsptest01/i),this.isDev=!!m.match(/^dev/i),this.isProd=!!m.match(/^prod/i)}var u=a(n),l=a(i),c=a(o),d=a(r);e.exports=s;var f=s.prototype={constructor:s};f.get=c.default,f.getDbSyncClient=function(){return(0,c.default)("tc-client-id")},f.getDbSync=function(){return(0,c.default)("tc-db-sync",{persist:!0})}}),define("acif/environment/is-dev-mode",["exports","module","./get-env-var"],function(t,e,n){var i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=void 0;e.exports=function(){if(void 0!==o)return o;var t=(0,i.default)("nuance-env")||"production";return o=!!t.match(/^dev/i)}}),define("acif/environment/location",["exports","module"],function(t,e){var n;try{n=window.top.location}catch(t){n=parent.parent.location}e.exports=n}),define("acif/index",["exports","./utils/mixins","./utils","./automaton","./models/Collection","./ci","./ci/ijsf-adapter"],function(t,e,n,i,o,r,a){function s(t){return t&&t.__esModule?t:{default:t}}function u(){var t=inQ.Storage.peek(S,"engagement");ACIF.ci=t||ACIF.ci,ACIF.onStorageReady.resolve()}function l(){ACIF.onStorageReady.then(c)}function c(){var t=p(),e=y(),n=m();ACIF.$skin=w().$skin,n.forEach(function(t){ACIF.loadAutomaton(t.params,t.startedBy,null,{initializePanel:!1})}),t.forEach(function(t){ACIF.loadAutomaton(t,e)})}function d(){var t=new $.Deferred;return I?t.resolve(I):(function e(){var n=window.inqGuide?window.inqGuide.staticConfigs:null;if(!n)return setTimeout(e,10);var i=new T.default(n.automatons,"automaton");I=i,t.resolve(i)}(),t)}function f(t){setTimeout(function(){h(t)})}function h(t){var e=w();if(e.$skin&&e.$skin.is(":visible")){var n=t.surveyId,i=t.context,o=void 0===i?"ci":i,r=t.location,a=void 0===r?"center":r,s={type:"survey",id:"survey"},u={automatonID:n,context:o,location:a};k.default.hideLayer("thankYou"),ACIF.loadAutomaton(u,s)}}function p(){var t=k.default.getActiveRule(),e=t.getAutomatonParams(),n=k.default.getAutomatonDataMap();return e=e.concat(A.default.get(parent,"NUANCE_PREVIEW.automatons")||[]),e.forEach(function(t){var e=t.datapass||{};t.location=t.location||"center",t.datapass=_.extend(n,e),t.automatonID=t.automatonID||t.id||t.automatonId}),e}function m(){var t=inQ.Storage.peek("acif-loaded-automatons","engagement")||{};return Object.keys(t).filter(function(e){return t[e]}).map(function(t){return JSON.parse(t)})}function v(t,e,n){var i=t.automatonID,o=t.context,r=t.location,a=t.datapass,s=void 0===a?{}:a,u=r||null;i||A.default.throwError("'"+i+"' is not a valid automaton ID.  Likely configuration issue in the business rules."),"ci"===o&&(u=x(r));var l=b(o,u);return l.$container.empty(),{automatonId:i,context:o,location:r,panel:u,automatonDataMap:n||k.default.getAutomatonDataMap(),datapass:s,startedBy:e,top:parent,frame:l.frame,document:l.document,$container:l.$container,$skin:l.$skin}}function g(t,e){return JSON.stringify({params:{automatonID:t.automatonID,context:t.context,location:t.location},startedBy:e})}function y(){var t=k.default.getActiveRule()||{};return{type:"br",id:t.id,name:t.name}}function b(t,e){var n=void 0,i=void 0,o=void 0,r=void 0;if("ci"===t){var a=w();n=a.$skin,i=a.frame,r=a.document,o=$('[id$="'+e+'"]',r.body)}else{if("page"!==t)throw new Error('Expected automaton "context" parameter to equal "ci" or "page". Received "'+t+'"');o=$("#"+e,parent.document),i=parent,r=parent.document}if(!o||!o.length)throw new Error('Could not find automaton container element "'+e+'"');return{frame:i,$container:o,$skin:n,document:r}}function w(){var t=parent.document.getElementById("tcChat_Skin"),e=void 0,n=void 0;return t?(e=parent,n=parent.document):(t=inqFrame.frameElement,n=inqFrame.document,e=inqFrame),{$skin:$(t),frame:e,document:n}}function x(t){return"acif"+t.split(/\W+/g).map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("")}var A=s(n),C=s(i),T=s(o),E=s(r),k=s(a);window.ACIF=parent.inQ.ACIF||{};var S="acif-ci";parent.inQ.ACIF=ACIF,_.extend(ACIF,{VERSION:"3.0.23",frame:window,Utils:A.default,_jsonpCallbacks:{},$:$,_:_,automatons:{},loaded:{},IJSF:k.default}),k.default.registerIJSFListeners({onStorageReady:u,onACIFCanvasReady:l,onLoadPostChatSurvey:f,onChatClosed:E.default.listeners.onChatClosed,onAgentMsg:E.default.listeners.onAgentMsg}),ACIF.onStorageReady=new $.Deferred,function(){w().document.querySelector('[id$="acifCenter"]')&&l()}(),ACIF.ciPanelAutomatonMap={},ACIF.loadAutomaton=function(t,e,n,i){var o=this;d().then(function(r){if(i=i||{},"object"!=typeof e)throw A.default.throwError("loadAutomaton requires a `startedBy` object to be passed. Received: "+e);var a=g(t,e);if(!o.loaded[a]){var s=v(t,e,n);if("ci"===s.context){var u=ACIF.ciPanelAutomatonMap[s.panel];if(u&&u.close(),!1===i.initializePanel)E.default.reinstatePanel(s.panel);else{var l=r.get(s.automatonId);E.default.initializePanel(s,l)}}var c=C.default.load(s);if(o.automatons.active=c,o.automatons["a"+c.id]=c,o.loaded[a]=!0,"ci"===s.context){var d=s.panel;ACIF.ciPanelAutomatonMap[d]=c}ACIF.persistLoadedAutomatons()}})},ACIF.closeAutomaton=function(t){var e=t.automatonID,n=t.location,i=t.context,o=ACIF.getAutomatonById(e);if(!o)return A.default.console("Could not find automaton '"+e+"' to close.","error"),void k.default.sendDatapassMessage({Warning:"Agent-pushed content ID "+e+" is not available to close."});o.View.Exit.unload();var r=o.options.startedBy,a=g(t,r);if(this.loaded[a]=!1,"ci"===i){var s=x(n);ACIF.ciPanelAutomatonMap[s]=null}ACIF.persistLoadedAutomatons()},ACIF.getAutomatonById=function(t){return this.automatons["a"+t]};var I=void 0;ACIF.persistLoadedAutomatons=_.debounce(function(){inQ.Storage.set("acif-loaded-automatons",ACIF.loaded,"engagement"),inQ.Storage.set(S,ACIF.ci,"engagement")},100)}),define("acif/models/Automaton",["exports","module","./Model"],function(t,e,n){function i(t,e){o.default.call(this,t,e),this.loadCustomNodeProperties(),this._originalProperties=Object.keys(this).concat("_originalProperties")}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i;var r=i.prototype=new o.default;r.constructor=i,r._modelType="automaton",r.getCustomProperties=function(){var t={};for(var e in this){this.hasOwnProperty(e)&&-1===this._originalProperties.indexOf(e)&&(t[e]=this[e])}return t},r.extend=function(t){t&&"object"==typeof t&&_.extend(this,t)},r.loadCustomNodeProperties=function(){if(this.proto&&"object"==typeof this.proto.nodeProperties&&"object"==typeof this.nodeProperties)for(var t in this.proto.nodeProperties)this.nodeProperties[t]=_.extend({},this.nodeProperties[t],this.proto.nodeProperties[t])}}),define("acif/models/Collection",["exports","module","./Model","./Automaton","./Node","./Style","../utils"],function(t,e,n,i,o,r,a){function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){this.models=t,this.type=e,this.initializedModels={},this.Automaton=n}var l=s(n),c=s(i),d=s(o),f=s(r),h=s(a);e.exports=u,u.prototype.constructor=u;var p={automaton:c.default,node:d.default,style:f.default,default:l.default};u.prototype.get=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t instanceof l.default)return t;var n={},i=h.default.isNumber(t),o=i?"id":"name",r=i?parseInt(t):t;n[o]=r;var a=_.findWhere(this.models,n);if(!a){if(!1===e.throws)return;return void h.default.throwError('Could not find model id "'+t+'" in '+this.type+"s list.")}var s=this.initializedModels[a.id];if(!s){s=new(p[this.type]||p.default)(a,this,this.Automaton),this.initializedModels[s.id]=s}return s}}),define("acif/models/Model",["exports","module","../utils"],function(exports,module,_utils){function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function Model(t,e){this.properties=t||{},this.collection=e,_.extend(this,this.properties),this.properties.custom_data&&this.extendWithCustomData(),this.properties.proto&&this.inheritFromPrototype()}var _Utils=_interopRequireDefault(_utils);module.exports=Model;var fn=Model.prototype={constructor:Model};fn.inheritFromPrototype=function(){this.proto=this.collection.get(this.proto),this.customData&&this.proto.customData&&(this.customData=$.extend(!0,{},this.proto.customData,this.customData)),"object"==typeof this.proto.transitions&&"object"==typeof this.transitions&&_.each(this.proto.transitions,function(t,e){this.transitions[e]=this.transitions[e]?[].concat(this.transitions[e]).concat(this.proto.transitions[e]):t}),_.defaults(this,this.proto)},fn.extendWithCustomData=function(){var t=JSON.parse(this.custom_data),e=t.versions||t.automatons,n=this.collection.automaton;e&&n&&_.each(e,function(e,i){var o=e[n.id]||e[n.name];void 0!==o&&(t[i]=o)}),this.customData=t,_.extend(this,t)},fn.runHook=function(methodName,context){context=context||this;var self=this,code=this[methodName]||"",hookMethodResponse=void 0;if("string"==typeof code&&(code=code.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,""),code=code.trim()),code)return _Utils.default.tryCatch(function(){self._super=self.createSuper(methodName);var fn=void 0;if("string"==typeof code){var api=self.collection.Automaton.api;code.match(/^function\s*\([\s\S]*\}$/)?eval("fn = "+code+";"):eval("fn = function() {"+code+"};")}else"function"==typeof code&&(fn=function(){return code.apply(context,[])});hookMethodResponse=fn.apply(context,[])},function(t){var e='Failed to evaluate the "'+methodName+'" custom code for '+self._modelType+" "+self.id+' ("'+self.name+'").\nReceived error: '+t.message;_Utils.default.console(e,"error")}),hookMethodResponse},fn.createSuper=function(t){return function(){var e=void 0;if(t?this.proto?this.proto[t]||(e='Prototype model has no "'+t+'" method.'):e="Model has no prototype model assigned":e="Custom method name not specified.",!e)return this.proto.runHook(t,this);_Utils.default.console("Error calling this._super() - "+e,"error")}},fn.get=function(t){return _Utils.default.getPropFromAlias(this,t)}}),define("acif/models/Node",["exports","module","../ci/ijsf-adapter","./Model","../utils"],function(t,e,n,i,o){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){u.default.call(this,t,e),this.Automaton=n,this.loadCustomNodeProperties(),this.validateActions()}function s(t){return!(!t||"object"!=typeof t||Array.isArray(t))}var u=(r(n),r(i)),l=r(o);e.exports=a;var c=new u.default;a.prototype=c,c.constructor=a,c._modelType="node",c.loadCustomNodeProperties=function(){var t=this,e=this.collection.automaton.nodeProperties;if("object"==typeof e){var n=(this.tags||"").toString().replace(","," ").split(/\s+/);n.push(this.type.toLowerCase()),n.forEach(function(n){e[n]&&_.extend(t,e[n])})}};var d=["console","fireAssistedEvent","fireCustomEvent","growLayer","hideLayer","position","resize","sendSystemMessage","sendToAgent","showLayer","shrinkLayer"];c.runCustomAction=function(t){var e=this.actions,n=this.Automaton,i=e?e[t]:null;if(!s(i))return!1;var o=i.action,r=i.params;return r=[].concat(r),n.api[o].apply(n,r),!0},c.validateActions=function(){var t=this.actions;return!!t&&Object.keys(t).forEach(function(e){s(t[e])||l.default.throwError('Custom action "'+e+'" must be an object.');var n=t[e].action;d.indexOf(n)>-1||l.default.throwError('Unrecognized action "'+n+'" found in "'+e+'"\nSupported actions: '+d)}),!0}}),define("acif/models/Style",["exports","module"],function(t,e){function n(t,e,n){this.name=t.name,this.css=t.css,this.collection=e,this.Automaton=n,this.importStyles()}e.exports=n;var i=n.prototype={constructor:n};i.importStyles=function(){for(var t,e=/#viewport _ACIF_STYLE_IMPORT_[\s{]+id:\s*"(\w+)";\s*}/g,n=this.css;t=e.exec(this.css);){var i=Number(t[1]),o=this.collection.get(i),r=o.getCSS();n=n.replace(t[0],r)}return this.css=n,this},i.addNamespace=function(t){var e=this,n=/#viewport[^{]*/gm;return(this.css.match(n)||[]).forEach(function(n){var i=n.replace(/([\.#])/gm,"$1"+t);e.css=e.css.replace(n,i)}),this},i.updateTooltipClassName=function(){var t="inq-"+this.Automaton.id+"-ui-tooltip";return this.css=this.css.replace(/#[\w-]*viewport\s+(.*\.[\w-]*tooltip)\b/g,"$1"),this.css="body ."+t+" { background: white; z-index: "+this.Automaton.View.$skin.css("z-index")+";}\n"+this.css,this},i.addToDOM=function(){var t=this.Automaton,e="tc-"+t.options.location+"-styles",i=t.Env.document;$("#"+e,i).remove();var o=n.loadStyleSheet(this.css,e,null,i);return $(o).attr("data-automaton-id",t.id),this},i.getCSS=function(){return this.css},i.preloadImages=function(){for(var t=/url\(['"]?([^'"\)]+)['"]?\)/g,e=void 0,n=void 0;n=t.exec(this.css);)e=new Image,e.src=n[1];return this},n.loadStyleSheet=function(t,e,n,i){var o=i.createElement(n?"link":"style");return o.type="text/css",e&&(o.id=e),n?$(o).attr("href",t).attr("rel","stylesheet"):o.styleSheet?o.styleSheet.cssText=t:o.appendChild(i.createTextNode(t)),$("head",i).append(o),o}}),define("acif/transitions/TransitionEvaluator",["exports","module","../utils"],function(exports,module,_utils){function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function TransitionEvaluator(t,e){this.name=t,this.Automaton=e,this.index=-1,this.entries=this.findMatchingTransitionEntries(t),this.evaluateAllEntriesPromise=new $.Deferred,this.nextEntry()}var _Utils=_interopRequireDefault(_utils);module.exports=TransitionEvaluator;var fn=TransitionEvaluator.prototype={constructor:TransitionEvaluator};fn.findMatchingTransitionEntries=function(t){var e=this.Automaton.node||{},n=e.transitions||{},i=this.Automaton.settings.transitions||{},o=[].concat(i[t]).concat(n[t]);return _.compact(o)},fn.nextEntry=function(){this.index++,this.index<this.entries.length?(this.entry=this.entries[this.index],this.evaluate()):(_Utils.default.console('Transition event "'+this.name+'" was triggered, but did not result in a node transition.'),this.evaluateAllEntriesPromise.reject())},fn.evaluate=function(){var t=this.entry;if(_.isNumber(t)||_.isString(t))return void this.chooseNode(t);var e=t.node_id;if(!e)return void this.nextEntry();if(t.automaton_id){if(-1===[].concat(t.automaton_id).indexOf(this.Automaton.settings.id))return void this.nextEntry()}return t.condition&&!this.conditionPassed()?void this.nextEntry():_.isBoolean(t.AA)||_.isBoolean(t.inHOP)||_.isBoolean(t.outsideHOP)||_.isBoolean(t.chatSlots)||_.isBoolean(t.queueSlots)||!!t.target_chat_node?void this.checkAgentAvailability():void this.chooseNode(e)},fn.chooseNode=function(t){if("string"==typeof t){var e=t;switch(e){case"back":t=this.Automaton.Data.storage.previousNodeID;break;case"close":return this.Automaton.close();case"start_over":t=this.Automaton.settings.initial_node;break;default:_Utils.default.throwError('Transition keyword "'+e+'" not recognized.')}}this.evaluateAllEntriesPromise.resolve(t)},fn.conditionPassed=function(){var t=this,e=!1,n=this.entry.condition;return _Utils.default.tryCatch(function(){e=t.evaluateCondition(n)},function(e){t.onEvalFailure(e)}),e},fn.evaluateCondition=function(condition){var automaton=this.Automaton.settings,passed=!1,condFn=void 0;if("function"==typeof condition)condFn=condition;else if("string"==typeof condition)if("function"==typeof automaton[condition])condFn=automaton[condition];else if("function"==typeof this.Automaton.node[condition])condFn=this.Automaton.node[condition];else{var that=this,vars=["api = that.Automaton.api","forms = api.forms","_ = forms._"];vars=vars.map(function(t){return"\tvar "+t+";"}).join("\n"),eval("condFn = function(node) {\n"+vars+"\n\treturn ("+condition+");\n};")}return passed=condFn.call(this.Automaton.node,this.Automaton.node)},fn.onEvalFailure=function(t){var e="Failed to evaluate transition entry # "+(this.index+1)+' of transition event named "'+this.transitionName+'". Received error: '+t.message;_Utils.default.console(e,"error")},fn.checkAgentAvailability=function(){var t=this,e=this.entry,n=e.target_chat_node||e.node_id,i=this.Automaton.collections.nodes.get(n),o=_.extend({},i,e);this.Automaton.Chat.checkAA(o).then(function(n){var i=!0;if(i&&_.isBoolean(e.AA)&&(i=e.AA===n.AA),i&&_.isBoolean(e.inHOP)&&(i=e.inHOP===n.inHOP),i&&_.isBoolean(e.outsideHOP)&&(i=e.outsideHOP===n.outsideHOP),i&&_.isBoolean(e.chatSlots)){var o="online"===n.status&&!0===n.AA;i=e.chatSlots===o}if(i&&_.isBoolean(e.queueSlots)){var r="busy"===n.status&&!0===n.AA;i=e.queueSlots===r}i?t.chooseNode(e.node_id):t.nextEntry()})},fn.getPromise=function(){return this.evaluateAllEntriesPromise}}),define("acif/transitions/index",["exports","module","./transitions"],function(t,e,n){t.default=function(t){return t&&t.__esModule?t.default:t}(n),e.exports=t.default}),define("acif/transitions/redirect",["exports","module","../utils"],function(t,e,n){function i(t){this.Automaton=t,this.env=t.Env}function o(t,e){function n(t){return t.replace(/:.*/,":")}function i(t){return t.replace(/^(.*\/\/)([^:\/]+)(.*$)/,"$2")}function o(t){var e=t.match(/^.*\/\/.*:([^\/]*).*/);return e?e[1]:""}return n(t)===n(e)&&(i(t)===i(e)&&o(t)===o(e))}var r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i;var a=i.prototype={constructor:i};a.openPopup=function(t){this.availHeight=this.env.win.screen.availHeight,this.availWidth=this.env.win.screen.availWidth;var e=this.Automaton.getProp("redirect_width",t),n=this.Automaton.getProp("redirect_height",t),i=Math.min(e||700,this.availWidth),a=Math.min(n||500,this.availHeight),s="left=0,top=0,width="+i+",height="+a+",toolbar=1,resizable=1,scrollbars=1",u=window.open(t.redirect_url,"_blank",s);u?(this.popup=u,o(this.env.top.location.href,t.redirect_url)&&this.Automaton.utils.setTimeout(this.positionPopup.bind(this,t),100)):r.default.console("Popup window failed to load.","error")},a.positionPopup=function(){var t=this.availWidth,e=this.availHeight,n=this.Automaton.getProp("redirect_position",this.node),i=this.popup,o=i.outerWidth||i.document.documentElement.offsetWidth||i.document.body.offsetWidth,r=i.outerHeight||i.document.documentElement.offsetHeight||i.document.body.offsetHeight,a=0,s=0;switch(n){case"cc":s=.5*(t-o),a=.5*(e-r);break;case"tl":a=0,s=0;break;case"bl":s=0,a=e-r;break;case"tr":a=0,s=t-o;break;case"br":a=e-r,s=t-o}i.moveTo(s,a)},a.current=function(t){var e=this.Automaton.View,n=e.Env.location.href===t.redirect_url;t.is_exit_node?n?e.Exit.closeCI():this.exitThenRedirectCurrent(t):n||(this.toggleRedirectClass(e.$viewContainer,e.NS),this.openCurrentNow(t))},a.exitThenRedirectCurrent=function(t){var e=this.Automaton.Env.win.top.document,n=e.createElement("script"),i='setTimeout(function() {location.href = "'+t.redirect_url+'";}, 1000);';n.type="text/javascript";try{n.innerHTML=i}catch(t){n.text=i}$("body",e)[0].appendChild(n),this.Automaton.View.Exit.unload()},a.openCurrentNow=function(t){this.Automaton.Env.location.href=t.redirect_url},a.toggleRedirectClass=function(t,e){t.addClass(e+"redirecting"),t.find("."+e+"redirect-panel").length||$("<div>").addClass(e+"redirect-panel").appendTo(t)}}),define("acif/transitions/transitions",["exports","module","../utils","../ci/ijsf-adapter","./TransitionEvaluator","./redirect"],function(t,e,n,i,o,r){function a(t){return t&&t.__esModule?t:{default:t}}function s(t){this.Automaton=t,this.Redirect=new d.default(t)}var u=a(n),l=a(i),c=a(o),d=a(r);e.exports=s;var f=s.prototype={constructor:s};f.loadNode=function(t){var e=this;this.Automaton.node=t,this.Automaton.utils.timers.clearTimers(),this.Automaton.Forms.clearLastFocusedElement(),"Phone"===l.default.getDeviceType()&&l.default.resetPhoneXframe(),this.runNodeEntry(t).then(function(n){if(!n){e.updateDisplayedPath(),e.updateOutcomeType(),e.pollAgentAvailability(),e.Automaton.View.renderNode();var i=e.Automaton.View.getQuestions();e.Automaton.Data.triggerContentSentToCustomer(t,i)}})},f.runNodeEntry=function(t){var e=this.Automaton.utils.makePromise("node retransition check"),n=null;if(n=this.Automaton.settings.runHook("onNodeEntry"),n||(n=t.runHook("on_entry")),"number"==typeof n&&n!==t.id)return t=this.Automaton.collections.nodes.get(n),this.selectNextNode(t.id),e.resolve(!0),e;if(t.onFirstEntry){var i=this.Automaton.Data.storage.path;(1===i.length||_.indexOf(i,t.id)===i.length-1)&&t.runHook("onFirstEntry")}return t.onEntryTransition&&this.trigger(t.onEntryTransition).then(function(t){e.resolve(t)},function(t){e.resolve()}),!t.onEntryTransition&&!n&&e.resolve(),e},f.updateDisplayedPath=function(){var t=this.Automaton;t.displayedPath=[].concat(t.root_path).concat(t.Data.storage.path)},f.updateOutcomeType=function(){var t=this.Automaton.Data;if(1!==t.storage.path.length){var e=t.storage.outcomeType,n="Completed"===e||this.Automaton.node.is_outcome_node?"Completed":"Abandoned";t.save("outcomeType",n)}},f.pollAgentAvailability=function(){var t=this,e=["pollAA","poll_aa","pollAgentAvailability","poll_agent_availability"],n=this.Automaton.node,i=n.get(e);if(i){var o=void 0,r=void 0,a=void 0,s=void 0,u="number"==typeof i?i:i.interval;u=Math.max(u||30,10);var l=!(i.target||i.toggleClass||i.callback);l?o="string"==typeof i.transition?i.transition:"pollAA":(r=i.target?this.Automaton.collections.nodes.get(i.target):null,a=i.toggleClass||"agents-ready",s="function"==typeof n[i.callback]?n[i.callback]:$.noop),this.Automaton.utils.setInterval(function(){l?t.trigger(o):r&&t.Automaton.Chat.checkAA(r).then(function(e){var n=e.AA?"addClass":"removeClass";t.Automaton.View.$viewport[n](a),s(e)})},1e3*u)}},f.trigger=function(t){var e=this;return this.evaluate(t).then(function(n){return e.selectNextNode(n,t),n},function(t){return!1})},f.evaluate=function(t){var e=this;return new c.default(t,this.Automaton).getPromise().then(function(t){var n=e.Automaton.collections.nodes.get(t);return n.is_chat_node?e.Automaton.Chat.resolveChatNode(n):t})},f.setCurrentNode=function(t,e){var n=this.Automaton,i=n.Data;i.CRM.addNodeSelection(e||t.id),i.triggerCustomerResponded(t),i.save({previousNodeID:n.node.id,currentNodeID:t.id}),n.node=t},f.selectNextNode=function(t,e){var n=this;u.default.benchmark("btn click").mark("selectNextNode");var i=this.Automaton,o=i.Data,r=i.View,a=i.Chat,s=i.collections.nodes.get(t);if(s.is_chat_node)return i.node.on_exit&&i.node.runHook("on_exit"),a.resolveChatNode(s).then(function(t){s.id!==t?n.selectNextNode(t,e):(n.setCurrentNode(s,e),a.loadChatNode(s))});this.setCurrentNode(s,e);var l=o.storage.path;return l[l.length-1]!==s.id&&(l.push(s.id),o.save({path:l})),i.node.on_exit&&i.node.runHook("on_exit"),s.is_exit_node&&!s.redirect_url?i.close():"current"===s.redirect_target?this.Redirect.current(s):(u.default.benchmark("btn click").mark("me.loadNode(node);"),this.loadNode(s)),"popup"===s.redirect_target&&(this.Redirect.openPopup(s),s.is_exit_node&&r.Exit.closeCI()),!1},f.getBreadcrumbs=function(){var t=this.Automaton,e=u.default.generateBreadcrumbs(t.displayedPath);return _.map(e,function(e){return t.collections.nodes.get(e)})}}),define("acif/utils/benchmark",["exports","module","../environment/is-dev-mode","./logger"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(){if(!((0,a.default)()||window.sessionStorage&&window.sessionStorage.getItem("tc_acif_benchmark"))){var t=function(){var t=function t(){return t};return{v:t.start=t.mark=t.end=t}}();if("object"==typeof t)return t.v}var e={};return function(){function t(t){return t=t||"Staring benchmark",r.startTime=r.lastMarkTime=Date.now(),r.markNum=0,this}function n(t){if(!r.startTime)return this;var e=Date.now(),n=e-r.startTime,i=e-r.lastMarkTime;return r.markNum++,r.lastMarkTime=e,t=t||"Mark: "+r.markNum,t+=", Lapsed: "+i+"ms",t+=", Total: "+n+"ms",r.marks.push({msg:t,duration:i,total:n}),this}function i(){if(r.startTime){var t=Date.now()-r.startTime,n="Benchmark: "+o+" - Total time = "+t+"ms";window.console&&console.group?console.group(n):(0,s.default)(n),r.marks.forEach(function(e,n){var i=Math.floor(1e3*e.duration/t)/10+"%";(0,s.default)(++n+") ["+i+"] "+e.msg)}),window.console&&console.groupEnd&&console.groupEnd(),delete e[o]}}var o=arguments.length<=0||void 0===arguments[0]?"anon":arguments[0],r=e[o]=e[o]||{marks:[]},a=n;return a.start=t,a.mark=n,a.end=i,a}}var a=o(n),s=o(i);e.exports=r}),define("acif/utils/callExternalAPI",["exports","module","./tryCatch","./logger"],function(exports,module,_tryCatch,_logger){function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function callExternalAPI(fnPath){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var response;return(0,_tryCatch2.default)(function(){var fn,context;if(eval("fn = "+fnPath),"function"!=typeof fn)return void(response=fn);var parts=fnPath.split(".");parts.pop();var contextPath=parts.join(".");eval("context = "+contextPath),response=fn.apply(context,args)},function(t){(0,_logger2.default)("An error occurred while calling "+fnPath+". Received error: "+t.message,"error")}),response}module.exports=callExternalAPI;var _tryCatch2=_interopRequireDefault(_tryCatch),_logger2=_interopRequireDefault(_logger)}),define("acif/utils/cookies",["exports","module"],function(t,e){e.exports={set:function(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}document.cookie=t+"="+e+i+"; path=/"},remove:function(t){this.set(t,null,-1)},get:function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!==e){e=e+t.length+1;var n=document.cookie.indexOf(";",e);return-1===n&&(n=document.cookie.length),window.unescape(document.cookie.substring(e,n))}}return""}}}),define("acif/utils/events",["exports","module","./tryCatch","./logger"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}var r=o(n),a=o(i),s={trigger:function(t){var e=Array.prototype.slice.call(arguments);e.shift(),this.handlers.forEach(function(n){"function"==typeof n[t]&&(0,r.default)(function(){n[t].apply(null,e)},function(e){var i="An error occurred in the "+t+" event handler. Received error:\n"+e.message+"\n"+n[t].toString();(0,a.default)(i,"error")})})},handlers:[],loadHandlers:function(t){this.handlers=this.handlers.concat(t)},addListener:function(t,e){var n={};n[t]=e,this.loadHandlers(n)}};e.exports=s}),define("acif/utils/get",["exports","module","./logger"],function(t,e,n){function i(t,e){if(t)try{var n=(e||"").split("."),r=n.shift(),a=t[r];return n.length?i(a,n.join(".")):a}catch(t){o.default.error(t)}}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i}),define("acif/utils/hash-code",["exports","module"],function(t,e){function n(t){if(t){"object"==typeof t?t=JSON.stringify(t):"string"!=typeof t&&(t=String(t));var e,n,i,o=0;if(0===t.length)return o;for(e=0,i=t.length;e<i;e++)n=t.charCodeAt(e),o=(o<<5)-o+n,o|=0;return o}}e.exports=n}),define("acif/utils/index",["exports","module","./isJSON","./tryCatch","./isNumber","./logger","./cookies","./underscore","./events","./throwError","./callExternalAPI","./get","./set","./benchmark"],function(t,e,n,i,o,r,a,s,u,l,c,d,f,h){function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){e=[].concat(e);for(var n=0;n<e.length;n++)if(t.hasOwnProperty([e[n]]))return t[e[n]]}function v(){var t=$(this),e=["date","datetime","datetime-local","email","month","number","password","search","tel","text","time","week","url"];return t.is("textarea")||t.is("input")&&_.indexOf(e,$(this).attr("type"))>-1}function g(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})}function y(t){var e,n,i=[];for(t=_.clone(t);t.length;)e=t.shift(),n=_.indexOf(t,e),n>-1?t=t.splice(n,t.length-n):i.push(e);return i}function b(t){return Number(t)&&!isNaN(Number(t))&&t.length<17?t=Number(t):t.match(/^true$/i)?t=!0:t.match(/^false$/i)?t=!1:(0,A.default)(t)&&(t=JSON.parse(t)),t}function w(t,e){return e.trim().split(/\s+/g).map(function(e){return t+e}).join(" ")}function x(t){return"object"==typeof t&&"function"==typeof t.then}var A=p(n),C=p(i),T=p(o),E=p(r),k=p(a),S=p(s),I=p(u),N=p(l),D=p(c),F=p(d),j=p(f),q=p(h);e.exports={console:E.default,logger:E.default,isNumber:T.default,tryCatch:C.default,isJSON:A.default,cookies:k.default,underscore:S.default,events:I.default,throwError:N.default,getPropFromAlias:m,isTextbox:v,htmlEncode:g,generateBreadcrumbs:y,isPromise:x,smartTypeCast:b,callExternalAPI:D.default,get:F.default,set:j.default,namespaceString:w,benchmark:(0,q.default)()}}),define("acif/utils/isJSON",["exports","module"],function(t,e){var n=function(t){try{return"object"==typeof JSON.parse(t)}catch(t){return!1}};e.exports=n}),define("acif/utils/isNumber",["exports","module"],function(t,e){var n=function(t){t=(t||"").toString();var e=!!t.match(/^\d+\.?\d?$/);return"number"==typeof t||e};e.exports=n}),define("acif/utils/logger",["exports","module","../environment/is-dev-mode"],function(t,e,n){var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=function(){var t="tc_acif: ",e=function t(e,n){n=n||"log",t[n](e)},n=window.console=window.console||{}
;return e.log=void 0!==n.log?function(e){n.log(t+e)}:$.noop,e.debug=void 0!==n.debug?function(e){n.debug(t+e)}:e.log,e.error=void 0!==n.error?function(e){n.error(t+e)}:e.log,e.warn=void 0!==n.warn?function(e){n.warn(t+e)}:e.log,(0,i.default)()&&(e.log=e.debug),e.deprecate=function(t){t="DEPRECATION NOTICE: "+t,this.error(t)},e}()}),define("acif/utils/mixins/index",["exports","./jquery","./underscore","./native"],function(t,e,n,i){}),define("acif/utils/mixins/jquery",["exports","../../environment"],function(t,e){var n=function(t){return t&&t.__esModule?t:{default:t}}(e);jQuery.fn.removeClassPrefix=function(t){return this.each(function(e,n){var i=_.filter(n.className.split(" "),function(e){return 0!==e.lastIndexOf(t,0)});n.className=$.trim(i.join(" "))}),this},jQuery.fn.values=function(t){var e=this.find(":input").get();return 0===arguments.length?(t={},$.each(e,function(){this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))&&(void 0===t[this.name]&&(t[this.name]=[]),t[this.name].push($(this).val()))}),t):($.each(e,function(){if(this.name&&t[this.name]){var e=t[this.name],n=$(this);if("[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"checkbox"==this.type||"radio"==this.type){for(var i=n.val(),o=!1,r=0;r<e.length;r++)if(e[r]==i){o=!0;break}n.attr("checked",o)}else n.val(e[0])}}),this)},jQuery.fn.scrollParent=jQuery.fn.scrollParent||function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=$(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:$(this[0].ownerDocument||document)},n.default.isIOS&&function(){var t=jQuery.fn.focus;jQuery.fn.focus=function(){return arguments.length?t.apply(this,arguments):this.trigger("touchstart").trigger("focus")}}()}),define("acif/utils/mixins/native",["exports"],function(t){Number.prototype.match=function(t){return(this+"").match(t)},function(){"use strict";if(window.getComputedStyle){var t=window.getComputedStyle;window.getComputedStyle=function(e){try{for(var n=window,i=e.ownerDocument;n!==window.top&&n.document!==i;)n=n.parent;return(n===window?t:n.getComputedStyle).apply(n,arguments)}catch(e){return t.apply(window,arguments)}}}}()}),define("acif/utils/mixins/underscore",["exports"],function(t){function e(t){return t=String(t),t.replace(/\W+/g," ").replace(/^\s+|\s+$/g,"").replace(/\s/g,"-").toLowerCase()}function n(t,e){if(void 0===t||void 0===e)return!1;if(_.isArray(t))return _.indexOf(t,e)>-1;if("string"==typeof t){var n=new RegExp(e);return!!t.match(n)}return!1}function i(t){return t=String(t),t.replace(/[\s-]+/g,"-").split("-").map(function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}).join(" ")}function o(t){if(Array.isArray(t))t.forEach(function(t){return o(t)});else if(!t)return;return _.each(t,function(e,n){var i=r(n);delete t[n],t[i]=e,e&&"object"==typeof e&&o(e)}),t}function r(t){return t.toString().replace(/[-_\s]+(\w)/g,function(t,e){return e?e.toUpperCase():""})}_.mixin({contains:n,dasherize:e,titleCase:i,camelize:r,camelizeObject:o})}),define("acif/utils/set",["exports","module","./throwError"],function(t,e,n){function i(t,e,n){"object"!=typeof t?(0,o.default)("set() expected an object as the first argument. Received "+t):"string"!=typeof e&&(0,o.default)("set() expected a string as the second argument. Received "+e);var r=e.split("."),a=r.shift();if(r.length){i(t[a]=t[a]||{},r.join("."),n)}else t[a]=n}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i}),define("acif/utils/throwError",["exports","module","./events"],function(t,e,n){function i(t){var e=new Error(t);throw e.name="ACIF Error",o.default.trigger("error",e),e}e.exports=i;var o=function(t){return t&&t.__esModule?t:{default:t}}(n)}),define("acif/utils/tryCatch",["exports","module","../environment/is-dev-mode","./logger"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}var r=o(n),a=o(i);e.exports=function(t,e){if((0,r.default)())return t();try{return t()}catch(t){if("function"==typeof e)return e(t);"string"==typeof e&&(0,a.default)(e)}}}),define("acif/utils/underscore",["exports","module"],function(t,e){function n(t){if(t)return Array.isArray(t)?t.map(n):(t=String(t),t.replace(/\W+/g," ").replace(/[^\w\s]+/g,"").trim().replace(/\s+/g," ").replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase())}e.exports=n}),define("acif/view/FieldsetView",["exports","module","../utils/throwError","../environment"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(this.el=t,this.$el=$(t),this.$inputs=this.$el.find(":input"),this.$invalids=this.$el.find("[data-invalid]"),this.name=this.$el.attr("name")||"",this.type=this.$el.attr("type")||this.$el.data("type")||"",this.$el.removeAttr("name"),this.$el.addClass("pristine"),this.$invalids.attr("hidden","true"),this.type?this.addTypeAttributeToInputs():this.type=this.$inputs.first().attr("type")||(this.$inputs.length?this.$inputs[0].tagName.toLowerCase():""),this.type&&(this.$el.addClass(this.type+"-fieldset"),this.$el.attr("data-field-type",this.type)),this.name?this.addNameAttributeToInputs():this.name=this.$inputs.first().attr("name"),!this.name){var e=this.$el.clone(),n=$("<div>").append(e).html();(0,a.default)("Fieldset with the content below must contain a name attribute.\n\n"+n)}this.type.match(/^select/i)&&this.$el.find("option:not([value])").each(function(){var t=$(this);t.attr("value",t.text().trim())}),this.$el.attr("data-field-name",this.name),this.$el.is("[required]")&&(this.$inputs.first().prop("required",!0),this.$el.attr("data-required",!0),this.$el.removeAttr("required")),this.$el.is("[data-masked]")&&(this.$el.removeAttr("data-masked"),this.$inputs.attr("data-masked",!0)),this.type.match(/checkbox|radio/)&&this.wrapInputsInLabelElements()}var a=o(n),s=o(i);e.exports=r;var u=r.prototype={constructor:r};u.addTypeAttributeToInputs=function(){if(s.default.isIE8){var t=this;this.$inputs.each(function(){var e=$(this),n=e.is('[value=""]')?"":e.val(),i=$('<input type="'+t.type+'"'+(t.name?'name="'+t.name+'"':"")+"/>");n&&i.attr("value",n),e.replaceWith(i)}),this.$inputs=this.$el.find(":input")}else this.$inputs.attr("type",this.type)},u.addNameAttributeToInputs=function(){if(s.default.isIE8&&this.type.match(/^select/i)){var t=this.$inputs.first(),e=t.html(),n=$('<select name="'+this.name+'" >'+e+"</select>");t.replaceWith(n),this.$inputs=this.$el.find(":input")}else this.$inputs.not("[name]").prop("name",this.name)},u.wrapInputsInLabelElements=function(){this.$inputs.each(function(){var t=$(this),e=t.closest("label");if(e.length||(0,a.default)("Checkbox and radio <input> elements must be wrapped in <label> elements."),!t.is("[value]")||t.is('[value=""]')){var n=e.text().trim();t.attr("value",n)}})}}),define("acif/view/FileUpload",["exports","module","../ci/ijsf-adapter"],function(t,e,n){function i(t,e){this.Automaton=e;var n=e.node,i=n.fileUpload&&n.fileUpload.messages?n.fileUpload.messages:{};this.messages={typeError:i.typeError||"Invalid file format",sizeError:i.sizeError||"File exceeds the allowed file size",badError:i.badFileError||"Bad file, may be corrupt",serverError:i.serverError||"Error occured while uploading the file",success:i.success||"The file uploaded successfully"};var r=o.default.uploadFile(t,_.extend(this.messages,{cb:this.onUpload.bind(this)}));r&&this.onUpload(r)}var o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i,i.prototype.onUpload=function(t){var e=this.Automaton;e.api.fileUploadStatus=t,e.Transitions.trigger("fileUpload"),e.View.$skin.find("[acif-file-upload-status]").text(this.messages[t])}}),define("acif/view/NodeView",["exports","module","../utils","./Template","./FieldsetView","./formify"],function(t,e,n,i,o,r){function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){this.node=t,this.Automaton=e,this.fieldsetViews=[];var n=this.getTemplateData(),i=new l.default(this.node.custom_view||this.node.template,n,e.collections.templates);this.html=i.getHTML(),this.createViewContainer(),this.enableCustomDataLogging(),this.makeModalCloseButtons(),this.$tooltips=this.$container.find("[role=tooltip]").hide()}var u=a(n),l=a(i),c=a(o),d=a(r);e.exports=s;var f=s.prototype={constructor:s};f.getTemplateData=function(){var t=_.clone(this.node),e=this.Automaton.api.getBreadcrumbs();return t.breadcrumbs=e.filter(function(t){return!!t.breadcrumb}),t.api=this.Automaton.api,"object"==typeof t.formify&&(t.formify=d.default.process(t.formify),this.Automaton.node.fieldsList=this.getFieldsList(t.formify)),t},f.getFieldsList=function(t){var e=this,n={};return t.fields.forEach(function(t){t.fields?function(){var i=e.getFieldsList(t);Object.keys(i).forEach(function(t){n[i[t].id]=i[t]})}():n[t.id]=t}),n},f.createViewContainer=function(){var t=this.Automaton.node,e=_.dasherize(this.node.name),n=_.dasherize(t.type),i=["view-container","acif-wrapping",e,"node-"+t.id,"node-type-"+n],o=$("<div>").html(this.html).attr("id","view-container").addClass(i.join(" ")).attr("data-node-name",t.name).attr("data-node-id",t.id);return this.$container=o,this.createFieldsetViews(),this.initializeForm(),this},f.createFieldsetViews=function(){var t=this;this.$container.find("fieldset").each(function(){var e=new c.default(this);t.fieldsetViews.push(e)})},f.initializeForm=function(){var t=this.$container.find("form");if(!t.length)return!1;t.addClass("form-pristine"),t.find("[data-toggle-disabled-submit]").attr("disabled",!0)},f.hideBackButtons=function(){return this.$container.find('[data-action="back"]').hide(),this},f.enableCustomDataLogging=function(){var t=this.Automaton.Data;return this.$container.find("[data-log]").each(function(){var e=$(this),n=e.data("on")||"click";e.is("[data-log-multiple]")?e.on(n,t.logCustomData):e.one(n,t.logCustomData)}),this},f.makeModalCloseButtons=function(){var t=this;return this.$container.find(".modal-window-invalid [data-close]").on("click",function(){t.$container.removeClass(t.NS+"invalid-form")}),this},f.addNamespace=function(t){var e=$("<div>").append(this.$container),n=["id","class","for","aria-labelledby","aria-describedby"],i=this.Automaton.getProp("skipNamespacing");n.forEach(function(n){e.find("["+n+"]").each(function(){var e=$(this),o=e.attr(n),r=u.default.namespaceString(t,o);i?e.closest(i).length||e.attr(n,r):e.attr(n,r)})})},f.addIdsToDivTags=function(){this.$container.find("div:not([id])").each(function(){$(this).attr("id",_.uniqueId("tc-"))})},f.initializeAccordionMenus=function(){this.$container.find("[role=accordion]").removeAttr("role").each(function(){var t=$(this),e=u.default.smartTypeCast,n={},i=t.attr("active"),o=t.attr("header-icon"),r=t.attr("active-header-icon"),a=t.attr("animate"),s=t.attr("collapsible"),l=t.attr("event"),c=t.attr("header"),d=t.attr("height-style");t.removeAttr("active header-icon active-header-icon animate collapsible event header height-style"),n.header=o||"ui-icon-triangle-1-e",n.activeHeader=r||"ui-icon-triangle-1-s",t.accordion({icons:n,active:void 0===i?0:i,animate:a?e(a):{},collapsible:!!s&&e(s),event:l||"click",header:c||"> li > :first-child,> :not(li):even",heightStyle:d||"auto"})})},f.initializeTooltips=function(){var t=this;this.$tooltips.each(function(){var e=$(this),n=e.attr("for"),i=n?$(n,t.$container):e.prev();if(i.length){var o=u.default.smartTypeCast,r=e.attr("show"),a=e.attr("hide"),s=e.attr("track"),l={},c=e.attr("position-my"),d=e.attr("position-at"),f=e.attr("position-of"),h=e.attr("position-collision");l.my=c||"left top+15",l.at=d||"left bottom",l.collision=h||"flipfit",l.of=l.Of?t.$container.find(f):i,l.within=t.Automaton.Env.top,r=!r||o(r),a=!a||o(a),s=!!s&&o(s),e.show().removeAttr("role for style show hide track position-my position-at position-of position-collision"),i.tooltip({items:i,position:l,show:r,hide:a,track:s,tooltipClass:"-ui-tooltip",content:$("<div>").append(e).html()})}})}}),define("acif/view/Template",["exports","module","../utils","./formify"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){if(this.templatesCollection=n,"string"==typeof t)this._rawHtml=t;else if(t){var i=t;this.record=n.get(i),this._rawHtml=this.record.html}else this._rawHtml="\x3c!-- empty view --\x3e";this.data=e}var a=o(n),s=o(i);e.exports=r;var u=r.prototype={constructor:r};u.getHTML=function(){var t=this,e=this.loadSubTemplates(this._rawHtml),n=this.record?"template "+this.record.id+" ("+this.record.name+")":"custom view HTML for node "+this.data.id,i="Failed to render "+n+". Received error: ",o=void 0;a.default.tryCatch(function(){o=_.template(e)},function(t){a.default.throwError(i+t.message)}),a.default.tryCatch(function(){t.html=o(t.data)},function(t){a.default.throwError(i+t.message)});var r=$(this.html);return r=r.length>1?$("<div>").html(r):r,this.$html=r,r[0]},u.loadSubTemplates=function(t){var e=this,n=/<(div|span)\s+data-template="([\w-]+?)".*?(?:<\/\1>|\/>)/gi;return t.replace(n,function(t,n,i){var o=e.getTemplate(i);return e.loadSubTemplates(o.html)})},u.getTemplate=function(t){var e=this.templatesCollection.get(t,{throws:!1});return e||(e=s.default.templates[t],e?{html:e}:void 0)}}),define("acif/view/aria",["exports","module","../utils/mixins","../utils/throwError"],function(t,e,n,i){function o(t){this.View=t}function r(){var t=$(this),e=t.attr("aria-describedby")||"";e=e?e.replace(/[\w-_]*invalid-[\w-_]+/g,""):null,t.attr("aria-describedby",e)}var a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.exports=o;var s=o.prototype={constructor:o};s.init=function(t){var e=this;this.createSpeaker(),$(this.View.Env.top).on("focus.inq-acif",this.placeFocusOnView.bind(this)),this.View.Env.isAndroidMobile&&function(){var t=e.View.NS+"invalid",n=e;$(e.View.$viewport).on("focus","fieldset."+t+" :input",function(){n.speakErrorMessageOnFocus(this)})}()},s.createSpeaker=function(){var t=this.View.Env.document.createElement("DIV"),e=$(t);e.attr({id:"tc-acif-aria-speaker",role:"log","aria-live":"polite","aria-relevant":"additions"}),e.css({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}),e.appendTo(this.View.$viewport),this.$speaker=e},s.enableAriaHtml=function(t){var e=this.View.Env;this.$speaker.children().hide().attr("aria-hidden",!0),t.find("button:not([type])").attr("type","button"),this.repositionAncestorLabels(t),t.find("[data-node], [data-transition], [data-action]").not(":input, a, button").not(':has(":input, a, button")').each(function(){var t=$(this),n=t.html(),i=$('<button type="button"></button>'),o=$("<span></span>").html(n).appendTo(i),r=t.attr("title"),a=t.attr("aria-labelledby"),s=t.attr("aria-describedby");if(r&&(t.removeAttr("title"),e.isAndroidMobile&&(r=t.text()+". "+r),i.attr("title",r)),t.parent().is("[aria-describedby]")){var u=t.parent().attr("aria-describedby"),l=_.uniqueId("tc-");t.parent().removeAttr("aria-describedby"),o.attr("id",l),e.isAndroidMobile?a=u+" "+l:(s=u,a=l)}a&&(t.removeAttr("aria-labelledby"),i.attr("aria-labelledby",a)),s&&(t.removeAttr("aria-describedby"),i.attr("aria-describedby",s)),t.html(i)}),t.find('[role="menu"]').each(function(){$(this).find("> *").attr("role","menuitem")}),t.find("form").length&&this.enableAriaForm(t)},s.placeInitialFocusOnView=function(){var t=this,e=this.View.$viewport.find("[acif-aria-speak]"),n=e.text(),i=this.getFirstSelectableElement();i||(i=this.View.Exit.$exitButton,n=n||this.getVisibleViewportText()),this.elementToBeFocused=i;var o=this.View.Env.isIOS?5e3:500;n&&setTimeout(function(){t.speak(n)},o),this.placeFocusOnView()},s.placeFocusOnView=function(){if(this.View.$viewport&&window){var t=this.View.$lastFocusedElement||this.elementToBeFocused,e="SAFARI"===this.View.Env.flashVars.browserType?500:0;this.View.Env.isIOS9&&this.speakElementToBeFocused(t),setTimeout(function(){$(t).blur().focus()},e)}},s.speakElementToBeFocused=function(t){var e=this,n=$(t).closest("fieldset");if(n.length){n=n.clone().appendTo(this.View.$xframe).find(":hidden").remove().end();var i=n.text().trim(),o=n.find(":input").first().is("[required],[aria-required]");if(n.remove(),i){var r=n.data("field-type")||"";i+=". "+r+" field"+(o?". required":""),setTimeout(function(){e.speak(i)},1e3)}}},s.speakErrorMessageOnFocus=function(t){var e=$(t).closest("fieldset").find("[data-invalid]:visible").text().trim();e&&this.speak(e)},s.returnFocusToDropdown=function(t){var e=$(t);setTimeout(function(){e.blur().focus()},1e3)},s.speak=function(t){var e=this.View.Env.document.createElement("DIV"),n=$(e);n.text(t),n.appendTo(this.$speaker),setTimeout(function(){n.hide().attr("aria-hidden",!0)},1e4)},s.enableAriaForm=function(t){var e=t.find("fieldset");this.View.$viewport.find("form[aria-enabled]").removeAttr("aria-enabled");var n=this;e.each(function(){n.enableAriaFieldset(this)})},s.enableAriaFieldset=function(t){function e(){var t=$(this),e=t.data("invalid");t.attr("id","invalid-"+e+"-"+l).attr("hidden","true").attr("aria-hidden","true")}function n(){var t=this,e=$(this),n=e.closest("label");n.length||(0,a.default)("Radio and checkbox <input> elements must be wrapped inside <label> elements");var i,o=n.text().trim(),r=n.children(),s=r.filter(function(){return $(t).text().trim()===o});1===s.length?i=s.attr("id"):(s=$("<span>").text(o),n.empty().append(e).append(s)),i=i||_.uniqueId("tc-"),s.attr("id",i),e.attr("aria-labelledby",i)}var i=$(t);if(!i.is("[acif-aria-ignore]")){var o=i.find(":input"),r=o.first(),s=i.find("[data-invalid]"),u=i.data("field-name")||r.attr("name")||"",l=_.dasherize(u),c=i.attr("aria-describedby"),d=l+"-label",f=d,h=r.attr("type")||i.attr("type")||"",p=i.is("[required], [aria-required]")||!!i.find(":input[required], :input[aria-required]"),m=i.find("legend").first();if(m.length||(m=i.find("label").first().filter(function(){return 0===$(this).find(":input").length})),m.length||(0,a.default)('Fieldset for "'+u+'" is missing a leading <label> or <legend> element.'),!l){var v=i.clone(),g=$("<div>").append(v).html();(0,a.default)("Fieldset with the content below must contain a name attribute to support aria-enabled behavior.\n\n"+g)}i.removeAttr("name").removeAttr("type"),c&&(m=this.View.$viewport.find("#"+c),i.removeAttr("aria-describedby")),s.each(e),m.attr("id")||m.attr("id",d),h.match(/radio|checkbox/)&&(o.each(n),f=d+" "+r.attr("aria-labelledby"),"checkbox"===h&&"IE"===this.View.Env.flashVars.browserType&&i.attr("tabindex",0)),r.attr("aria-labelledby",f),o.filter("[required]").attr("aria-required","true").removeAttr("required"),this.View.Env.isAndroidMobile&&p&&function(){var t=m.text().trim();t.match(/\*$/)||m.text(t+" *")}()}},s.resetErrorMessages=function(t){var e=t.find("[data-invalid]"),n=t.find("[aria-invalid]");e.attr("aria-hidden","true").removeAttr("role"),n.removeAttr("aria-invalid"),n.each(r)},s.makeInvalid=function(t,e){var n=t.find(":input"),i=n.first(),o=(i.attr("aria-describedby")||"").split(/\s+/g);o.push(e.attr("id")),o=o.join(" ").trim(),e.removeAttr("aria-hidden"),n.attr("aria-invalid","true"),i.attr("aria-describedby",o)},s.createScreenReaderDiv=function(t){var e=this.View.Env.document.createElement("DIV"),n=$(e).text(t);return n.css({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}),n.attr("aria-hidden",!0),n},s.repositionAncestorLabels=function(t){var e=this;t.find("[aria-labelledby]").each(function(){var n=$(this),i=n.attr("aria-labelledby"),o=t.find("#"+i);if(!!n.closest(o).length){var r=_.uniqueId("tc-"),a=o.text(),s=e.createScreenReaderDiv(a);s.attr("id",r),n.attr("aria-labelledby",r),s.insertBefore(n)}})},s.getFirstSelectableElement=function(){var t=this.View.$viewport.find("[role=main]");return t=t.length?t:this.View.$viewport,this.View.getTabbables(t).first()[0]},s.getVisibleViewportText=function(){var t=this.View.$viewContainer.clone();return t.appendTo(this.View.$xframe).find(":hidden").remove().end().remove(),t.text()}}),define("acif/view/exit",["exports","module","../utils","../ci/ijsf-adapter","../ci/index"],function(t,e,n,i,o){function r(t){return t&&t.__esModule?t:{default:t}}function a(t){this.View=t,this.NS=t.NS,this.Data=t.Automaton.Data,this.Env=t.Automaton.Env,this.timers=t.Automaton.utils.timers}var s=r(n),u=r(i),l=r(o);e.exports=a;var c=a.prototype={constructor:a};c.registerExitListener=function(){var t=this;s.default.events.addListener("error",this.onError.bind(this)),u.default.addListener("onChatClosed",function(e){var n=t.View.Automaton.node;t.unload(n)});var e=(this.View.Automaton.settings.type||"").toLowerCase().replace(/[\W_]+/g,"");this.$exitButton=this.getExitButton(),"postchatsurvey"===e&&this.$exitButton.on("click",function(){u.default.closeCI()})},c.getExitButton=function(){return(this.View.$skin.is("iframe")?this.View.Automaton.options.$container.closest("body"):this.View.$skin).find("[id$=btnCloseChat_img]")},c.unloaded=!1,c.unload=function(t){if(!this.unloaded){this.cleanup(),this.Data.triggerEnded(t);var e=this.View.Automaton.options,n=e.context,i=e.panel,o=e.startedBy;if("ci"===n){ACIF.ciPanelAutomatonMap[location]=null;var r=!!t&&!0===t.minimize,a=l.default.isMainPanel(i),s=!!o&&"agent"===o.type;r?(u.default.minimizeStage(),l.default.closePanel(i)):s?l.default.closePanel(i):a?u.default.closeCI():l.default.closePanel(i)}return!1}},c.cleanup=function(){this.unloaded=!0,this.timers.clearTimers(),this.removeListeners(),this.View.$viewport.remove(),this.View.$viewport=$("<div>"),this.View.$lightbox&&this.View.$lightbox.remove()},c.removeListeners=function(){var t="."+this.NS;this.unloaded=!0,u.default.removeInputListeners(this.View.Automaton.hash),$(this.Env.top).off(".inq-acif").off(t),$(this.Env.document).off(".inq-acif").off(t)},c.closeCI=function(){this.timers.clearTimers();try{u.default.closeCI()}catch(t){s.default.logger.error("Failed to close CI. Received error: "+t.message)}},c.onError=function(){this.removeListeners()}}),define("acif/view/formify/formify-footer",["exports","module"],function(t,e){e.exports='<footer class="formify-footer">\n  <button class="formify-submit" type="submit" <%= formify._toggle_attr %>><%= formify.submit %></button>\n</footer>'}),define("acif/view/formify/formify-header",["exports","module"],function(t,e){e.exports='<header class="formify-header" acif-aria-speak>\n    <% if (formify.heading) { %>\n    <h1 class="formify-heading"><%= formify.heading %></h1>\n    <% } %>\n    <p class="formify-heading-required">Required items indicated with *.</p>\n</header>'}),define("acif/view/formify/formify-master",["exports","module"],function(t,e){e.exports='<form class="formify-form" <%= formify._attrs %> novalidate>\n  <div class="formify-form-body" role="main">\n\n    <div data-template="formify-header"></div>\n\n    <% _.each(formify.fields, function(field) { %>\n\n      <% if (field.fields) { %>\n        <% _.each(field.fields, function(groupItem){ %>\n          <% if (groupItem._order === 1) { %>\n            <div class="formify-group" data-fieldset-group>\n            <h2><%= this.group %></h2>\n          <% } %>\n            <div data-template="formify-type"></div>\n          <% if (groupItem._order === this._size) { %>\n            </div>\n          <% } %>\n        <% }, field); %>\n    <% } %>\n\n      <div data-template="formify-type"></div>\n\n    <% }); %>\n  </div>\n\n  <% if (!formify.submitOnClick) { %>\n    <div data-template="formify-footer"></div>\n  <% } %>\n\n</form>'}),define("acif/view/formify/formify-type-checkbox",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-checkbox <%= field.inline ? \'formify-fieldset-inline\' : \'\' %>" name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs + field._max_attr + field._min_attr %>>\n  <legend class="formify-legend"><%= field.label %></legend>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.value = rawOption.value || rawOption;\n  %>\n\n    <label class="formify-label">\n      <input class="formify-input" type="<%= field.type %>" name="<%= field.id %>" value="<%= option.value %>" />\n      <span class="formify-option-label"><%= option.label %></span>\n    </label>\n\n  <% }); %>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-email",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-email" name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <input class="formify-input" type="<%= field.type %>" <%= field.validate._attrs + field._placeholder_attr %> />\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-label",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-label" name="<%= field.id %>" data-field-type="<%= field._type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n</fieldset>'}),define("acif/view/formify/formify-type-radio-scale",["exports","module"],function(t,e){e.exports='<div class="formify-group" data-fieldset-group>\n  <h2><%= field.label %></h2>\n    <div class="formify-scale-row formify-scale-header">\n    <div class="formify-scale-cell formify-scale-statement"></div>\n      <% _.each(field.scale, function(rawScaleItem) {\n        var scaleItem = {};\n        scaleItem.label = rawScaleItem.label || rawScaleItem;\n        scaleItem.value = rawScaleItem.value || rawScaleItem;\n      %>\n      <div class="formify-scale-cell">\n      <%= scaleItem.label %>\n      </div>\n      <% }); %>\n    </div>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.id = rawOption.id || _.dasherize(rawOption);\n  %>\n    <fieldset class="formify-scale-item" data-field-type="radio" name="<%= option.id %>" <%= field._required_attr %>>\n      <div class="formify-scale-row">\n      <div class="formify-scale-cell formify-scale-statement">\n        <legend class="formify-legend"><%= option.label %></legend>\n      </div>\n      <% _.each(field.scale, function(rawScaleItem) {\n        var scaleItem = {};\n        scaleItem.label = rawScaleItem.label || rawScaleItem;\n        scaleItem.value = rawScaleItem.value || rawScaleItem;\n      %>\n      <label class="formify-scale-cell formify-scale-option">\n        <input class="formify-scale-input" type="radio" value="<%= scaleItem.value %>" />\n        <span class="formify-scale-label"><%= scaleItem.label %></span>\n      </label>\n      <% }); %>\n      </div>\n    </fieldset>\n  <% }); %>\n  <%= field.validate._html %>\n</div>'}),define("acif/view/formify/formify-type-radio",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-radio <%= field.inline ? \'formify-fieldset-inline\' : \'\' %>"  name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <legend class="formify-legend"><%= field.label %></legend>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.value = rawOption.value || rawOption;\n  %>\n    <label class="formify-label">\n      <input class="formify-input" type="<%= field.type %>" name="<%= field.id %>" value="<%= option.value %>" />\n      <span class="formify-option-label"><%= option.label %></span>\n    </label>\n  <% }); %>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-select",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-select" name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <select class="formify-input" <%= field._multiple_attr + field._min_attr + field._max_attr %> >\n\n    <% if (!field.multiple) { %>\n      <option value=""><%= field.placeholder %></option>\n    <% } %>\n\n    <% _.each(field.options, function(rawOption) {\n        var option = {};\n        option.label = rawOption.label || rawOption;\n        option.value = rawOption.value || rawOption;\n    %>\n    <option value="<%= option.value %>"><%= option.label %></option>\n\n    <% }); %>\n  </select>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-text",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-text" name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <input class="formify-input" type="<%= field.type %>" <%= field.validate._attrs + field._placeholder_attr %> />\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-textarea",["exports","module"],function(t,e){e.exports='<fieldset class="formify-fieldset-textarea" name="<%= field.id %>" data-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <textarea class="formify-input" <%= field.validate._attrs + field._placeholder_attr %>></textarea>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type",["exports","module"],function(t,e){e.exports='<%\n  var groupItem = groupItem ? groupItem : false;\n  var field = groupItem || field;\n%>\n\n<% if (field.type === \'text\') { %>\n\n    <div data-template="formify-type-text"></div>\n\n<% } else if (field.type === \'email\') { %>\n\n    <div data-template="formify-type-email"></div>\n\n<% } else if (field.type === \'textarea\') { %>\n\n    <div data-template="formify-type-textarea"></div>\n\n<% } else if (field.type === \'select\') { %>\n\n    <div data-template="formify-type-select"></div>\n\n<% } else if (field.type === \'radio\') { %>\n\n    <% if (field.scale) { %>\n      <div data-template="formify-type-radio-scale"></div>\n    <% } else { %>\n      <div data-template="formify-type-radio"></div>\n    <% } %>\n\n<% } else if (field.type === \'checkbox\') { %>\n\n    <div data-template="formify-type-checkbox"></div>\n\n<% } else if (field.type === \'label\') { %>\n\n    <div data-template="formify-type-label"></div>\n\n<% } %>'}),define("acif/view/formify/index",["exports","module","../../utils","./templates"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=$.extend(!0,{},t);return a(e),s(e),u(e),e}function a(t){_.isUndefined(t.fields)?m.default.console.error('Formify: formify object is missing "fields" array.'):t.fields.forEach(function(t){_.isUndefined(t.group)&&_.isUndefined(t.id)&&m.default.console.error('Formify: field is missing property "id".')})}function s(t){var e=t||{},n=void 0;e.submit=e.submit||"Submit",e.next=e.next||"submit",n=_.isNumber(e.next)?"data-next-node":"data-next-transition",e._next_attr=" "+n+'="'+e.next+'" ',e._toggle_attr="",e._submitOnClick_attr="",e.toggle&&(e._toggle_attr=" data-toggle-disabled-submit "),e.submitOnClick&&(e._submitOnClick_attr=" data-submit-on-click "),e._attrs=e._next_attr+e._submitOnClick_attr}function u(t){t.fields.forEach(function(t){t.fields?t.fields.forEach(function(e){t._size=t.fields.length,e._order=_.indexOf(t.fields,e)+1,l(e)}):l(t)})}function l(t){var e=t||{};c(e),d(e),f(e),h(e),p(e.validate)}function c(t){t.label=t.label||t.id,t.type=t.type||"text",t._type_attr="scale"===t.type?"radio":t.type,t.placeholder="select"===t.type?t.placeholder||"Select One&#8230;":t.placeholder||"",t._placeholder_attr=t.placeholder?' placeholder="'+t.placeholder+'" ':""}function d(t){t._required_attr="",t._dynamic_attr="",t._autoscroll_attr="",t._masked_attr="",t._omit_attr="",t._exposure_attr="",t.required&&(t._required_attr=' required class="required" '),t.dynamic&&(t.dynamic.check=t.dynamic.check||"",t.dynamic.logic=t.dynamic.logic||"equals",
t.dynamic.value=t.dynamic.value||"",t._dynamic_value_prop="equals"===t.dynamic.logic?" data-base-field-value":" data-base-field-value-"+t.dynamic.logic,t._dynamic_attr=' data-base-field-name="'+t.dynamic.check+'" '+t._dynamic_value_prop+'="'+t.dynamic.value+'" '),t.conditions&&(t._dynamic_attr=" acif-conditional"),t.autoscroll&&(t._autoscroll_attr=" data-scroll-on-change "),t.masked&&(t._masked_attr=" data-masked "),t.omit&&(t._omit_attr=" data-omit-datapass "),t.exposureRate>-1&&(t._exposure_attr=' data-base-exposure-rate="'+t.exposureRate+'" '),t._attrs=t._required_attr+t._dynamic_attr+t._autoscroll_attr+t._masked_attr+t._omit_attr+t._exposure_attr}function f(t){t.validate=t.validate||{},t.validate.required=t.required||"",t.validate._error_types=["required","min","max","pattern","minlength","maxlength"],t.validate._html="",t.multiple=!("select"!==t.type||!t.validate.min)||(t.multiple||!1),t._multiple_attr=t.multiple?" multiple ":"",t._pattern_attr="",t._min_attr="",t._max_attr="",t._minlength_attr="",t._maxlength_attr="",t.validate.pattern&&(t._pattern_attr=' pattern="'+t.validate.pattern+'" '),t.validate.min&&(t._min_attr=' min="'+t.validate.min+'" '),t.validate.max&&(t._max_attr=' max="'+t.validate.max+'" '),t.validate.minlength&&(t._minlength_attr=' minlength="'+t.validate.minlength+'" '),t.validate.maxlength&&(t._maxlength_attr=' maxlength="'+t.validate.maxlength+'" '),t.validate._attrs=t._pattern_attr+t._min_attr+t._max_attr+t._minlength_attr+t._maxlength_attr}function h(t){var e=t.validate;e.requiredError=e.requiredError||t.requiredError||"This is a required field",e.minError=e.minError||"You must select at least "+e.min+" options.",e.maxError=e.maxError||"You cannot select more than "+e.min+" options.",e.patternError=e.patternError||"Please enter a valid "+t.label+".",e.minlengthError=e.minlengthError||t.label+" must be at least "+e.minlength+" characters.",e.maxlengthError=e.maxlengthError||t.label+" must be at less than "+e.maxlength+" characters."}function p(t){var e="",n={required:"requiredError",min:"minError",max:"maxError",pattern:"patternError",minlength:"minlengthError",maxlength:"maxlengthError"};Object.keys(n).forEach(function(i){t[i]&&(e+='<p data-invalid="'+i+'">'+t[n[i]]+"</p>\n")}),t._html=e}var m=o(n),v=o(i);e.exports={process:r,templates:v.default}}),define("acif/view/formify/templates",["exports","module","./formify-master","./formify-footer","./formify-header","./formify-type","./formify-type-checkbox","./formify-type-email","./formify-type-label","./formify-type-radio","./formify-type-radio-scale","./formify-type-select","./formify-type-text","./formify-type-textarea"],function(t,e,n,i,o,r,a,s,u,l,c,d,f,h){function p(t){return t&&t.__esModule?t:{default:t}}var m=p(n),v=p(i),g=p(o),y=p(r),b=p(a),w=p(s),x=p(u),_=p(l),A=p(c),C=p(d),T=p(f),E=p(h);e.exports={formify:m.default,"formify-footer":v.default,"formify-header":g.default,"formify-type":y.default,"formify-type-checkbox":b.default,"formify-type-email":w.default,"formify-type-label":x.default,"formify-type-radio":_.default,"formify-type-radio-scale":A.default,"formify-type-select":C.default,"formify-type-text":T.default,"formify-type-textarea":E.default}}),define("acif/view/forms",["exports","module","../utils","../data/evaluator"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){this.Automaton=t,this.View=t.View,this.errors={},this.serializedValuesArray=null,this.NS=this.View.NS,this.onChange=_.throttle(this.onChange.bind(this))}var a=o(n),s=o(i);e.exports=r;var u=r.prototype={constructor:r};u.submitOnClick=function(t){var e=$(t);e.find("input").prop("checked",!0);var n=e.closest("form")[0];this.submitForm(n)},u.submitForm=function(t){var e=this.Automaton.Transitions,n=$(t),i=n.data("next-node"),o=n.data("next-transition"),r=this.NS;i||o||a.default.throwError('Form element is missing one of the following required attributes: "data-next-node" or "data-next-transition".  See Confluence documentation.'),this.errors={},this.serializedValuesArray=n.serializeArray(),this.validateAllFields(n);var s=Object.keys(this.errors);if(!!s.length)return this.View.$viewport.find("."+r+"invalid :input, ."+r+"invalid:input").first().focus(),a.default.console("Form had errors in these fields: "+s.join(", "));this.Automaton.Data.checkAlertConditions(),o&&(i=e.evaluate(o)),a.default.isPromise(i)?i.then(function(t){e.selectNextNode(t)}):e.selectNextNode(i)},u.validateAllFields=function(t){var e=this;t.find(":input").not(function(){return!!$(this).closest("[data-field-enabled=no]").length}).not("button, input[type=submit]").not("[type=radio]:not(:checked)").each(function(){e.validateField(this)}),t.find("fieldset").has("[type=radio]").not(":has(:checked)").each(function(){e.validateField(this)})},u.validateField=function(t){var e=$(t),n=this.getAttributes(e),i=e.is(a.default.isTextbox),o=e.closest("form"),r="";i?r=this.validateTextField(e,n):e.is("select")?r=this.validateSelect(e,n):e.has("input[type=radio], input[type=checkbox]")&&(r=this.validateCheckbox(n),e=e.closest("fieldset").add(this.View.$viewport.find('form fieldset[data-field-name="'+name+'"]')).first());var s=e.closest("fieldset");this.clearFieldErrors(s,n),r?this.markFieldInvalid(o,s,n,r):this.markFieldAsValid(o,s,n),this.Automaton.Data.CRM.addResponse(n.response)},u.validateTextField=function(t,e){return e.required&&""===e.value?"required":"email"!==e.type||this.isValidEmail(e.value)?e.pattern&&!this.isValidPattern(e)?"pattern":e.min&&1*e.value<e.min?"min":e.max&&1*e.value>e.max?"max":e.minlength&&e.value.length<e.minlength?"minlength":e.maxlength&&e.value.length>e.maxlength?"maxlength":void 0:"pattern"},u.validateSelect=function(t,e){var n=t.parent().values();return n=n[e.name][0],e.required&&!n?"required":e.min&&n.length<e.min?"min":e.max&&n.length>e.max?"max":void 0},u.validateCheckbox=function(t){var e=null===t.value?[]:[].concat(t.value);return t.required&&0===e.length?"required":t.min&&e.length<t.min?"min":t.max&&e.length>t.max?"max":void 0},u.markFieldInvalid=function(t,e,n,i){var o=this.View,r=o.NS,a=o.$viewContainer,s=a.find("[data-toggle-disabled-submit]").not("[disabled]"),u=_.dasherize("invalid-"+n.name+"-"+i);this.errors[n.name]=!0,a.addClass(r+u),e.removeClass(r+"valid").addClass(r+"invalid").addClass(r+"invalid-"+i);var l=e.find('[data-invalid="'+i+'"]');l.removeAttr("hidden"),s.attr("disabled",!0),this.View.isAriaEnabled&&this.View.Aria.makeInvalid(e,l),this.markFormInvalid(t)},u.clearFieldErrors=function(t,e){var n=this.NS,i=this.View,o=t.find("[data-invalid]");i.$viewContainer.removeClassPrefix(n+"invalid-"+_.dasherize(e.name)+"-"),t.removeClassPrefix(n+"invalid-"),o.attr("hidden","true"),i.isAriaEnabled&&i.Aria.resetErrorMessages(t)},u.markFieldAsValid=function(t,e,n){var i=this.NS,o=n.name;delete this.errors[o],e.removeClass(i+"invalid").addClass(i+"valid"),this.addValidationClassesToForm(t)},u.addValidationClassesToForm=function(t){_.isEmpty(this.errors)?this.allVisibleRequiredFieldsHaveValue()&&this.markFormAsValid(t):this.markFormInvalid(t)},u.markFormInvalid=function(t){var e=this.NS;this.View.$viewContainer.addClass(e+"invalid-form"),t.removeClass(e+"form-pristine").removeClass(e+"form-dirty").removeClass(e+"form-valid").addClass(e+"form-invalid")},u.markFormAsValid=function(t){var e=this.NS,n=t.find("[data-toggle-disabled-submit][disabled]");this.View.$viewContainer.removeClass(e+"invalid-form"),n.removeAttr("disabled"),t.removeClass(e+"form-pristine").removeClass(e+"form-dirty").removeClass(e+"form-invalid").addClass(e+"valid-form")},u.allVisibleRequiredFieldsHaveValue=function(){var t=this.View.$viewContainer,e=t.find(":input:not([data-field-enabled=no])").filter("[required], [aria-required]"),n=!0;return e.each(function(){var e=void 0;if($(this).is("select"))e=$(this).find(":selected").length>0&&!!$(this).find(":selected").val().trim();else if($(this).is("[type=radio]")){var i=$(this).prop("name");e=t.find("[name="+i+"]:checked").val()}else e=!!$(this).val().trim();if(!e)return n=!1,!1}),n},u.getSerializedValuesArray=function(){return this.serializedValuesArray||(this.serializedValuesArray=this.Automaton.View.$viewport.find("form").serializeArray()),this.serializedValuesArray},u.toggleFields=function(t){var e=this,n=this.View.$viewContainer.find("form"),i=!1;return t=t||$("[data-base-field-name]",n),t.length||(t=$("[acif-conditional]",n)),t.each(function(){var t=$(this),o=void 0;if(t.is("[acif-conditional]")){var r=t.attr("data-field-name"),a=e.Automaton.node.fieldsList[r],u=e.Automaton.Data.CRM.getResponseList();o=new s.default(a.conditions,u).isSatisfied()}else o=e.shouldShowElement(t,n);var l=!e.View.$viewport.find(t).length;o?(l||t.is(":hidden"))&&(i=!0,t.show().attr("data-field-enabled","yes")):(l||t.is(":visible"))&&(l||e.resetField(this),i=!0,t.hide().attr("data-field-enabled","no"))}),this.addValidationClassesToForm(n),i},u.shouldShowElement=function(t,e){var n=!1,i=t.data("base-field-name"),o=$.trim(t.data("base-field-value")||""),r=$.trim(t.data("base-field-value-any")||""),a=$.trim(t.data("base-field-value-all")||""),s=$.trim(t.data("base-field-value-contains")||""),u=$.trim(t.data("base-field-value-not")||""),l=e.find('[data-field-name="'+i+'"]'),c=l.values(),d=c[i],f=/\s*;\s*/g;return o?n=d==o:r?(r=r.split(f),n=!!_.intersection(d,r).length):a?(a=a.split(f),n=_.intersection(d,a).length===a.length):s?(d&&1===d.length&&(d=d[0]),n=_.contains(d,s)):u&&(u=u.split(f),n=!_.intersection(u,d).length),n},u.throttleElements=function(){var t=this.View.$viewContainer.find("form");$("[data-base-exposure-rate]",t).each(function(){var t=$(this),e=!1,n=t.data("base-exposure-rate")||"",i=_.random(99)+1;n&&(e=i<=n),e||(t.hide().attr("data-field-enabled","no"),t.removeAttr("data-base-field-name"))})},u.resetField=function(t){var e=this,n=$(t),i=n.find("fieldset");if(i.length)return i.each(function(){e.resetField(this)});var o=n.data("field-name")||n.find(":input").first().attr("name"),r=n.find(":input"),a=r.first(),s=n.data("field-type")||a.attr("type")||"",u=this.NS;s.match(/radio|checkbox/)?r.prop("checked",!1):a.is("select")?a.prop("selectedIndex",0):r.val(""),n.removeClass(u+"valid").removeClass(u+"invalid"),$("[aria-invalid]",n).removeAttr("aria-invalid"),$("[data-invalid]",n).attr("aria-hidden",!0).attr("hidden",!0),n.is("[data-base-field-name]")&&n.hide().attr("data-field-enabled","no"),this.Automaton.Data.CRM.clearResponse(o),$('[data-base-field-name="'+o+'"]',this.Automaton.View.$viewContainer).each(function(){var t=$(this);t.is("fieldset")?e.resetField(t):t.find("fieldset").each(function(){e.resetField(this)})})},u.onFocus=function(t){var e=this.NS,n=$(t),i=n.closest("fieldset");this.Automaton.View.$lastFocusedElement=n,i.addClass(e+"focus").removeClass(e+"pristine").removeClass(e+"filled").removeClass(e+"empty").removeClass(e+"blurred"),n.closest("form").removeClass(e+"form-pristine").removeClass(e+"form-valid").addClass(e+"form-dirty"),this.serializedValuesArray=null},u.onBlur=function(t){var e=this.NS,n=$(t).closest("fieldset"),i=""!==t.value,o=i?"filled":"empty";n.removeClass(e+"focus").addClass(e+"blurred").addClass(e+o)},u.onChange=function(t){this.validateField(t);var e=$(t),n=e.attr("name"),i=e.scrollParent(),o=i.scrollTop(),r=this.Automaton.View.$viewport.find('form [data-base-field-name="'+n+'"]'),a=e.closest("[data-scroll-on-change]"),s=a.offset();r.length||(r=this.Automaton.View.$viewport.find("form [acif-conditional]"));var u=this.toggleFields(r);i.scrollTop(o),u&&a.length&&this.scrollToTop(a,s)},u.storeCurrentValue=function(t){var e=$(t);e.data("original-value",e.val())},u.fireOnChangeManually=function(t){var e=this,n=$(t);setTimeout(function(){n.val()!==n.data("original-value")&&e.onChange(t)},0)},u.toggleCheckbox=function(t){var e=$(t);e.is(":checked")?e.attr("checked","checked"):e.removeAttr("checked")},u.scrollToTop=function(t,e){var n=t.scrollParent(),i=n.scrollTop(),o=n.height(),r=t.offset().top,a=o-(r+t.height()),s=n[0].scrollHeight,u=s-o,l=s-(o+i),c=Math.min(l,u,r);(c>100||a<100)&&(r-c<e.top?n.animate({scrollTop:i+=c},500):n.scrollTop(i+c))},u.clearLastFocusedElement=function(){this.Automaton.View.$lastFocusedElement=null},u.isValidEmail=function(t){return"string"==typeof t&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},u.isValidPattern=function(t){var e=new RegExp("^"+t.pattern+"$","gim");return!!t.value.match(e)},u.getAttributes=function(t){var e=this,n=$(t);n.is(":input")||n.is("fieldset")||a.default.throwError("Forms.getAttributes() expected an input or fieldset to be passed.");var i=this.Automaton.Data.CRM.answerTypes,o=n.closest("fieldset"),r=o.closest("form"),s=o.find(":input"),u=n.is(":input")?n:s.first(),l=u.attr("type")||o.data("field-type")||u[0].tagName.toLowerCase(),c=!!l.match(/^(radio|checkbox)$/),d=u.attr("name")||o.data("field-name"),f=this.Automaton.node.fieldsList||{},h=f[d]||{},p=o.find("legend, label").first(),m=h.label||p.text().trim(),v=r.find("fieldset").index(o)+1,g=o.find(":input").index(u)+1,y=u.is("[required], [aria-required]")||o.is("[required], [aria-required], [data-required]"),b=u.is("[multiple]")||o.is("[multiple]"),w="checkbox"===l||b,x=!l.match(/^(radio|checkbox|select|button)$/),A=u.is("[data-masked]")||o.is("[data-masked]"),C=c?u.is(":checked")?u.val():null:$.trim(u.val()||""),T=null===C?null:c?u.closest("label").text().trim():C;if("select"===l){var E=u.find("option"),k=E.filter('[value="'+C+'"]');g=E.index(k)}else w&&function(){var t=e.getSerializedValuesArray(),n=_.where(t,{name:d});C=_.pluck(n,"value"),T=C;var i=[];s.each(function(){var t=$(this).closest("label").text().trim();i.push(t)}),g=T.map(function(t){return i.indexOf(t.trim())+1}).sort()}();var S={type:l,name:d,value:C,multiple:b,required:y,min:1*(u.attr("min")||o.attr("min")),max:1*(u.attr("max")||o.attr("max")),minlength:1*u.attr("minlength"),maxlength:1*u.attr("maxlength"),pattern:u.attr("pattern")};A&&(T="((masked{["+T+"]}masked))");var I={questionText:m,questionId:d,answerText:T,answerId:x?"":C,answerType:x?i.FREE_FORM:i.NON_FREE_FORM,questionNumber:v,answerNumber:g,isMasked:A};return S.response=I,S}}),define("acif/view/index",["exports","module","./view"],function(t,e,n){t.default=function(t){return t&&t.__esModule?t.default:t}(n),e.exports=t.default}),define("acif/view/position",["exports","module","../utils","../ci/ijsf-adapter"],function(t,e,n,i){function o(t){return t&&t.__esModule?t:{default:t}}function r(t){this.View=t,this.Env=t.Env}function a(t){var e=["upper_left","upper_center","upper_right","center_left","center","center_right","lower_left","lower_center","lower_right"],n=t.toLowerCase().replace(/[-\s]+/,"_").replace("top","upper").replace("bottom","lower").replace("middle","center").replace("center_center","center");if(-1===_.indexOf(e,n)){var i='"'+n+'" is not a valid CI position keyword. The 9 valid position keywords are: ['+e.join(", ")+']. Defaulting to "center" position.';u.default.console(i,"error"),n="center"}return n}function s(t){if(t=t instanceof jQuery?t[0]:t,!!!t.tagName)return!0;var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=$(this.Env.top).height()&&e.right<=$(this.Env.top).width()}var u=o(n),l=o(i);e.exports=r;var c=r.prototype={constructor:r};c.set=function(t){if("Phone"!==this.Env.flashVars.deviceType&&!this.Env.isPersistentWindow){if(!t)return void this.repositionInsideViewport();var e=[];if(_.has(t,"x")&&_.has(t,"y")||_.has(t,"top")&&_.has(t,"left")){var n=t.x||t.left,i=t.y||t.top;if(_.isString(n)&&_.isString(i))e=[a(i+"_"+n)];else if(_.isNumber(n)&&_.isNumber(i))e=[t.type||"relative",n,i];else{var o="The x and y coordinates were unrecognized. You passed: x = "+n+", y = "+i+". Defaulting to center position.";u.default.console(o,"error"),e=["center"]}}else if("string"==typeof t)e=[a(t)];else{if(!(t.my||t.at||t.of))return void u.default.console("Unrecognized position settings.  Skipping CI positioning","error");e=this.getCustomPositionSettings(t)}var r=function(){l.default.moveStage.apply(null,e)};if(t.didScroll)setTimeout(r,550);else{var s=this.View.$skin.position();r(),t&&t.animate&&!this.Env.is_preview_mode&&this.animate(s,t,e)}}},c.fit=function(){if("Phone"!==this.Env.flashVars.deviceType&&!this.Env.isPersistentWindow){var t=this.View.$skin.position();l.default.moveStage("lower_right");var e=this.View.$skin.position(),n=Math.min(t.left,e.left),i=Math.min(t.top,e.top);l.default.moveStage("absolute",n,i)}},c.getCustomPositionSettings=function(t){var e=this.Env.top.document.createElement("div"),n=$(e);t.within=this.Env.top,t.of?"window"===t.of||t.of===window?t.of=this.Env.top:t.of!==this.Env.top&&(t.of=$(t.of,this.Env.top.document),t.element=t.of[0],0===t.of.length&&(t.of=this.Env.top)):t.of=this.Env.top,!(!t.element||s(t.element)||"function"!=typeof t.element.scrollIntoView)&&(t.element.scrollIntoView(),t.didScroll=!0),n.appendTo($("body",this.Env.top.document)),n.css({position:"absolute",width:this.View.$skin.outerWidth(),height:this.View.$skin.outerHeight()}),n.position(t);var i=n.position(),o=$(this.Env.top),r=o.scrollTop(),a=o.scrollLeft(),u=i.left-a,l=i.top-r;return n.remove(),["relative",u,l]},c.animate=function(t,e,n){var i=this;l.default.moveStage("relative",t.left,t.top);var o="object"==typeof e.animate?e.animate:{},r=o.delay||500;delete o.delay;var a=this.View.$skin.position(),s="function"==typeof o.always?o.always:$.noop;o.always=function(){l.default.moveStage.apply(null,n),s()},setTimeout(function(){i.View.$skin.animate(a,o)},r)}}),define("acif/view/view",["exports","module","../utils","../ci/ijsf-adapter","../models/Style","./aria","./exit","./position","./FileUpload","./NodeView","../ci/index"],function(t,e,n,i,o,r,a,s,u,l,c){function d(t){return t&&t.__esModule?t:{default:t}}function f(t){this.Automaton=t,this.Env=t.Env,this.NS=this.Env.is_top_frame?"inq-"+t.id+"-":"",this.Aria=new v.default(this),this.Exit=new g.default(this),this.position=new y.default(this)}var h=d(n),p=d(i),m=d(o),v=d(r),g=d(a),y=d(s),b=d(u),w=d(l),x=d(c);e.exports=f;var A=f.prototype={constructor:f};A.initializeViewport=function(){var t=this.Automaton,e=this.Automaton.settings;h.default.benchmark("init").mark("initializeViewport"),this.setFrames(),this.disableBackAndForwardCaching(),this.Env.is_touch_enabled&&this.makeButtonsTapResponsive(),this.loadViewport(),this.Exit.registerExitListener(),this.isAriaEnabled=!(!e.ariaEnabled||this.Env.isIE7),this.isAriaEnabled&&this.Aria.init(this),this.viewportSettings=t.settings.viewport,h.default.benchmark("init").mark("starting to load CSS"),e.style&&this.loadStyles(),h.default.benchmark("init").mark("finished loading CSS"),e.escToClose&&this.enableCloseOnEscape(),e.lightbox&&this.createLightbox(),this.position.fit()},A.registerEventListeners=function(){function t(t){return function(n){return h.default.benchmark("btn click").start(),e.setActiveEvent(n,this),t.call(this),!1}}var e=this,n=this.Automaton,i=n.hash,o=n.Forms,r=n.Transitions,a=this.$viewport,s=$("input, textarea, select",a);p.default.addInputListeners(i,s),$("[data-node]",a).on("click",t(function(){var t=$(this).data("node");r.selectNextNode(t)})),$("[data-transition]",a).on("click",t(function(){var t=$(this).data("transition");r.trigger(t)})),$("[data-action]",a).on("click",t(function(){e.selectAction(this)})),$('input[type="file"][acif-upload-to-agent]',a).on("change",function(t){(this.value||"").length&&new b.default(t,n)}),$("form",a).on("submit",function(t){return t.preventDefault(),e.setActiveEvent(t,e.Env.document.activeElement),o.submitForm(this),!1}),$("form[data-submit-on-click] label:has(input)",a).on("click",t(function(){return o.submitOnClick(this),!1})),$("form[acif-validate-onkeyup] :input",a).on("keyup",function(){o.validateField(this)}),$("form :input",a).on("focus",function(){o.onFocus(this)}),$("form :input",a).on("blur",function(){o.onBlur(this)}),$("form :input",a).on("change",function(){o.onChange(this)}),$("form select",a).on("focus",function(){o.storeCurrentValue(this)}),$("form select",a).on("keydown",function(){o.fireOnChangeManually(this)}),$("form :input[type=checkbox], form :input[type=radio]",a).on("change",function(){o.toggleCheckbox(this)}),this.isAriaEnabled&&this.Env.isAndroidMobile&&$("select",a).on("change",function(){e.Aria.returnFocusToDropdown(this)})},A.renderNode=function(){var t=this.Automaton;h.default.benchmark("btn click").mark("renderNode start");var e=new w.default(t.node,t),n=e.$container;this.isAriaEnabled&&this.Aria.enableAriaHtml(n);var i=t.getProp("circularTabbing");i?this.enableCircularTabbing(n):!1===i&&p.default.removeCircularTabbing(),t.node.id===t.displayedPath[0]&&e.hideBackButtons(),this.Env.is_top_frame&&e.addNamespace(this.NS),e.addIdsToDivTags(),this.$viewContainer&&this.$viewContainer.remove(),this.$viewContainer=n,$("form [data-base-field-name]",n).each(function(){var t=$(this).data("base-field-name");$('form fieldset[data-field-name="'+t+'"]',n).attr("data-is-base-field",!0)}),t.Forms.throttleElements(),t.Forms.toggleFields(),n.prependTo(this.$viewportOutlet||this.$viewport),e.initializeAccordionMenus(),e.initializeTooltips(),this.registerEventListeners(),this.isAriaEnabled&&this.Aria.placeInitialFocusOnView();var o=t.node.panel||t.settings.panel||{},r=t.options.panel,a=o.height;!(!x.default.isHorizontalPanel(r)||!a)&&p.default.setElementPosition(r,{height:a});var s=t.node.viewport||{};if(t.isSessionInitializing){var u=t.settings.viewport||{};s.width=s.width||u.width,s.height=s.height||u.height,s.position=s.position||u.position}return(s.width||s.height)&&x.default.resizeStage({width:s.width,height:s.height}),t.settings.autoResizeHeight&&!s.height&&this.autoResizeHeight(),s.position&&this.position.set(s.position),h.default.benchmark("btn click").mark("renderNode end").end(),top.loadAcifEvent&&(top.loadAcifEvent=null),!1},A.autoResizeHeight=function(){this.$viewport.css({top:"",left:"",right:"",bottom:"",height:""});var t=this.$skin.height(),e=this.$xframe.height(),n=this.$viewContainer.outerHeight(!0),i=this.Automaton.settings.minHeight||0,o=t-e+n-i;this.$viewport.css({top:0,left:0,right:0,bottom:0,height:"100%"}),this.resizeStage(null,o)},A.resizeStage=function(t,e){if("Phone"!==this.Env.flashVars.deviceType&&(this.$skin.length||this.$viewport)){var n=h.default.benchmark("resizeStage").start(),i=$(this.Env.top).height(),o=$(this.Env.top).width(),r=this.$skin.height()||this.$viewport.height(),a=this.$skin.width()||this.$viewport.width();t=Math.min(t||a,o),e=Math.min(e||r,i),n("setup"),p.default.resizeStage(t,e),n("IJSF.resizeStage()"),this.position.fit(),n("view.position.fit()"),this.$viewport.siblings().hide(),n.end()}},A.getTabbables=function(t){t=t||this.$viewport;return t.find(":input,a,button,[tabindex]")},A.setFrames=function(){this.$xframe=this.Automaton.options.$container,this.$skin=this.Automaton.options.$skin},A.makeButtonsTapResponsive=function(){var t=this;if(!this.Env.top.FastClick){this.Env.top.document.body.appendChild(document.createElement("script")).src="https://static.inq.com/sites/320/assets/libs/FastClick/fastclick-1.0.6.js",this.Automaton.utils.doAfter({condFn:function(){return!!t.Env.top.FastClick},afterFn:function(){try{t.Env.top.FastClick.attach?t.Env.top.FastClick.attach(t.$viewport[0]):new t.Env.top.FastClick(t.$viewport[0])}catch(t){h.default.console("Failed to initialize FastClick.","error")}},poll:10,maxWait:2e3})}},A.loadViewport=function(){this.$xframe.children().hide().attr("aria-hidden","true"),this.$viewport=$("<div>").attr("id",this.NS+"viewport").addClass(h.default.namespaceString(this.NS,"viewport acif-wrapping")).css({overflowY:"auto",backgroundColor:"white",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,height:"100%",boxSizing:"border-box"}).appendTo(this.$xframe),this.Env.is_preview_mode||this.reAttachViewportToDOM()},A.reAttachViewportToDOM=function(){var t=this,e=(new Date).getTime(),n=this.Automaton.utils.timers.setInterval(function(){t.$viewport.parent()[0]!==t.$xframe[0]&&(h.default.console("re-appending $viewport after "+((new Date).getTime()-e)+"ms"),t.$viewport.appendTo(t.$xframe),t.isAriaEnabled&&t.Aria.placeFocusOnView(),clearInterval(n))},10);this.Automaton.utils.timers.setTimeout(function(){clearInterval(n)},1e4)},A.createLightbox=function(){var t=this,e=this.Automaton.settings,n="object"==typeof e.lightbox?e.lightbox:{},i=$("body",this.Env.top.document),o=_.pick(n,["background","background-color","backgroundColor","opacity","zIndex","z-index"]),r=this.Env.top.document.createElement("DIV"),a=$(r),s={position:"fixed",top:0,left:0,width:"999999px",height:"999999px",background:"black",opacity:.5,zIndex:2147e6};_.extend(s,o),a.attr("id","inq-lightbox-"+this.Automaton.id).addClass("inq-lightbox").appendTo(i).css(s),n.closeOnEscape&&i.on("keydown.inq-lightbox",function(e){e.keyCode===$.ui.keyCode.ESCAPE&&(t.Exit.unload(),i.off(".inq-lightbox"))}),n.closeOnClick&&a.one("click",this.Exit.unload.bind(this.Exit)),this.$lightbox=a},A.loadStyles=function(){var t=this.Automaton.collections.styles.get(this.Automaton.settings.style);this.Env.is_top_frame&&t.addNamespace(this.NS);var e=this.Automaton.settings;if(e.tooltips){t.updateTooltipClassName();var n="object"==typeof e.tooltips?e.tooltips:{};n.tooltipClass="-ui-tooltip",n.position=n.position||{},n.position.within=this.Env.top,this.$viewport.tooltip(n)}t.addToDOM(),t.preloadImages();m.default.loadStyleSheet("https://static.inq.com/sites/320/assets/acif/assets/jquery-ui/jquery-ui.min.css",null,!0,this.Automaton.Env.document)},A.selectAction=function(t){var e=$(t).data("action"),n=e.split(/[\s;,]+/g),i=this.Automaton,o=i.options.panel,r=void 0;return n.forEach(function(t){switch(t){case"exit":i.close();break;case"close-panel":x.default.closePanel(o);break;case"back":var e=h.default.generateBreadcrumbs(i.displayedPath);r=e[e.length-2];break;case"start_over":case"start-over":r=i.displayedPath[0];break;default:i.node.runCustomAction(t)||h.default.throwError('Unrecognized data-action: "'+t+'"')}}),r&&this.Automaton.Transitions.selectNextNode(r),!1},A.enableCircularTabbing=function(t){var e=this.$skin[0],n=$("[id$=btnMinimize_img]:visible",e)[0],i=n||this.Exit.$exitButton[0],o=this.getTabbables(t),r=o.length?o[o.length-1]:i;p.default.setCircularTabbing(e,i,r)},A.setActiveEvent=function(t,e){this.Automaton.activeEvent={event:t,element:e,$element:$(e),currentNode:this.Automaton.node,previousNode:this.Automaton.api.getPreviousNode()}},A.enableCloseOnEscape=function(){var t=this;$("body",this.Env.document).on("keyup."+this.NS,function(e){27===e.keyCode&&($("body",t.Env.document).off("."+t.NS),t.Exit.unload(),t.Exit.closeCI())})},A.disableBackAndForwardCaching=function(){$(this.Env.top).on("unload.inq-acif beforeunload.inq-acif",$.noop)},A.getQuestions=function(){var t=[],e=this.Automaton.Forms;return this.$viewport.find("fieldset").each(function(){var n=e.getAttributes(this);t.push({questionText:n.response.questionText,questionId:n.response.questionId})}),t}}),window.inqFrame&&require("acif");
//# sourceMappingURL=acif.map