/**
 * Automaton Customer Interface Framework
 * Version: 3.2.8
 * Release Date: 5/16/2018
 * (c) Nuance Communications (http://www.nuance.com)
 */

var loader,define,requireModule,require,requirejs;!function(e){"use strict";function t(){var e=Object.create(null);return e.__=void 0,delete e.__,e}function n(e){throw new Error("an unsupported module was defined, expected `define(name, deps, module)` instead got: `"+e+"` arguments to define`")}function i(e,t,n,i){this.id=h++,this.name=e,this.deps=!t.length&&n.length?p:t,this.module={exports:{}},this.callback=n,this.hasExportsAsDep=!1,this.isAlias=i,this.reified=new Array(t.length),this.state="new"}function o(e){this.name=e}function r(e,t){throw new Error("Could not find module `"+e+"` imported from `"+t+"`")}function a(e,t,n){for(var i=d[e]||d[e+"/index"];i&&i.isAlias;)i=d[i.name];return i||r(e,t),n&&"pending"!==i.state&&"finalized"!==i.state&&(i.findDeps(n),n.push(i)),i}function s(e,t){if("."!==e.charAt(0))return e;for(var n=e.split("/"),i=t.split("/"),o=i.slice(0,-1),r=0,a=n.length;r<a;r++){var s=n[r];if(".."===s){if(0===o.length)throw new Error("Cannot access parent module of root");o.pop()}else{if("."===s)continue;o.push(s)}}return o.join("/")}function u(e){return!(!d[e]&&!d[e+"/index"])}var l=(e.heimdall,{loader:loader,define:define,requireModule:requireModule,require:require,requirejs:requirejs});requirejs=require=requireModule=function(e){for(var t=[],n=a(e,"(require)",t),i=t.length-1;i>=0;i--)t[i].exports();return n.module.exports},loader={noConflict:function(t){var n,i;for(n in t)t.hasOwnProperty(n)&&l.hasOwnProperty(n)&&(i=t[n],e[i]=e[n],e[n]=l[n])}};var c;c=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var d=t(),f=t(),h=0,p=["require","exports","module"];i.prototype.makeDefaultExport=function(){var e=this.module.exports;null===e||"object"!=typeof e&&"function"!=typeof e||void 0!==e.default||!Object.isExtensible(e)||(e.default=e)},i.prototype.exports=function(){if("finalized"===this.state||"reifying"===this.state)return this.module.exports;loader.wrapModules&&(this.callback=loader.wrapModules(this.name,this.callback)),this.reify();var e=this.callback.apply(this,this.reified);return this.state="finalized",this.hasExportsAsDep&&void 0===e||(this.module.exports=e),this.makeDefaultExport(),this.module.exports},i.prototype.unsee=function(){this.state="new",this.module={exports:{}}},i.prototype.reify=function(){if("reified"!==this.state){this.state="reifying";try{this.reified=this._reify(),this.state="reified"}finally{"reifying"===this.state&&(this.state="errored")}}},i.prototype._reify=function(){for(var e=this.reified.slice(),t=0;t<e.length;t++){var n=e[t];e[t]=n.exports?n.exports:n.module.exports()}return e},i.prototype.findDeps=function(e){if("new"===this.state){this.state="pending";for(var t=this.deps,n=0;n<t.length;n++){var i=t[n],o=this.reified[n]={exports:void 0,module:void 0};"exports"===i?(this.hasExportsAsDep=!0,o.exports=this.module.exports):"require"===i?o.exports=this.makeRequire():"module"===i?o.exports=this.module:o.module=a(s(i,this.name),this.name,e)}}},i.prototype.makeRequire=function(){var e=this.name,t=function(t){return require(s(t,e))};return t.default=t,t.has=function(t){return u(s(t,e))},t},define=function(e,t,r){var a=d[e];a&&"new"!==a.state||(arguments.length<2&&n(arguments.length),c(t)||(r=t,t=[]),d[e]=r instanceof o?new i(r.name,t,r,!0):new i(e,t,r,!1))},define.alias=function(e){return new o(e)},requirejs.entries=requirejs._eak_seen=d,requirejs.has=u,requirejs.unsee=function(e){a(e,"(unsee)",!1).unsee()},requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=d=t(),f=t()},define("foo",function(){}),define("foo/bar",[],function(){}),define("foo/asdf",["module","exports","require"],function(e,t,n){n.has("foo/bar")&&n("foo/bar")}),define("foo/baz",[],define.alias("foo")),define("foo/quz",define.alias("foo")),define("foo/bar",["foo","./quz","./baz","./asdf","./bar","../foo"],function(){}),define("foo/main",["foo/bar"],function(){}),require("foo/main"),require.unsee("foo/bar"),requirejs.clear(),"object"==typeof exports&&"object"==typeof module&&module.exports&&(module.exports={require:require,define:define})}(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Array.prototype,n=Object.prototype,i=Function.prototype,o=String.prototype,r=Number.prototype,a=t.slice,s=t.splice,u=t.push,l=t.unshift,c=t.concat,d=i.call,f=n.toString,h=Array.isArray||function(e){return"[object Array]"===f.call(e)},p="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,m=Function.prototype.toString,g=function(e){try{return m.call(e),!0}catch(e){return!1}};e=function(e){if("function"!=typeof e)return!1;if(p)return g(e);var t=f.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var v,y=RegExp.prototype.exec,b=function(e){try{return y.call(e),!0}catch(e){return!1}};v=function(e){return"object"==typeof e&&(p?b(e):"[object RegExp]"===f.call(e))};var w,x=String.prototype.valueOf,C=function(e){try{return x.call(e),!0}catch(e){return!1}};w=function(e){return"string"==typeof e||"object"==typeof e&&(p?C(e):"[object String]"===f.call(e))};var _=function(t){var n=f.call(t),i="[object Arguments]"===n;return i||(i=!h(t)&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&e(t.callee)),i},A=function(e){var t,n=Object.defineProperty&&function(){try{var e={};Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}();return t=n?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},function(n,i,o){for(var r in i)e.call(i,r)&&t(n,r,i[r],o)}}(n.hasOwnProperty),E=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t},T={ToInteger:function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(t){var n,i,o;if(E(t))return t;if(i=t.valueOf,e(i)&&(n=i.call(t),E(n)))return n;if(o=t.toString,e(o)&&(n=o.call(t),E(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},D=function(){};A(i,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,o=a.call(arguments,1),r=function(){if(this instanceof i){var e=n.apply(this,c.call(o,a.call(arguments)));return Object(e)===e?e:this}return n.apply(t,c.call(o,a.call(arguments)))},s=Math.max(0,n.length-o.length),u=[],l=0;l<s;l++)u.push("$"+l);return i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this, arguments); }")(r),n.prototype&&(D.prototype=n.prototype,i.prototype=new D,D.prototype=null),i}});var k=d.bind(n.hasOwnProperty),S=function(){var e=[1,2],t=e.splice();return 2===e.length&&h(t)&&0===t.length}();A(t,{splice:function(e,t){return 0===arguments.length?[]:s.apply(this,arguments)}},!S);var I=function(){var e={};return t.splice.call(e,0,0,1),1===e.length}();A(t,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(T.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=a.call(arguments),n.length<2?n.push(this.length-e):n[1]=T.ToInteger(t)),s.apply(this,n)}},!I);var N=1!==[].unshift(0);A(t,{unshift:function(){return l.apply(this,arguments),this.length}},N),A(Array,{isArray:h});var M=Object("a"),F="a"!==M[0]||!(0 in M),O=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,i){"object"!=typeof i&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};A(t,{forEach:function(t){var n,i=T.ToObject(this),o=F&&w(this)?this.split(""):i,r=-1,a=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<a;)r in o&&(void 0!==n?t.call(n,o[r],r,i):t(o[r],r,i))}},!O(t.forEach)),A(t,{map:function(t){var n,i=T.ToObject(this),o=F&&w(this)?this.split(""):i,r=o.length>>>0,a=Array(r);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.map callback must be a function");for(var s=0;s<r;s++)s in o&&(a[s]=void 0!==n?t.call(n,o[s],s,i):t(o[s],s,i));return a}},!O(t.map)),A(t,{filter:function(t){var n,i,o=T.ToObject(this),r=F&&w(this)?this.split(""):o,a=r.length>>>0,s=[];if(arguments.length>1&&(i=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;u<a;u++)u in r&&(n=r[u],(void 0===i?t(n,u,o):t.call(i,n,u,o))&&s.push(n));return s}},!O(t.filter)),A(t,{every:function(t){var n,i=T.ToObject(this),o=F&&w(this)?this.split(""):i,r=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<r;a++)if(a in o&&!(void 0===n?t(o[a],a,i):t.call(n,o[a],a,i)))return!1;return!0}},!O(t.every)),A(t,{some:function(t){var n,i=T.ToObject(this),o=F&&w(this)?this.split(""):i,r=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<r;a++)if(a in o&&(void 0===n?t(o[a],a,i):t.call(n,o[a],a,i)))return!0;return!1}},!O(t.some));var P=!1;t.reduce&&(P="object"==typeof t.reduce.call("es5",function(e,t,n,i){return i})),A(t,{reduce:function(t){var n=T.ToObject(this),i=F&&w(this)?this.split(""):n,o=i.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a++];break}if(++a>=o)throw new TypeError("reduce of empty array with no initial value")}for(;a<o;a++)a in i&&(r=t(r,i[a],a,n));return r}},!P);var j=!1;t.reduceRight&&(j="object"==typeof t.reduceRight.call("es5",function(e,t,n,i){return i})),A(t,{reduceRight:function(t){var n=T.ToObject(this),i=F&&w(this)?this.split(""):n,o=i.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=o-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return r;do{a in i&&(r=t(r,i[a],a,n))}while(a--);return r}},!j);var $=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);A(t,{indexOf:function(e){var t=F&&w(this)?this.split(""):T.ToObject(this),n=t.length>>>0;if(0===n)return-1;var i=0;for(arguments.length>1&&(i=T.ToInteger(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},$);var q=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);A(t,{lastIndexOf:function(e){var t=F&&w(this)?this.split(""):T.ToObject(this),n=t.length>>>0;if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,T.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}},q);var R=!{toString:null}.propertyIsEnumerable("toString"),L=function(){}.propertyIsEnumerable("prototype"),H=!k("x","0"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=V.length;A(Object,{keys:function(t){var n=e(t),i=_(t),o=null!==t&&"object"==typeof t,r=o&&w(t);if(!o&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var a=[],s=L&&n;if(r&&H||i)for(var u=0;u<t.length;++u)a.push(String(u));if(!i)for(var l in t)s&&"prototype"===l||!k(t,l)||a.push(String(l));if(R)for(var c=t.constructor,d=c&&c.prototype===t,f=0;f<B;f++){var h=V[f];d&&"constructor"===h||!k(t,h)||a.push(h)}return a}});var W=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),z=Object.keys;A(Object,{keys:function(e){return z(_(e)?t.slice.call(e):e)}},!W);var U=-621987552e5,Y="-000001",J=Date.prototype.toISOString&&-1===new Date(U).toISOString().indexOf(Y);A(Date.prototype,{toISOString:function(){var e,t,n,i,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),o=this.getUTCMonth(),i+=Math.floor(o/12),o=(o%12+12)%12,e=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(i<0?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(0<=i&&i<=9999?-4:-6),t=e.length;t--;)(n=e[t])<10&&(e[t]="0"+n);return i+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},J),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(U).toJSON().indexOf(Y)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function(t){var n=Object(this),i=T.ToPrimitive(n);if("number"==typeof i&&!isFinite(i))return null;var o=n.toISOString;if(!e(o))throw new TypeError("toISOString property is not callable");return o.call(n)});var G=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),K=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),Q=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));Date.parse&&!Q&&!K&&G||(Date=function(e){var t=function(n,i,o,r,a,s,u){var l,c=arguments.length;return l=this instanceof e?1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,i,o,r,a,s,u):c>=6?new e(n,i,o,r,a,s):c>=5?new e(n,i,o,r,a):c>=4?new e(n,i,o,r):c>=3?new e(n,i,o):c>=2?new e(n,i):c>=1?new e(n):new e:e.apply(this,arguments),A(l,{constructor:t},!0),l},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(e,t){var n=t>1?1:0;return i[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},r=function(t){return Number(new e(1970,0,1,0,0,0,t))};for(var a in e)k(e,a)&&(t[a]=e[a]);return A(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,A(t.prototype,{constructor:t},!0),A(t,{parse:function(t){var i=n.exec(t);if(i){var a,s=Number(i[1]),u=Number(i[2]||1)-1,l=Number(i[3]||1)-1,c=Number(i[4]||0),d=Number(i[5]||0),f=Number(i[6]||0),h=Math.floor(1e3*Number(i[7]||0)),p=Boolean(i[4]&&!i[8]),m="-"===i[9]?1:-1,g=Number(i[10]||0),v=Number(i[11]||0);return c<(d>0||f>0||h>0?24:25)&&d<60&&f<60&&h<1e3&&u>-1&&u<12&&g<24&&v<60&&l>-1&&l<o(s,u+1)-o(s,u)&&(a=60*(24*(o(s,u)+l)+c+g*m),a=1e3*(60*(a+d+v*m)+f)+h,p&&(a=r(a)),-864e13<=a&&a<=864e13)?a:NaN}return e.parse.apply(this,arguments)}}),t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var X=r.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),Z={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,i=t;++n<Z.size;)i+=e*Z.data[n],Z.data[n]=i%Z.base,i=Math.floor(i/Z.base)},divide:function(e){for(var t=Z.size,n=0;--t>=0;)n+=Z.data[t],Z.data[t]=Math.floor(n/e),n=n%e*Z.base},numToString:function(){for(var e=Z.size,t="";--e>=0;)if(""!==t||0===e||0!==Z.data[e]){var n=String(Z.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function e(t,n,i){return 0===n?i:n%2==1?e(t,n-1,i*t):e(t*t,n/2,i)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}};A(r,{toFixed:function(e){var t,n,i,o,r,a,s,u;if(t=Number(e),(t=t!==t?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if((n=Number(this))!==n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(i="",n<0&&(i="-",n=-n),o="0",n>1e-21)if(r=Z.log(n*Z.pow(2,69,1))-69,a=r<0?n*Z.pow(2,-r,1):n/Z.pow(2,r,1),a*=4503599627370496,(r=52-r)>0){for(Z.multiply(0,a),s=t;s>=7;)Z.multiply(1e7,0),s-=7;for(Z.multiply(Z.pow(10,s,1),0),s=r-1;s>=23;)Z.divide(1<<23),s-=23;Z.divide(1<<s),Z.multiply(1,1),Z.divide(2),o=Z.numToString()}else Z.multiply(0,a),Z.multiply(1<<-r,0),o=Z.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(u=o.length,o=u<=t?i+"0.0000000000000000000".slice(0,t-u+2)+o:i+o.slice(0,u-t)+"."+o.slice(u-t)):o=i+o,o}},X);var ee=o.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1];o.split=function(t,n){var i=this;if(void 0===t&&0===n)return[];if(!v(t))return ee.call(this,t,n);var o,r,a,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0,f=new RegExp(t.source,c+"g");i+="",e||(o=new RegExp("^"+f.source+"$(?!\\s)",c));var h=void 0===n?-1>>>0:T.ToUint32(n);for(r=f.exec(i);r&&!((a=r.index+r[0].length)>d&&(l.push(i.slice(d,r.index)),!e&&r.length>1&&r[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}),r.length>1&&r.index<i.length&&u.apply(l,r.slice(1)),s=r[0].length,d=a,l.length>=h));)f.lastIndex===r.index&&f.lastIndex++,r=f.exec(i);return d===i.length?!s&&f.test("")||l.push(""):l.push(i.slice(d)),l.length>h?l.slice(0,h):l}}():"0".split(void 0,0).length&&(o.split=function(e,t){return void 0===e&&0===t?[]:ee.call(this,e,t)});var te=o.replace;(function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){e.push(n)}),1===e.length&&void 0===e[0]})()||(o.replace=function(t,n){var i=e(n),o=v(t)&&/\)[*?]/.test(t.source);if(i&&o){var r=function(e){var i=arguments.length,o=t.lastIndex;t.lastIndex=0;var r=t.exec(e)||[];return t.lastIndex=o,r.push(arguments[i-2],arguments[i-1]),n.apply(this,r)};return te.call(this,t,r)}return te.call(this,t,n)});var ne=o.substr,ie="".substr&&"b"!=="0b".substr(-1);A(o,{substr:function(e,t){var n=e;return e<0&&(n=Math.max(this.length+e,0)),ne.call(this,n,t)}},ie);var oe="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",re="​",ae="["+oe+"]",se=new RegExp("^"+ae+ae+"*"),ue=new RegExp(ae+ae+"*$"),le=o.trim&&(oe.trim()||!re.trim());A(o,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(se,"").replace(ue,"")}},le),8===parseInt(oe+"08")&&22===parseInt(oe+"0x16")||(parseInt=function(e){var t=/^0[xX]/;return function(n,i){var o=String(n).trim(),r=Number(i)||(t.test(o)?16:10);return e(o,r)}}(parseInt))}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function o(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t=ye[e]={};return ie.each(e.match(ve)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(_e,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ce.test(n)?ie.parseJSON(n):n)}catch(e){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(ie.acceptData(e)){var o,r,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),"object"!=typeof t&&"function"!=typeof t||(i?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),r=u[l],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ie.camelCase(t)]=n),"string"==typeof t?null==(o=r[t])&&(o=r[ie.camelCase(t)]):o=r,o}}function d(e,t,n){if(ie.acceptData(e)){var i,o,r=e.nodeType,a=r?ie.cache:e,s=r?e[ie.expando]:ie.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in i?t=[t]:(t=ie.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!l(i):!ie.isEmptyObject(i))return}(n||(delete a[s].data,l(a[s])))&&(r?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function h(){return!1}function p(){try{return he.activeElement}catch(e){}}function m(e){var t=Oe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==xe?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xe?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ie.nodeName(i,t)?r.push(i):ie.merge(r,g(i,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],r):r}function v(e){ke.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,i=0;null!=(n=e[i]);i++)ie._data(n,"globalEval",!t||ie._data(t[i],"globalEval"))}function C(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,i,o,r=ie._data(e),a=ie._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;i<o;i++)ie.event.add(t,n,s[n][i])}a.data&&(a.data=ie.extend({},a.data))}}function _(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){o=ie._data(t);for(i in o.events)ie.removeEvent(t,i,o.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ke.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function A(t,n){var i,o=ie(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:ie.css(o[0],"display");return o.detach(),r}function E(e){var t=he,n=Qe[e];return n||(n=A(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=A(e,t),Ke.detach()),Qe[e]=n),n}function T(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=ct.length;o--;)if((t=ct[o]+n)in e)return t;return i}function k(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)i=e[a],i.style&&(r[a]=ie._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Te(i)&&(r[a]=ie._data(i,"olddisplay",E(i.nodeName)))):(o=Te(i),(n&&"none"!==n||!o)&&ie._data(i,"olddisplay",o?n:ie.css(i,"display"))));for(a=0;a<s;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function S(e,t,n){var i=at.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function I(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ie.css(e,n+Ee[r],!0,o)),i?("content"===n&&(a-=ie.css(e,"padding"+Ee[r],!0,o)),"margin"!==n&&(a-=ie.css(e,"border"+Ee[r]+"Width",!0,o))):(a+=ie.css(e,"padding"+Ee[r],!0,o),"padding"!==n&&(a+=ie.css(e,"border"+Ee[r]+"Width",!0,o)));return a}function N(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Xe(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(o=Ze(e,t,r),(o<0||null==o)&&(o=e.style[t]),tt.test(o))return o;i=a&&(ne.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),i,r)+"px"}function M(e,t,n,i,o){return new M.prototype.init(e,t,n,i,o)}function F(){return setTimeout(function(){dt=void 0}),dt=ie.now()}function O(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n=Ee[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function P(e,t,n){for(var i,o=(vt[t]||[]).concat(vt["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function j(e,t,n){var i,o,r,a,s,u,l,c=this,d={},f=e.style,h=e.nodeType&&Te(e),p=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=ie.css(e,"display"),"inline"===("none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l)&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],ht.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;h=!0}d[i]=p&&p[i]||ie.style(e,i)}else l=void 0;if(ie.isEmptyObject(d))"inline"===("none"===l?E(e.nodeName):l)&&(f.display=l);else{p?"hidden"in p&&(h=p.hidden):p=ie._data(e,"fxshow",{}),r&&(p.hidden=!h),h?ie(e).show():c.done(function(){ie(e).hide()}),c.done(function(){var t;ie._removeData(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(i in d)a=P(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function $(e,t){var n,i,o,r,a;for(n in e)if(i=ie.camelCase(n),o=t[i],r=e[n],ie.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=ie.cssHooks[i])&&"expand"in a){r=a.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function q(e,t,n){var i,o,r=0,a=gt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=dt||F(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,r=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(r);return s.notifyWith(e,[l,r,n]),r<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dt||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for($(c,l.opts.specialEasing);r<a;r++)if(i=gt[r].call(l,e,c,l.opts))return i;return ie.map(c,P,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(ve)||[];if(ie.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function L(e,t,n,i){function o(s){var u;return r[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||r[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),u}var r={},a=e===Ht;return o(t.dataTypes[0])||!r["*"]&&o("*")}function H(e,t){var n,i,o=ie.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&ie.extend(!0,e,n),e}function V(e,t,n){for(var i,o,r,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){u.unshift(a);break}if(u[0]in n)r=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==u[0]&&u.unshift(r),n[r]}function B(e,t,n,i){var o,r,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=r,r=c.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(!(a=l[u+" "+r]||l["* "+r]))for(o in l)if(s=o.split(" "),s[1]===r&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+r}}}return{state:"success",data:t}}function W(e,t,n,i){var o;if(ie.isArray(t))ie.each(t,function(t,o){n||Wt.test(e)?i(e,o):W(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ie.type(t))i(e,t);else for(o in t)W(e+"["+o+"]",t[o],n,i)}function z(){try{return new e.XMLHttpRequest}catch(e){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Y(e){return ie.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var J=[],G=J.slice,K=J.concat,Q=J.push,X=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,ae=/-([\da-z])/gi,se=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:"1.11.2",constructor:ie,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(o=arguments[s]))for(i in o)e=a[i],n=o[i],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,r=e&&ie.isArray(e)?e:[]):r=e&&ie.isPlainObject(e)?e:{},a[i]=ie.extend(l,r,n)):void 0!==n&&(a[i]=n));return a},ie.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);
return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(re,"ms-").replace(ae,se)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o=0,r=e.length,a=n(e);if(i){if(a)for(;o<r&&!1!==t.apply(e[o],i);o++);else for(o in e)if(!1===t.apply(e[o],i))break}else if(a)for(;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ie.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,i){var o,r=0,a=e.length,s=n(e),u=[];if(s)for(;r<a;r++)null!=(o=t(e[r],r,i))&&u.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&u.push(o);return K.apply([],u)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(o=e[t],t=e,e=o),ie.isFunction(e))return n=G.call(arguments,2),i=function(){return e.apply(t||this,n.concat(G.call(arguments)))},i.guid=e.guid=e.guid||ie.guid++,i},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,i){var o,r,a,s,l,d,f,h,p,m;if((t?t.ownerDocument||t:q)!==I&&S(t),t=t||I,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&M){if(11!==s&&(o=ge.exec(e)))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&j(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&b.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!F||!F.test(e))){if(h=f=$,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=_(e),(f=t.getAttribute("id"))?h=f.replace(ye,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=d.length;l--;)d[l]=h+c(d[l]);p=ve.test(e)&&u(t.parentNode)||t,m=d.join(",")}if(m)try{return K.apply(n,p.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return E(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=L++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var s,u,l=[R,r];if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(u=t[$]||(t[$]={}),(s=u[i])&&s[0]===R&&s[1]===r)return l[2]=s[2];if(u[i]=l,l[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function h(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function p(e,t,n,i,o){for(var r,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),l&&t.push(s)));return a}function m(e,t,n,o,r,a){return o&&!o[$]&&(o=m(o)),r&&!r[$]&&(r=m(r,a)),i(function(i,a,s,u){var l,c,d,f=[],m=[],g=a.length,v=i||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:p(v,f,e,s,u),b=n?r||(i?e:g||o)?[]:a:y;if(n&&n(y,b,s,u),o)for(l=p(b,m),o(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[m[c]]=!(y[m[c]]=d));if(i){if(r||e){if(r){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);r(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=r?X(i,d):f[c])>-1&&(i[l]=!(a[l]=d))}}else b=p(b===a?b.splice(g,b.length):b),r?r(null,a,b,u):K.apply(a,b)})}function g(e){for(var t,n,i,o=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],s=r?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return X(t,e)>-1},a,!0),h=[function(e,n,i){var o=!r&&(i||n!==T)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,o}];s<o;s++)if(n=w.relative[e[s].type])h=[d(f(h),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[$]){for(i=++s;i<o&&!w.relative[e[i].type];i++);return m(s>1&&f(h),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<i&&g(e.slice(s,i)),i<o&&g(e=e.slice(i)),i<o&&c(e))}h.push(n)}return f(h)}function v(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,u,l){var c,d,f,h=0,m="0",g=i&&[],v=[],y=T,b=i||r&&w.find.TAG("*",l),x=R+=null==y?1:Math.random()||.1,C=b.length;for(l&&(T=a!==I&&a);m!==C&&null!=(c=b[m]);m++){if(r&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(R=x)}o&&((c=!f&&c)&&h--,i&&g.push(c))}if(h+=m,o&&m!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(h>0)for(;m--;)g[m]||v[m]||(v[m]=J.call(u));v=p(v)}K.apply(u,v),l&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(R=x,T=y),g};return o?i(a):a}var y,b,w,x,C,_,A,E,T,D,k,S,I,N,M,F,O,P,j,$="sizzle"+1*new Date,q=e.document,R=0,L=0,H=n(),V=n(),B=n(),W=function(e,t){return e===t&&(k=!0),0},z=1<<31,U={}.hasOwnProperty,Y=[],J=Y.pop,G=Y.push,K=Y.push,Q=Y.slice,X=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",oe=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(oe),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){S()};try{K.apply(Y=Q.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){G.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:q;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),M=!C(i),b.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=me.test(i.getElementsByClassName),b.getById=o(function(e){return N.appendChild(e).id=$,!i.getElementsByName||!i.getElementsByName($).length}),b.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(M)return t.getElementsByClassName(e)},O=[],F=[],(b.qsa=me.test(i.querySelectorAll))&&(o(function(e){N.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+$+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||F.push(".#.+[+~]")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(b.matchesSelector=me.test(P=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){b.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),O.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=me.test(N.compareDocumentPosition),j=t||me.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===q&&j(q,e)?-1:t===i||t.ownerDocument===q&&j(q,t)?1:D?X(D,e)-X(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,o=0,r=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!r||!s)return e===i?-1:t===i?1:r?-1:s?1:D?X(D,e)-X(D,t):0;if(r===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[o]===l[o];)o++;return o?a(u[o],l[o]):u[o]===q?-1:l[o]===q?1:0},i):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&S(e),n=n.replace(le,"='$1']"),b.matchesSelector&&M&&(!O||!O.test(n))&&(!F||!F.test(n)))try{var i=P.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&S(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&S(e);var n=w.attrHandle[t.toLowerCase()],i=n&&U.call(w.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:b.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(k=!b.detectDuplicates,D=!b.sortStable&&e.slice(0),e.sort(W),k){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return D=null,e},x=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=x(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(c=g[$]||(g[$]={}),l=c[e]||[],h=l[0]===R&&l[1],f=l[0]===R&&l[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[R,h,f];break}}else if(y&&(l=(t[$]||(t[$]={}))[e])&&l[0]===R)f=l[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[$]||(d[$]={}))[e]=[R,f]),d!==t)););return(f-=o)===i||f%i==0&&f/i>=0}}},PSEUDO:function(e,n){var o,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[$]?r(n):r.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)i=X(e,o[a]),e[i]=!(t[i]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=A(e.replace(ae,"$1"));return o[$]?i(function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do{if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,_=t.tokenize=function(e,n){var i,o,r,a,s,u,l,c=V[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){i&&!(o=se.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(r=[])),i=!1,(o=ue.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ae," ")}),s=s.slice(i.length));for(a in w.filter)!(o=fe[a].exec(s))||l[a]&&!(o=l[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):V(e,u).slice(0)},A=t.compile=function(e,t){var n,i=[],o=[],r=B[e+" "];if(!r){for(t||(t=_(e)),n=t.length;n--;)r=g(t[n]),r[$]?i.push(r):o.push(r);r=B(e,v(o,i)),r.selector=e}return r},E=t.select=function(e,t,n,i){var o,r,a,s,l,d="function"==typeof e&&e,f=!i&&_(e=d.selector||e);if(n=n||[],1===f.length){if(r=f[0]=f[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&b.getById&&9===t.nodeType&&M&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(be,we),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(be,we),ve.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&c(r)))return K.apply(n,i),n;break}}return(d||A(e,f))(i,t,!M,n,ve.test(e)&&u(t.parentNode)||t),n},b.sortStable=$.split("").sort(W).join("")===$,b.detectDuplicates=!!k,S(),b.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(Z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var le=ie.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ie.find.matchesSelector(i,e)?[i]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<o;t++)if(ie.contains(i[t],this))return!0}));for(t=0;t<o;t++)ie.find(e,i[t],n);return n=this.pushStack(o>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&le.test(e)?ie(e):e||[],!1).length}});var fe,he=e.document,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ie.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pe.exec(e))||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),ce.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=he.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return fe.find(e);this.length=1,this[0]=i}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==fe.ready?fe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))}).prototype=ie.fn,fe=ie(he);var me=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!ie(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=le.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ie.unique(r):r)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,i){var o=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ie.filter(i,o)),this.length>1&&(ge[e]||(o=ie.unique(o)),me.test(e)&&(o=o.reverse())),this.pushStack(o)}});var ve=/\S+/g,ye={};ie.Callbacks=function(e){e="string"==typeof e?ye[e]||r(e):ie.extend({},e);var t,n,i,o,a,s,u=[],l=!e.once&&[],c=function(r){for(n=e.memory&&r,i=!0,a=s||0,s=0,o=u.length,t=!0;u&&a<o;a++)if(!1===u[a].apply(r[0],r[1])&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var i=u.length;!function t(n){ie.each(n,function(n,i){var o=ie.type(i);"function"===o?e.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==o&&t(i)})}(arguments),t?o=u.length:n&&(s=i,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var i;(i=ie.inArray(n,u,i))>-1;)u.splice(i,1),t&&(i<=o&&o--,i<=a&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||i&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,r){var a=ie.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,i):i}},o={};return i.pipe=i.then,ie.each(t,function(e,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=G.call(arguments),a=r.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,u=1===s?e:ie.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?G.call(arguments):o,i===t?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&ie.isFunction(r[o].promise)?r[o].promise().done(l(o,i,r)).fail(u.reject).progress(l(o,n,t)):--s;return s||u.resolveWith(i,r),u.promise()}});var be;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(!0===e?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,!0!==e&&--ie.readyWait>0||(be.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!be)if(be=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),ie.ready()}}()}return be.promise(t)};var we,xe="undefined";for(we in ie(ne))break;ne.ownLast="0"!==we,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,i;(n=he.getElementsByTagName("body")[0])&&n.style&&(t=he.createElement("div"),i=he.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==xe&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=ie.data(r),1===r.nodeType&&!ie._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ie.camelCase(i.slice(5)),u(r,i,o[i])));ie._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):r?u(r,e,ie.data(r,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ie._data(e,t),n&&(!i||ie.isArray(n)?i=ie._data(e,t,ie.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),i=n.length,o=n.shift(),r=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ie.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ie._data(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],Te=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,i,o,r,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){o=!0;for(s in n)ie.access(e,t,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,ie.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):u?t(e[0],n):r},ke=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){
var t,n,i=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Se=/^(?:input|select|textarea)$/i,Ie=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,i,o){var r,a,s,u,l,c,d,f,h,p,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,o=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===xe||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ve)||[""],s=t.length;s--;)r=Fe.exec(t[s])||[],h=m=r[1],p=(r[2]||"").split(".").sort(),h&&(l=ie.event.special[h]||{},h=(o?l.delegateType:l.bindType)||h,l=ie.event.special[h]||{},d=ie.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:p.join(".")},u),(f=a[h])||(f=a[h]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(e,i,p,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[h]=!0);e=null}},remove:function(e,t,n,i,o){var r,a,s,u,l,c,d,f,h,p,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ve)||[""],l=t.length;l--;)if(s=Fe.exec(t[l])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=ie.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=r=f.length;r--;)a=f[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(r,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||ie.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)ie.event.remove(e,h+t[l],n,i,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,i,o){var r,a,s,u,l,c,d,f=[i||he],h=te.call(t,"type")?t.type:t,p=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=i=i||he,3!==i.nodeType&&8!==i.nodeType&&!Me.test(h+ie.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[ie.expando]?t:new ie.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[h]||{},o||!l.trigger||!1!==l.trigger.apply(i,n))){if(!o&&!l.noBubble&&!ie.isWindow(i)){for(u=l.delegateType||h,Me.test(u+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(i.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||h,r=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),r&&r.apply(s,n),(r=a&&s[a])&&r.apply&&ie.acceptData(s)&&(t.result=r.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=h,!o&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(f.pop(),n))&&ie.acceptData(i)&&a&&i[h]&&!ie.isWindow(i)){c=i[a],c&&(i[a]=null),ie.event.triggered=h;try{i[h]()}catch(e){}ie.event.triggered=void 0,c&&(i[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,i,o,r,a=[],s=G.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=ie.event.handlers.call(this,e,u),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((ie.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],r=0;r<s;r++)i=t[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),o[n]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ne.test(o)?this.mouseHooks:Ie.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ie.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||he,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ie.event.trigger(o,null,t):ie.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===xe&&(e[i]=null),e.detachEvent(i,n))},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?f:h):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ie.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){if(ie.nodeName(this,"form"))return!1;ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ie.nodeName(this,"form"))return!1;ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){if(Se.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1;ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Se.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ie.event.remove(this,"._change"),!Se.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ie._data(i,t);o||i.addEventListener(e,n,!0),ie._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ie._data(i,t)-1;o?ie._data(i,t,o):(i.removeEventListener(e,n,!0),ie._removeData(i,t))}}}),ie.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=h;else if(!i)return this;return 1===o&&(a=i,i=function(e){return ie().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ie(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=h),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pe=/ jQuery\d+="(?:null|\d+)"/g,je=new RegExp("<(?:"+Oe+")[\\s/>]","i"),$e=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Re=/<([\w:]+)/,Le=/<tbody/i,He=/<|&#?\w+;/,Ve=/<(?:script|style|link)/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^$|\/(?:java|ecma)script/i,ze=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=m(he),Ge=Je.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var i,o,r,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!je.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(r=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(i=g(r),s=g(e),a=0;null!=(o=s[a]);++a)i[a]&&_(o,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(r),a=0;null!=(o=s[a]);a++)C(o,i[a]);else C(e,r);return i=g(r,"script"),i.length>0&&x(i,!u&&g(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,u,l,c,d=e.length,f=m(t),h=[],p=0;p<d;p++)if((r=e[p])||0===r)if("object"===ie.type(r))ie.merge(h,r.nodeType?[r]:r);else if(He.test(r)){for(s=s||f.appendChild(t.createElement("div")),u=(Re.exec(r)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+r.replace(qe,"<$1></$2>")+c[2],o=c[0];o--;)s=s.lastChild;if(!ne.leadingWhitespace&&$e.test(r)&&h.push(t.createTextNode($e.exec(r)[0])),!ne.tbody)for(r="table"!==u||Le.test(r)?"<table>"!==c[1]||Le.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)ie.nodeName(l=r.childNodes[o],"tbody")&&!l.childNodes.length&&r.removeChild(l);for(ie.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(r));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(h,"input"),v),p=0;r=h[p++];)if((!i||-1===ie.inArray(r,i))&&(a=ie.contains(r.ownerDocument,r),s=g(f.appendChild(r),"script"),a&&x(s),n))for(o=0;r=s[o++];)We.test(r.type||"")&&n.push(r);return s=null,f},cleanData:function(e,t){for(var n,i,o,r,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(o=n[s],r=o&&u[o])){if(r.events)for(i in r.events)c[i]?ie.event.remove(n,i):ie.removeEvent(n,i,r.handle);u[o]&&(delete u[o],l?delete n[s]:typeof n.removeAttribute!==xe?n.removeAttribute(s):n[s]=null,J.push(o))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ie.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&x(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pe,""):void 0;if("string"==typeof e&&!Ve.test(e)&&(ne.htmlSerialize||!je.test(e))&&(ne.leadingWhitespace||!$e.test(e))&&!Ye[(Re.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,o,r,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],h=ie.isFunction(f);if(h||l>1&&"string"==typeof f&&!ne.checkClone&&Be.test(f))return this.each(function(n){var i=c.eq(n);h&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=ie.map(g(s,"script"),b),o=r.length;u<l;u++)i=s,u!==d&&(i=ie.clone(i,!0,!0),o&&ie.merge(r,g(i,"script"))),t.call(this[u],i,u);if(o)for(a=r[r.length-1].ownerDocument,ie.map(r,w),u=0;u<o;u++)i=r[u],We.test(i.type||"")&&!ie._data(i,"globalEval")&&ie.contains(a,i)&&(i.src?ie._evalUrl&&ie._evalUrl(i.src):ie.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ue,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,i=0,o=[],r=ie(e),a=r.length-1;i<=a;i++)n=i===a?this:this.clone(!0),ie(r[i])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Ke,Qe={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return(n=he.getElementsByTagName("body")[0])&&n.style?(t=he.createElement("div"),i=he.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==xe&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Xe,Ze,et=/^margin/,tt=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i"),nt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Xe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ze=function(e,t,n){var i,o,r,a,s=e.style;return n=n||Xe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),tt.test(a)&&et.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(Xe=function(e){return e.currentStyle},Ze=function(e,t,n){var i,o,r,a,s=e.style;return n=n||Xe(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!nt.test(t)&&(i=s.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i,o;(n=he.getElementsByTagName("body")[0])&&n.style&&(t=he.createElement("div"),i=he.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,u=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(he.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(o)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),n.removeChild(i))}var n,i,o,r,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],(i=o&&o.style)&&(i.cssText="float:left;opacity:.5",ne.opacity="0.5"===i.opacity,ne.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return o};var it=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,rt=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+Ae+")(.*)$","i"),st=new RegExp("^([+-])=("+Ae+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=D(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:u[t];if(r=typeof n,"string"===r&&(o=st.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ie.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=D(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in lt&&(r=lt[t]),""===n||n?(o=parseFloat(r),!0===n||ie.isNumeric(o)?o||0:r):r}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,i){if(n)return rt.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ut,function(){return N(e,t,i)}):N(e,t,i)},set:function(e,n,i){var o=i&&Xe(e);return S(e,n,i?I(e,t,i,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o),o):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(r.replace(it,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=it.test(r)?r.replace(it,o):r+" "+o)}}),ie.cssHooks.marginRight=T(ne.reliableMarginRight,function(e,t){if(t)return ie.swap(e,{display:"inline-block"},Ze,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Ee[i]+t]=r[i]||r[i-2]||r[0];return o}},et.test(e)||(ie.cssHooks[e+t].set=S)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var i,o,r={},a=0;if(ie.isArray(t)){for(i=Xe(e),o=t.length;a<o;a++)r[t[a]]=ie.css(e,t[a],!1,i);return r}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Te(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ie.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=M.prototype.init,ie.fx.step={};var dt,ft,ht=/^(?:toggle|show|hide)$/,pt=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[j],vt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=pt.exec(t),r=o&&o[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==r&&+i)&&pt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do{s=s||".5",a/=s,ie.style(n.elem,e,a+r)}while(s!==(s=n.cur()/i)&&1!==s&&--u)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};ie.Animation=ie.extend(q,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;i<o;i++)n=e[i],vt[n]=vt[n]||[],vt[n].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),ie.speed=function(e,t,n){var i=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return i.duration=ie.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ie.fx.speeds?ie.fx.speeds[i.duration]:ie.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ie.isFunction(i.old)&&i.old.call(this),i.queue&&ie.dequeue(this,i.queue)},i},ie.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ie.isEmptyObject(e),r=ie.speed(t,n,i),a=function(){var t=q(this,ie.extend({},e),r);(o||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ie.timers,a=ie._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&mt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ie.timers,a=i?i.length:0;for(n.finish=!0,ie.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,o)}}),ie.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(dt=ie.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),dt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ft||(ft=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ft),ft=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,o;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=he.createElement("select"),o=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=o.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!o.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var yt=/\r/g;ie.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=ie.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ie(this).val()):e,null==o?o="":"number"==typeof o?o+="":ie.isArray(o)&&(o=ie.map(o,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=ie.valHooks[o.type]||ie.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,a=r?null:[],s=r?o+1:i.length,u=o<0?s:r?o:0;u<s;u++)if(n=i[u],(n.selected||u===o)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=ie.makeArray(t),a=o.length;a--;)if(i=o[a],ie.inArray(ie.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>=0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,wt,xt=ie.expr.attrHandle,Ct=/^(?:checked|selected)$/i,_t=ne.getSetAttribute,At=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===xe?ie.prop(e,t,n):(1===r&&ie.isXMLDoc(e)||(t=t.toLowerCase(),i=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?wt:bt)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=ie.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(ve);if(r&&1===e.nodeType)for(;n=r[o++];)i=ie.propFix[n]||n,ie.expr.match.bool.test(n)?At&&_t||!Ct.test(n)?e[i]=!1:e[ie.camelCase("default-"+n)]=e[i]=!1:ie.attr(e,n,""),e.removeAttribute(_t?n:i)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),wt={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):At&&_t||!Ct.test(n)?e.setAttribute(!_t&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},
ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||ie.find.attr;xt[t]=At&&_t||!Ct.test(t)?function(e,t,i){var o,r;return i||(r=xt[t],xt[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,xt[t]=r),o}:function(e,t,n){if(!n)return e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&_t||(ie.attrHooks.value={set:function(e,t,n){if(!ie.nodeName(e,"input"))return bt&&bt.set(e,t,n);e.defaultValue=t}}),_t||(bt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},xt.id=xt.name=xt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:bt.set},ie.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""!==t&&t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,Tt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ie.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!ie.isXMLDoc(e),r&&(t=ie.propFix[t]||t,o=ie.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ie.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=e?ie.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,o=ie(this),r=e.match(ve)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else n!==xe&&"boolean"!==n||(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var kt=ie.now(),St=/\?/,It=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=ie.trim(t+"");return o&&!ie.trim(o.replace(It,function(e,t,o,r){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!r-!o,"")}))?Function("return "+o)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var Nt,Mt,Ft=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,qt=/^\/\//,Rt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Lt={},Ht={},Vt="*/".concat("*");try{Mt=location.href}catch(e){Mt=he.createElement("a"),Mt.href="",Mt=Mt.href}Nt=Rt.exec(Mt.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt,type:"GET",isLocal:jt.test(Nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ie.ajaxSettings),t):H(ie.ajaxSettings,e)},ajaxPrefilter:R(Lt),ajaxTransport:R(Ht),ajax:function(e,t){function n(e,t,n,i){var o,c,v,y,w,C=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=i||"",x.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(y=V(d,x,n)),y=B(d,y,x,o),o?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ie.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(ie.etag[r]=w)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=y.state,c=y.data,v=y.error,o=!v)):(v=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(t||C)+"",o?p.resolveWith(f,[c,C,x]):p.rejectWith(f,[x,C,v]),x.statusCode(g),g=void 0,u&&h.trigger(o?"ajaxSuccess":"ajaxError",[x,d,o?c:v]),m.fireWith(f,[x,C]),u&&(h.trigger("ajaxComplete",[x,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,r,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,p=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Pt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),n(0,t),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Mt)+"").replace(Ft,"").replace(qt,Nt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(ve)||[""],null==d.crossDomain&&(i=Rt.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Nt[1]&&i[2]===Nt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Nt[3]||("http:"===Nt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),L(Lt,d,t,x),2===b)return x;u=ie.event&&d.global,u&&0==ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$t.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(St.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ot.test(r)?r.replace(Ot,"$1_="+kt++):r+(St.test(r)?"&":"?")+"_="+kt++)),d.ifModified&&(ie.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ie.lastModified[r]),ie.etag[r]&&x.setRequestHeader("If-None-Match",ie.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Vt+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)x.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](d[o]);if(l=L(Ht,d,t,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,i,o){return ie.isFunction(n)&&(o=o||i,i=n,n=void 0),ie.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Bt=/%20/g,Wt=/\[\]$/,zt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,i=[],o=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(n in e)W(n,e[n],t,o);return i.join("&").replace(Bt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Yt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||U()}:z;var Jt=0,Gt={},Kt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Gt)Gt[e](void 0,!0)}),ne.cors=!!Kt&&"withCredentials"in Kt,Kt=ne.ajax=!!Kt,Kt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,i){var o,r=e.xhr(),a=++Jt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(e.hasContent&&e.data||null),t=function(n,o){var s,u,l;if(t&&(o||4===r.readyState))if(delete Gt[a],t=void 0,r.onreadystatechange=ie.noop,o)4!==r.readyState&&r.abort();else{l={},s=r.status,"string"==typeof r.responseText&&(l.text=r.responseText);try{u=r.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&i(s,u,l,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Gt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(i,o){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Qt=[],Xt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||ie.expando+"_"+kt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,a,s=!1!==t.jsonp&&(Xt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xt,"$1"+o):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ie.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(o)),a&&ie.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var i=ce.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ie.buildFragment([e],t,o),o&&o.length&&ie(o).remove(),ie.merge([],i.childNodes))};var Zt=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return s>=0&&(i=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&ie.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ie("<div>").append(ie.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var en=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var i,o,r,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[r,u])>-1,l?(i=d.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,ie.contains(t,o)?(typeof o.getBoundingClientRect!==xe&&(i=o.getBoundingClientRect()),n=Y(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ie.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(i,"marginTop",!0),left:t.left-n.left-ie.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||en;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||en})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(i){return De(this,function(e,i,o){var r=Y(e);if(void 0===o)return r?t in r?r[t]:r.document.documentElement[i]:e[i];r?r.scrollTo(n?ie(r).scrollLeft():o,n?o:ie(r).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=T(ne.pixelPosition,function(e,n){if(n)return n=Ze(e,t),tt.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ie.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return De(this,function(t,n,i){var o;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ie.css(t,n,a):ie.style(t,n,i,a)},t,r?i:void 0,r,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var tn=e.jQuery,nn=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=nn),t&&e.jQuery===ie&&(e.jQuery=tn),ie},typeof t===xe&&(e.jQuery=e.$=ie),ie}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.flatpickr={})}(this,function(e){"use strict";function t(e,t,n){void 0===n&&(n=!1);var i;return function(){var o=this,r=arguments;null!==i&&clearTimeout(i),i=window.setTimeout(function(){i=null,n||e.apply(o,r)},t),n&&!i&&e.apply(o,r)}}function n(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function i(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function o(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function a(e,t){return t(e)?e:e.parentNode?a(e.parentNode,t):void 0}function s(e,t){var n=o("div","numInputWrapper"),i=o("input","numInput "+e),r=o("span","arrowUp"),a=o("span","arrowDown");if(i.type="text",i.pattern="\\d*",void 0!==t)for(var s in t)i.setAttribute(s,t[s]);return n.appendChild(i),n.appendChild(r),n.appendChild(a),n}function u(e,u){function l(){Te.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=Te.currentMonth),void 0===t&&(t=Te.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:Te.l10n.daysInMonth[e]}}}function p(e){return e.bind(Te)}function m(e){Te.config.noCalendar&&0===Te.selectedDates.length&&(Te.setDate(void 0!==Te.config.minDate?new Date(Te.config.minDate.getTime()):(new Date).setHours(Te.config.defaultHour,Te.config.defaultMinute,Te.config.defaultSeconds,0),!1),A(),_e()),Ee(e),0!==Te.selectedDates.length&&("input"!==e.type?(A(),_e()):setTimeout(function(){A(),_e()},E))}function v(e,t){return e%12+12*f(t===Te.l10n.amPM[1])}function C(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function A(){if(void 0!==Te.hourElement&&void 0!==Te.minuteElement){var e=(parseInt(Te.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(Te.minuteElement.value,10)||0)%60,i=void 0!==Te.secondElement?(parseInt(Te.secondElement.value,10)||0)%60:0;void 0!==Te.amPM&&(e=v(e,Te.amPM.textContent));var o=void 0!==Te.config.minTime||Te.config.minDate&&Te.minDateHasTime&&Te.latestSelectedDateObj&&0===n(Te.latestSelectedDateObj,Te.config.minDate,!0);if(void 0!==Te.config.maxTime||Te.config.maxDate&&Te.maxDateHasTime&&Te.latestSelectedDateObj&&0===n(Te.latestSelectedDateObj,Te.config.maxDate,!0)){var r=void 0!==Te.config.maxTime?Te.config.maxTime:Te.config.maxDate;e=Math.min(e,r.getHours()),e===r.getHours()&&(t=Math.min(t,r.getMinutes())),t===r.getMinutes()&&(i=Math.min(i,r.getSeconds()))}if(o){var a=void 0!==Te.config.minTime?Te.config.minTime:Te.config.minDate;e=Math.max(e,a.getHours()),e===a.getHours()&&(t=Math.max(t,a.getMinutes())),t===a.getMinutes()&&(i=Math.max(i,a.getSeconds()))}k(e,t,i)}}function D(e){var t=e||Te.latestSelectedDateObj;t&&k(t.getHours(),t.getMinutes(),t.getSeconds())}function k(e,t,n){void 0!==Te.latestSelectedDateObj&&Te.latestSelectedDateObj.setHours(e%24,t,n||0,0),Te.hourElement&&Te.minuteElement&&!Te.isMobile&&(Te.hourElement.value=d(Te.config.time_24hr?e:(12+e)%12+12*f(e%12==0)),Te.minuteElement.value=d(t),void 0!==Te.amPM&&(Te.amPM.textContent=Te.l10n.amPM[f(e>=12)]),void 0!==Te.secondElement&&(Te.secondElement.value=d(n)))}function S(e){var t=parseInt(e.target.value)+(e.delta||0);4!==t.toString().length&&"Enter"!==e.key||(Te.currentYearElement.blur(),/[^\d]/.test(t.toString())||Q(t))}function I(e,t,n,i){return t instanceof Array?t.forEach(function(t){return I(e,t,n,i)}):e instanceof Array?e.forEach(function(e){return I(e,t,n,i)}):(e.addEventListener(t,n,i),void Te._handlers.push({element:e,event:t,handler:n}))}function N(e){return function(t){1===t.which&&e(t)}}function M(){ye("onChange")}function F(){if(Te.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(Te.element.querySelectorAll("[data-"+e+"]"),function(t){return I(t,"click",Te[e])})}),Te.isMobile)return void ge();var e=t(te,50);if(Te._debouncedChange=t(M,E),Te.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&I(Te.daysContainer,"mouseover",function(e){"range"===Te.config.mode&&ee(e.target)}),I(window.document.body,"keydown",Z),Te.config.static||I(Te._input,"keydown",Z),Te.config.inline||Te.config.static||I(window,"resize",e),void 0!==window.ontouchstart&&I(window.document,"touchstart",K),I(window.document,"mousedown",N(K)),I(window.document,"focus",K,{capture:!0}),!0===Te.config.clickOpens&&(I(Te._input,"focus",Te.open),I(Te._input,"mousedown",N(Te.open))),void 0!==Te.daysContainer&&(I(Te.monthNav,"mousedown",N(Ae)),I(Te.monthNav,["keyup","increment"],S),I(Te.daysContainer,"mousedown",N(le))),void 0!==Te.timeContainer&&void 0!==Te.minuteElement&&void 0!==Te.hourElement){var n=function(e){return e.target.select()};I(Te.timeContainer,["input","increment"],m),I(Te.timeContainer,"mousedown",N(P)),I(Te.timeContainer,["input","increment"],Te._debouncedChange,{passive:!0}),I([Te.hourElement,Te.minuteElement],["focus","click"],n),void 0!==Te.secondElement&&I(Te.secondElement,"focus",function(){return Te.secondElement&&Te.secondElement.select()}),void 0!==Te.amPM&&I(Te.amPM,"mousedown",N(function(e){m(e),M()}))}}function O(e){var t=void 0!==e?Te.parseDate(e):Te.latestSelectedDateObj||(Te.config.minDate&&Te.config.minDate>Te.now?Te.config.minDate:Te.config.maxDate&&Te.config.maxDate<Te.now?Te.config.maxDate:Te.now);try{void 0!==t&&(Te.currentYear=t.getFullYear(),Te.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,Te.config.errorHandler(e)}Te.redraw()}function P(e){~e.target.className.indexOf("arrow")&&j(e,e.target.classList.contains("arrowUp")?1:-1)}function j(e,t,n){var i=e&&e.target,o=n||i&&i.parentNode&&i.parentNode.firstChild,r=be("increment");r.delta=t,o&&o.dispatchEvent(r)}function $(){var e=window.document.createDocumentFragment();if(Te.calendarContainer=o("div","flatpickr-calendar"),Te.calendarContainer.tabIndex=-1,!Te.config.noCalendar){if(e.appendChild(H()),Te.innerContainer=o("div","flatpickr-innerContainer"),Te.config.weekNumbers){var t=W(),n=t.weekWrapper,r=t.weekNumbers;Te.innerContainer.appendChild(n),Te.weekNumbers=r,Te.weekWrapper=n}Te.rContainer=o("div","flatpickr-rContainer"),Te.rContainer.appendChild(B()),Te.daysContainer||(Te.daysContainer=o("div","flatpickr-days"),Te.daysContainer.tabIndex=-1),L(),Te.rContainer.appendChild(Te.daysContainer),Te.innerContainer.appendChild(Te.rContainer),e.appendChild(Te.innerContainer)}Te.config.enableTime&&e.appendChild(V()),i(Te.calendarContainer,"rangeMode","range"===Te.config.mode),Te.calendarContainer.appendChild(e);var a=void 0!==Te.config.appendTo&&void 0!==Te.config.appendTo.nodeType;if((Te.config.inline||Te.config.static)&&(Te.calendarContainer.classList.add(Te.config.inline?"inline":"static"),Te.config.inline&&(!a&&Te.element.parentNode?Te.element.parentNode.insertBefore(Te.calendarContainer,Te._input.nextSibling):void 0!==Te.config.appendTo&&Te.config.appendTo.appendChild(Te.calendarContainer)),Te.config.static)){var s=o("div","flatpickr-wrapper");Te.element.parentNode&&Te.element.parentNode.insertBefore(s,Te.element),s.appendChild(Te.element),Te.altInput&&s.appendChild(Te.altInput),s.appendChild(Te.calendarContainer)}Te.config.static||Te.config.inline||(void 0!==Te.config.appendTo?Te.config.appendTo:window.document.body).appendChild(Te.calendarContainer)}function q(e,t,r,a){var s=X(t,!0),u=o("span","flatpickr-day "+e,t.getDate().toString());return u.dateObj=t,u.$i=a,u.setAttribute("aria-label",Te.formatDate(t,Te.config.ariaDateFormat)),0===n(t,Te.now)&&(Te.todayDateElem=u,u.classList.add("today")),s?(u.tabIndex=-1,we(t)&&(u.classList.add("selected"),Te.selectedDateElem=u,"range"===Te.config.mode&&(i(u,"startRange",Te.selectedDates[0]&&0===n(t,Te.selectedDates[0])),i(u,"endRange",Te.selectedDates[1]&&0===n(t,Te.selectedDates[1]))))):(u.classList.add("disabled"),Te.selectedDates[0]&&Te.minRangeDate&&t>Te.minRangeDate&&t<Te.selectedDates[0]?Te.minRangeDate=t:Te.selectedDates[0]&&Te.maxRangeDate&&t<Te.maxRangeDate&&t>Te.selectedDates[0]&&(Te.maxRangeDate=t)),"range"===Te.config.mode&&(xe(t)&&!we(t)&&u.classList.add("inRange"),1===Te.selectedDates.length&&void 0!==Te.minRangeDate&&void 0!==Te.maxRangeDate&&(t<Te.minRangeDate||t>Te.maxRangeDate)&&u.classList.add("notAllowed")),Te.weekNumbers&&"prevMonthDay"!==e&&r%7==1&&Te.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+Te.config.getWeek(t)+"</span>"),ye("onDayCreate",u),u}function R(e,t){var n=e+t||0,i=void 0!==e?Te.days.childNodes[n]:Te.selectedDateElem||Te.todayDateElem||Te.days.childNodes[0];void 0===i&&0!==t&&(t>0?(Te.changeMonth(1,!0,!0),n%=42):t<0&&(Te.changeMonth(-1,!0,!0),n+=42)),function(){i=i||Te.days.childNodes[n],i.focus(),"range"===Te.config.mode&&ee(i)}()}function L(){if(void 0!==Te.daysContainer){var e=(new Date(Te.currentYear,Te.currentMonth,1).getDay()-Te.l10n.firstDayOfWeek+7)%7,t="range"===Te.config.mode,n=Te.utils.getDaysInMonth((Te.currentMonth-1+12)%12),i=Te.utils.getDaysInMonth(),a=window.document.createDocumentFragment(),s=n+1-e,u=0;for(Te.weekNumbers&&Te.weekNumbers.firstChild&&(Te.weekNumbers.textContent=""),t&&(Te.minRangeDate=new Date(Te.currentYear,Te.currentMonth-1,s),Te.maxRangeDate=new Date(Te.currentYear,Te.currentMonth+1,(42-e)%i));s<=n;s++,u++)a.appendChild(q("prevMonthDay",new Date(Te.currentYear,Te.currentMonth-1,s),s,u));for(s=1;s<=i;s++,u++)a.appendChild(q("",new Date(Te.currentYear,Te.currentMonth,s),s,u));for(var l=i+1;l<=42-e;l++,u++)a.appendChild(q("nextMonthDay",new Date(Te.currentYear,Te.currentMonth+1,l%i),l,u));t&&1===Te.selectedDates.length&&a.childNodes[0]?(Te._hidePrevMonthArrow=Te._hidePrevMonthArrow||!!Te.minRangeDate&&Te.minRangeDate>a.childNodes[0].dateObj,Te._hideNextMonthArrow=Te._hideNextMonthArrow||!!Te.maxRangeDate&&Te.maxRangeDate<new Date(Te.currentYear,Te.currentMonth+1,1)):Ce();var c=o("div","dayContainer");c.appendChild(a),r(Te.daysContainer),Te.daysContainer.insertBefore(c,Te.daysContainer.firstChild),Te.days=Te.daysContainer.firstChild}}function H(){var e=window.document.createDocumentFragment();Te.monthNav=o("div","flatpickr-month"),Te.prevMonthNav=o("span","flatpickr-prev-month"),Te.prevMonthNav.innerHTML=Te.config.prevArrow,Te.currentMonthElement=o("span","cur-month");var t=s("cur-year",{tabindex:"-1"});return Te.currentYearElement=t.childNodes[0],Te.config.minDate&&Te.currentYearElement.setAttribute("data-min",Te.config.minDate.getFullYear().toString()),Te.config.maxDate&&(Te.currentYearElement.setAttribute("data-max",Te.config.maxDate.getFullYear().toString()),Te.currentYearElement.disabled=!!Te.config.minDate&&Te.config.minDate.getFullYear()===Te.config.maxDate.getFullYear()),Te.nextMonthNav=o("span","flatpickr-next-month"),Te.nextMonthNav.innerHTML=Te.config.nextArrow,Te.navigationCurrentMonth=o("div","flatpickr-current-month"),Te.navigationCurrentMonth.appendChild(Te.currentMonthElement),Te.navigationCurrentMonth.appendChild(t),e.appendChild(Te.prevMonthNav),e.appendChild(Te.navigationCurrentMonth),e.appendChild(Te.nextMonthNav),Te.monthNav.appendChild(e),Object.defineProperty(Te,"_hidePrevMonthArrow",{get:function(){return Te.__hidePrevMonthArrow},set:function(e){Te.__hidePrevMonthArrow!==e&&(Te.prevMonthNav.style.display=e?"none":"block"),Te.__hidePrevMonthArrow=e}}),Object.defineProperty(Te,"_hideNextMonthArrow",{get:function(){return Te.__hideNextMonthArrow},set:function(e){Te.__hideNextMonthArrow!==e&&(Te.nextMonthNav.style.display=e?"none":"block"),Te.__hideNextMonthArrow=e}}),Ce(),Te.monthNav}function V(){Te.calendarContainer.classList.add("hasTime"),Te.config.noCalendar&&Te.calendarContainer.classList.add("noCalendar"),Te.timeContainer=o("div","flatpickr-time"),Te.timeContainer.tabIndex=-1;var e=o("span","flatpickr-time-separator",":"),t=s("flatpickr-hour");Te.hourElement=t.childNodes[0];var n=s("flatpickr-minute");if(Te.minuteElement=n.childNodes[0],Te.hourElement.tabIndex=Te.minuteElement.tabIndex=-1,Te.hourElement.value=d(Te.latestSelectedDateObj?Te.latestSelectedDateObj.getHours():Te.config.time_24hr?Te.config.defaultHour:C(Te.config.defaultHour)),Te.minuteElement.value=d(Te.latestSelectedDateObj?Te.latestSelectedDateObj.getMinutes():Te.config.defaultMinute),Te.hourElement.setAttribute("data-step",Te.config.hourIncrement.toString()),Te.minuteElement.setAttribute("data-step",Te.config.minuteIncrement.toString()),Te.hourElement.setAttribute("data-min",Te.config.time_24hr?"0":"1"),Te.hourElement.setAttribute("data-max",Te.config.time_24hr?"23":"12"),Te.minuteElement.setAttribute("data-min","0"),Te.minuteElement.setAttribute("data-max","59"),Te.timeContainer.appendChild(t),Te.timeContainer.appendChild(e),Te.timeContainer.appendChild(n),Te.config.time_24hr&&Te.timeContainer.classList.add("time24hr"),Te.config.enableSeconds){Te.timeContainer.classList.add("hasSeconds");var i=s("flatpickr-second");Te.secondElement=i.childNodes[0],Te.secondElement.value=d(Te.latestSelectedDateObj?Te.latestSelectedDateObj.getSeconds():Te.config.defaultSeconds),Te.secondElement.setAttribute("data-step",Te.minuteElement.getAttribute("data-step")),
Te.secondElement.setAttribute("data-min",Te.minuteElement.getAttribute("data-min")),Te.secondElement.setAttribute("data-max",Te.minuteElement.getAttribute("data-max")),Te.timeContainer.appendChild(o("span","flatpickr-time-separator",":")),Te.timeContainer.appendChild(i)}return Te.config.time_24hr||(Te.amPM=o("span","flatpickr-am-pm",Te.l10n.amPM[f((Te.latestSelectedDateObj?Te.hourElement.value:Te.config.defaultHour)>11)]),Te.amPM.title=Te.l10n.toggleTitle,Te.amPM.tabIndex=-1,Te.timeContainer.appendChild(Te.amPM)),Te.timeContainer}function B(){Te.weekdayContainer||(Te.weekdayContainer=o("div","flatpickr-weekdays"));var e=Te.l10n.firstDayOfWeek,t=Te.l10n.weekdays.shorthand.slice();return e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e))),Te.weekdayContainer.innerHTML="\n    <span class=flatpickr-weekday>\n      "+t.join("</span><span class=flatpickr-weekday>")+"\n    </span>\n    ",Te.weekdayContainer}function W(){Te.calendarContainer.classList.add("hasWeeks");var e=o("div","flatpickr-weekwrapper");e.appendChild(o("span","flatpickr-weekday",Te.l10n.weekAbbreviation));var t=o("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}function z(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=t?e:e-Te.currentMonth;if(!(i<0&&Te._hidePrevMonthArrow||i>0&&Te._hideNextMonthArrow)&&(Te.currentMonth+=i,(Te.currentMonth<0||Te.currentMonth>11)&&(Te.currentYear+=Te.currentMonth>11?1:-1,Te.currentMonth=(Te.currentMonth+12)%12,ye("onYearChange")),L(),ye("onMonthChange"),Ce(),n&&document.activeElement&&document.activeElement.$i)){R(document.activeElement.$i,0)}}function U(e){void 0===e&&(e=!0),Te.input.value="",Te.altInput&&(Te.altInput.value=""),Te.mobileInput&&(Te.mobileInput.value=""),Te.selectedDates=[],Te.latestSelectedDateObj=void 0,Te.showTimeInput=!1,Te.config.enableTime&&(void 0!==Te.config.minDate?D(Te.config.minDate):k(Te.config.defaultHour,Te.config.defaultMinute,Te.config.defaultSeconds)),Te.redraw(),e&&ye("onChange")}function Y(){Te.isOpen=!1,Te.isMobile||(Te.calendarContainer.classList.remove("open"),Te._input.classList.remove("active")),ye("onClose")}function J(){void 0!==Te.config&&ye("onDestroy");for(var e=Te._handlers.length;e--;){var t=Te._handlers[e];t.element.removeEventListener(t.event,t.handler)}Te._handlers=[],Te.mobileInput?(Te.mobileInput.parentNode&&Te.mobileInput.parentNode.removeChild(Te.mobileInput),Te.mobileInput=void 0):Te.calendarContainer&&Te.calendarContainer.parentNode&&Te.calendarContainer.parentNode.removeChild(Te.calendarContainer),Te.altInput&&(Te.input.type="text",Te.altInput.parentNode&&Te.altInput.parentNode.removeChild(Te.altInput),delete Te.altInput),Te.input&&(Te.input.type=Te.input._type,Te.input.classList.remove("flatpickr-input"),Te.input.removeAttribute("readonly"),Te.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete Te[e]}catch(e){}})}function G(e){return!(!Te.config.appendTo||!Te.config.appendTo.contains(e))||Te.calendarContainer.contains(e)}function K(e){if(Te.isOpen&&!Te.config.inline){var t=G(e.target),n=e.target===Te.input||e.target===Te.altInput||Te.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(Te.input)||~e.path.indexOf(Te.altInput)),i="blur"===e.type?n&&e.relatedTarget&&!G(e.relatedTarget):!n&&!t,o=!Te.config.ignoredFocusElements.some(function(t){return t.contains(e.target)});i&&o&&(Te.close(),"range"===Te.config.mode&&1===Te.selectedDates.length&&(Te.clear(!1),Te.redraw()))}}function Q(e){if(!(!e||Te.currentYearElement.getAttribute("data-min")&&e<parseInt(Te.currentYearElement.getAttribute("data-min"))||Te.currentYearElement.getAttribute("data-max")&&e>parseInt(Te.currentYearElement.getAttribute("data-max")))){var t=e,n=Te.currentYear!==t;Te.currentYear=t||Te.currentYear,Te.config.maxDate&&Te.currentYear===Te.config.maxDate.getFullYear()?Te.currentMonth=Math.min(Te.config.maxDate.getMonth(),Te.currentMonth):Te.config.minDate&&Te.currentYear===Te.config.minDate.getFullYear()&&(Te.currentMonth=Math.max(Te.config.minDate.getMonth(),Te.currentMonth)),n&&(Te.redraw(),ye("onYearChange"))}}function X(e,t){void 0===t&&(t=!0);var i=Te.parseDate(e,void 0,t);if(Te.config.minDate&&i&&n(i,Te.config.minDate,void 0!==t?t:!Te.minDateHasTime)<0||Te.config.maxDate&&i&&n(i,Te.config.maxDate,void 0!==t?t:!Te.maxDateHasTime)>0)return!1;if(!Te.config.enable.length&&!Te.config.disable.length)return!0;if(void 0===i)return!1;for(var o=Te.config.enable.length>0,r=o?Te.config.enable:Te.config.disable,a=0,s=void 0;a<r.length;a++){if("function"==typeof(s=r[a])&&s(i))return o;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return o;if("string"==typeof s&&void 0!==i){var u=Te.parseDate(s,void 0,!0);return u&&u.getTime()===i.getTime()?o:!o}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return o}return!o}function Z(e){var t=e.target===Te._input,n=G(e.target),i=Te.config.allowInput,o=Te.isOpen&&(!i||!t),r=Te.config.inline&&t&&!i;if(13===e.keyCode&&t){if(i)return Te.setDate(Te._input.value,!0,e.target===Te.altInput?Te.config.altFormat:Te.config.dateFormat),e.target.blur();Te.open()}else if(n||o||r){var a=!!Te.timeContainer&&Te.timeContainer.contains(e.target);switch(e.keyCode){case 13:a?_e():le(e);break;case 27:e.preventDefault(),Te.close();break;case 8:case 46:t&&!Te.config.allowInput&&Te.clear();break;case 37:case 39:if(a)Te.hourElement&&Te.hourElement.focus();else if(e.preventDefault(),Te.daysContainer){var s=39===e.keyCode?1:-1;e.ctrlKey?z(s,!0,!0):R(e.target.$i,s)}break;case 38:case 40:e.preventDefault();var u=40===e.keyCode?1:-1;Te.daysContainer&&void 0!==e.target.$i?e.ctrlKey?(Q(Te.currentYear-u),R(e.target.$i,0)):a||R(e.target.$i,7*u):Te.config.enableTime&&(!a&&Te.hourElement&&Te.hourElement.focus(),m(e),Te._debouncedChange());break;case 9:e.target===Te.hourElement?(e.preventDefault(),Te.minuteElement.select()):e.target===Te.minuteElement&&(Te.secondElement||Te.amPM)?(e.preventDefault(),void 0!==Te.secondElement?Te.secondElement.focus():void 0!==Te.amPM&&Te.amPM.focus()):e.target===Te.secondElement&&Te.amPM&&(e.preventDefault(),Te.amPM.focus())}switch(e.key){case Te.l10n.amPM[0].charAt(0):void 0!==Te.amPM&&e.target===Te.amPM&&(Te.amPM.textContent=Te.l10n.amPM[0],A(),_e());break;case Te.l10n.amPM[1].charAt(0):void 0!==Te.amPM&&e.target===Te.amPM&&(Te.amPM.textContent=Te.l10n.amPM[1],A(),_e())}ye("onKeyDown",e)}}function ee(e){if(1===Te.selectedDates.length&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&void 0!==Te.minRangeDate&&void 0!==Te.maxRangeDate){for(var t=e.dateObj,n=Te.parseDate(Te.selectedDates[0],void 0,!0),i=Math.min(t.getTime(),Te.selectedDates[0].getTime()),o=Math.max(t.getTime(),Te.selectedDates[0].getTime()),r=!1,a=i;a<o;a+=_.DAY)if(!X(new Date(a))){r=!0;break}for(var s=0,u=Te.days.childNodes[s].dateObj;s<42;s++,u=Te.days.childNodes[s]&&Te.days.childNodes[s].dateObj)!function(a,s){var u=s.getTime(),l=u<Te.minRangeDate.getTime()||u>Te.maxRangeDate.getTime(),c=Te.days.childNodes[a];if(l)return c.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){c.classList.remove(e)}),"continue";if(r&&!l)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){c.classList.remove(e)});var d=Math.max(Te.minRangeDate.getTime(),i),f=Math.min(Te.maxRangeDate.getTime(),o);e.classList.add(t<Te.selectedDates[0]?"startRange":"endRange"),n<t&&u===n.getTime()?c.classList.add("startRange"):n>t&&u===n.getTime()&&c.classList.add("endRange"),u>=d&&u<=f&&c.classList.add("inRange")}(s,u)}}function te(){!Te.isOpen||Te.config.static||Te.config.inline||ae()}function ne(e,t){if(void 0===t&&(t=Te._input),Te.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),setTimeout(function(){void 0!==Te.mobileInput&&Te.mobileInput.click()},0),void ye("onOpen");if(!Te._input.disabled&&!Te.config.inline){var n=Te.isOpen;Te.isOpen=!0,n||(Te.calendarContainer.classList.add("open"),Te._input.classList.add("active"),ye("onOpen"),ae(t))}}function ie(e){return function(t){var n=Te.config["_"+e+"Date"]=Te.parseDate(t,Te.config.dateFormat),i=Te.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(Te["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),Te.selectedDates&&(Te.selectedDates=Te.selectedDates.filter(function(e){return X(e)}),Te.selectedDates.length||"min"!==e||D(n),_e()),Te.daysContainer&&(se(),void 0!==n?Te.currentYearElement[e]=n.getFullYear().toString():Te.currentYearElement.removeAttribute(e),Te.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function oe(){var t=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i=c({},u,JSON.parse(JSON.stringify(e.dataset||{}))),o={};Te.config.parseDate=i.parseDate,Te.config.formatDate=i.formatDate,Object.defineProperty(Te.config,"enable",{get:function(){return Te.config._enable||[]},set:function(e){Te.config._enable=he(e)}}),Object.defineProperty(Te.config,"disable",{get:function(){return Te.config._disable||[]},set:function(e){Te.config._disable=he(e)}}),!i.dateFormat&&i.enableTime&&(o.dateFormat=i.noCalendar?"H:i"+(i.enableSeconds?":S":""):T.defaultConfig.dateFormat+" H:i"+(i.enableSeconds?":S":"")),i.altInput&&i.enableTime&&!i.altFormat&&(o.altFormat=i.noCalendar?"h:i"+(i.enableSeconds?":S K":" K"):T.defaultConfig.altFormat+" h:i"+(i.enableSeconds?":S":"")+" K"),Object.defineProperty(Te.config,"minDate",{get:function(){return Te.config._minDate},set:ie("min")}),Object.defineProperty(Te.config,"maxDate",{get:function(){return Te.config._maxDate},set:ie("max")});var r=function(e){return function(t){Te.config["min"===e?"_minTime":"_maxTime"]=Te.parseDate(t,"H:i")}};Object.defineProperty(Te.config,"minTime",{get:function(){return Te.config._minTime},set:r("min")}),Object.defineProperty(Te.config,"maxTime",{get:function(){return Te.config._maxTime},set:r("max")}),Object.assign(Te.config,o,i);for(var a=0;a<t.length;a++)Te.config[t[a]]=!0===Te.config[t[a]]||"true"===Te.config[t[a]];for(var a=n.length;a--;)void 0!==Te.config[n[a]]&&(Te.config[n[a]]=h(Te.config[n[a]]||[]).map(p));"time"===Te.config.mode&&(Te.config.noCalendar=!0,Te.config.enableTime=!0);for(var a=0;a<Te.config.plugins.length;a++){var s=Te.config.plugins[a](Te)||{};for(var l in s)~n.indexOf(l)?Te.config[l]=h(s[l]).map(p).concat(Te.config[l]):void 0===i[l]&&(Te.config[l]=s[l])}Te.isMobile=!Te.config.disableMobile&&!Te.config.inline&&"single"===Te.config.mode&&!Te.config.disable.length&&!Te.config.enable.length&&!Te.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ye("onParseConfig")}function re(){"object"!=typeof Te.config.locale&&void 0===T.l10ns[Te.config.locale]&&Te.config.errorHandler(new Error("flatpickr: invalid locale "+Te.config.locale)),Te.l10n=c({},T.l10ns.default,"object"==typeof Te.config.locale?Te.config.locale:"default"!==Te.config.locale?T.l10ns[Te.config.locale]:void 0),g.K="("+Te.l10n.amPM[0]+"|"+Te.l10n.amPM[1]+"|"+Te.l10n.amPM[0].toLowerCase()+"|"+Te.l10n.amPM[1].toLowerCase()+")",Te.formatDate=b(Te)}function ae(e){if(void 0!==Te.calendarContainer){ye("onPreCalendarPosition");var t=e||Te._positionElement,n=Array.prototype.reduce.call(Te.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),o=Te.calendarContainer.offsetWidth,r=Te.config.position,a=t.getBoundingClientRect(),s=window.innerHeight-a.bottom,u="above"===r||"below"!==r&&s<n&&a.top>n,l=window.pageYOffset+a.top+(u?-n-2:t.offsetHeight+2);if(i(Te.calendarContainer,"arrowTop",!u),i(Te.calendarContainer,"arrowBottom",u),!Te.config.inline){var c=window.pageXOffset+a.left,d=window.document.body.offsetWidth-a.right,f=c+o>window.document.body.offsetWidth;i(Te.calendarContainer,"rightMost",f),Te.config.static||(Te.calendarContainer.style.top=l+"px",f?(Te.calendarContainer.style.left="auto",Te.calendarContainer.style.right=d+"px"):(Te.calendarContainer.style.left=c+"px",Te.calendarContainer.style.right="auto"))}}}function se(){Te.config.noCalendar||Te.isMobile||(B(),Ce(),L())}function ue(){Te._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(Te.close,0):Te.close()}function le(e){e.preventDefault(),e.stopPropagation();var t=function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")},i=a(e.target,t);if(void 0!==i){var o=i,r=Te.latestSelectedDateObj=new Date(o.dateObj.getTime()),s=r.getMonth()!==Te.currentMonth&&"range"!==Te.config.mode;if(Te.selectedDateElem=o,"single"===Te.config.mode)Te.selectedDates=[r];else if("multiple"===Te.config.mode){var u=we(r);u?Te.selectedDates.splice(parseInt(u),1):Te.selectedDates.push(r)}else"range"===Te.config.mode&&(2===Te.selectedDates.length&&Te.clear(),Te.selectedDates.push(r),0!==n(r,Te.selectedDates[0],!0)&&Te.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(A(),s){var l=Te.currentYear!==r.getFullYear();Te.currentYear=r.getFullYear(),Te.currentMonth=r.getMonth(),l&&ye("onYearChange"),ye("onMonthChange")}if(L(),Te.config.minDate&&Te.minDateHasTime&&Te.config.enableTime&&0===n(r,Te.config.minDate)&&D(Te.config.minDate),_e(),Te.config.enableTime&&setTimeout(function(){return Te.showTimeInput=!0},50),"range"===Te.config.mode&&(1===Te.selectedDates.length?(ee(o),Te._hidePrevMonthArrow=Te._hidePrevMonthArrow||void 0!==Te.minRangeDate&&Te.minRangeDate>Te.days.childNodes[0].dateObj,Te._hideNextMonthArrow=Te._hideNextMonthArrow||void 0!==Te.maxRangeDate&&Te.maxRangeDate<new Date(Te.currentYear,Te.currentMonth+1,1)):Ce()),s?Te.selectedDateElem&&Te.selectedDateElem.focus():R(o.$i,0),void 0!==Te.hourElement&&setTimeout(function(){return void 0!==Te.hourElement&&Te.hourElement.select()},451),Te.config.closeOnSelect){var c="single"===Te.config.mode&&!Te.config.enableTime,d="range"===Te.config.mode&&2===Te.selectedDates.length&&!Te.config.enableTime;(c||d)&&ue()}M()}}function ce(e,t){null!==e&&"object"==typeof e?Object.assign(Te.config,e):(Te.config[e]=t,void 0!==De[e]&&De[e].forEach(function(e){return e()})),Te.redraw(),O()}function de(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return Te.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[Te.parseDate(e,t)];else if("string"==typeof e)switch(Te.config.mode){case"single":n=[Te.parseDate(e,t)];break;case"multiple":n=e.split(Te.config.conjunction).map(function(e){return Te.parseDate(e,t)});break;case"range":n=e.split(Te.l10n.rangeSeparator).map(function(e){return Te.parseDate(e,t)})}else Te.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));Te.selectedDates=n.filter(function(e){return e instanceof Date&&X(e,!1)}),"range"===Te.config.mode&&Te.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function fe(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=Te.config.dateFormat),0!==e&&!e)return Te.clear(t);de(e,n),Te.showTimeInput=Te.selectedDates.length>0,Te.latestSelectedDateObj=Te.selectedDates[0],Te.redraw(),O(),D(),_e(t),t&&ye("onChange")}function he(e){return e.map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?Te.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:Te.parseDate(e.from,void 0),to:Te.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function pe(){Te.selectedDates=[],Te.now=new Date;var e=Te.config.defaultDate||Te.input.value;e&&de(e,Te.config.dateFormat);var t=Te.selectedDates.length?Te.selectedDates[0]:Te.config.minDate&&Te.config.minDate.getTime()>Te.now.getTime()?Te.config.minDate:Te.config.maxDate&&Te.config.maxDate.getTime()<Te.now.getTime()?Te.config.maxDate:Te.now;Te.currentYear=t.getFullYear(),Te.currentMonth=t.getMonth(),Te.selectedDates.length&&(Te.latestSelectedDateObj=Te.selectedDates[0]),void 0!==Te.config.minTime&&(Te.config.minTime=Te.parseDate(Te.config.minTime,"H:i")),void 0!==Te.config.maxTime&&(Te.config.maxTime=Te.parseDate(Te.config.maxTime,"H:i")),Te.minDateHasTime=!!Te.config.minDate&&(Te.config.minDate.getHours()>0||Te.config.minDate.getMinutes()>0||Te.config.minDate.getSeconds()>0),Te.maxDateHasTime=!!Te.config.maxDate&&(Te.config.maxDate.getHours()>0||Te.config.maxDate.getMinutes()>0||Te.config.maxDate.getSeconds()>0),Object.defineProperty(Te,"showTimeInput",{get:function(){return Te._showTimeInput},set:function(e){Te._showTimeInput=e,Te.calendarContainer&&i(Te.calendarContainer,"showTimeInput",e),Te.isOpen&&ae()}})}function me(){if(Te.input=Te.config.wrap?e.querySelector("[data-input]"):e,!Te.input)return void Te.config.errorHandler(new Error("Invalid input element specified"));Te.input._type=Te.input.type,Te.input.type="text",Te.input.classList.add("flatpickr-input"),Te._input=Te.input,Te.config.altInput&&(Te.altInput=o(Te.input.nodeName,Te.input.className+" "+Te.config.altInputClass),Te._input=Te.altInput,Te.altInput.placeholder=Te.input.placeholder,Te.altInput.disabled=Te.input.disabled,Te.altInput.required=Te.input.required,Te.altInput.tabIndex=Te.input.tabIndex,Te.altInput.type="text",Te.input.type="hidden",!Te.config.static&&Te.input.parentNode&&Te.input.parentNode.insertBefore(Te.altInput,Te.input.nextSibling)),Te.config.allowInput||Te._input.setAttribute("readonly","readonly"),Te._positionElement=Te.config.positionElement||Te._input}function ge(){var e=Te.config.enableTime?Te.config.noCalendar?"time":"datetime-local":"date";Te.mobileInput=o("input",Te.input.className+" flatpickr-mobile"),Te.mobileInput.step=Te.input.getAttribute("step")||"any",Te.mobileInput.tabIndex=1,Te.mobileInput.type=e,Te.mobileInput.disabled=Te.input.disabled,Te.mobileInput.required=Te.input.required,Te.mobileInput.placeholder=Te.input.placeholder,Te.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",Te.selectedDates.length&&(Te.mobileInput.defaultValue=Te.mobileInput.value=Te.formatDate(Te.selectedDates[0],Te.mobileFormatStr)),Te.config.minDate&&(Te.mobileInput.min=Te.formatDate(Te.config.minDate,"Y-m-d")),Te.config.maxDate&&(Te.mobileInput.max=Te.formatDate(Te.config.maxDate,"Y-m-d")),Te.input.type="hidden",void 0!==Te.altInput&&(Te.altInput.type="hidden");try{Te.input.parentNode&&Te.input.parentNode.insertBefore(Te.mobileInput,Te.input.nextSibling)}catch(e){}I(Te.mobileInput,"change",function(e){Te.setDate(e.target.value,!1,Te.mobileFormatStr),ye("onChange"),ye("onClose")})}function ve(){if(Te.isOpen)return Te.close();Te.open()}function ye(e,t){var n=Te.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](Te.selectedDates,Te.input.value,Te,t);"onChange"===e&&(Te.input.dispatchEvent(be("change")),Te.input.dispatchEvent(be("input")))}function be(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<Te.selectedDates.length;t++)if(0===n(Te.selectedDates[t],e))return""+t;return!1}function xe(e){return!("range"!==Te.config.mode||Te.selectedDates.length<2)&&(n(e,Te.selectedDates[0])>=0&&n(e,Te.selectedDates[1])<=0)}function Ce(){Te.config.noCalendar||Te.isMobile||!Te.monthNav||(Te.currentMonthElement.textContent=x(Te.currentMonth,Te.config.shorthandCurrentMonth,Te.l10n)+" ",Te.currentYearElement.value=Te.currentYear.toString(),Te._hidePrevMonthArrow=void 0!==Te.config.minDate&&(Te.currentYear===Te.config.minDate.getFullYear()?Te.currentMonth<=Te.config.minDate.getMonth():Te.currentYear<Te.config.minDate.getFullYear()),Te._hideNextMonthArrow=void 0!==Te.config.maxDate&&(Te.currentYear===Te.config.maxDate.getFullYear()?Te.currentMonth+1>Te.config.maxDate.getMonth():Te.currentYear>Te.config.maxDate.getFullYear()))}function _e(e){if(void 0===e&&(e=!0),!Te.selectedDates.length)return Te.clear(e);void 0!==Te.mobileInput&&Te.mobileFormatStr&&(Te.mobileInput.value=void 0!==Te.latestSelectedDateObj?Te.formatDate(Te.latestSelectedDateObj,Te.mobileFormatStr):"");var t="range"!==Te.config.mode?Te.config.conjunction:Te.l10n.rangeSeparator;Te.input.value=Te.selectedDates.map(function(e){return Te.formatDate(e,Te.config.dateFormat)}).join(t),void 0!==Te.altInput&&(Te.altInput.value=Te.selectedDates.map(function(e){return Te.formatDate(e,Te.config.altFormat)}).join(t)),!1!==e&&ye("onValueUpdate")}function Ae(e){e.preventDefault();var t=Te.prevMonthNav.contains(e.target),n=Te.nextMonthNav.contains(e.target);t||n?z(t?-1:1):e.target===Te.currentYearElement?Te.currentYearElement.select():e.target.classList.contains("arrowUp")?Te.changeYear(Te.currentYear+1):e.target.classList.contains("arrowDown")&&Te.changeYear(Te.currentYear-1)}function Ee(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==Te.amPM&&e.target===Te.amPM&&(Te.amPM.textContent=Te.l10n.amPM[f(Te.amPM.textContent===Te.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("data-min")),o=parseFloat(n.getAttribute("data-max")),r=parseFloat(n.getAttribute("data-step")),a=parseInt(n.value,10),s=e.delta||(t?38===e.which?1:-1:0),u=a+r*s;if(void 0!==n.value&&2===n.value.length){var l=n===Te.hourElement,c=n===Te.minuteElement;u<i?(u=o+u+f(!l)+(f(l)&&f(!Te.amPM)),c&&j(void 0,-1,Te.hourElement)):u>o&&(u=n===Te.hourElement?u-o-f(!Te.amPM):i,c&&j(void 0,1,Te.hourElement)),Te.amPM&&l&&(1===r?u+a===23:Math.abs(u-a)>r)&&(Te.amPM.textContent=Te.l10n.amPM[f(Te.amPM.textContent===Te.l10n.amPM[0])]),n.value=d(u)}}var Te={config:c({},T.defaultConfig),l10n:y};Te.parseDate=w({config:Te.config,l10n:Te.l10n}),Te._handlers=[],Te._bind=I,Te._setHoursFromDate=D,Te.changeMonth=z,Te.changeYear=Q,Te.clear=U,Te.close=Y,Te._createElement=o,Te.destroy=J,Te.isEnabled=X,Te.jumpToDate=O,Te.open=ne,Te.redraw=se,Te.set=ce,Te.setDate=fe,Te.toggle=ve;var De={locale:[re]};return function(){Te.element=Te.input=e,Te.isOpen=!1,oe(),re(),me(),pe(),l(),Te.isMobile||$(),F(),(Te.selectedDates.length||Te.config.noCalendar)&&(Te.config.enableTime&&D(Te.config.noCalendar?Te.latestSelectedDateObj||Te.config.minDate:void 0),_e(!1)),Te.showTimeInput=Te.selectedDates.length>0||Te.config.noCalendar,void 0!==Te.weekWrapper&&void 0!==Te.daysContainer&&(Te.calendarContainer.style.visibility="hidden",Te.calendarContainer.style.display="block",Te.calendarContainer.style.width=Te.daysContainer.offsetWidth+Te.weekWrapper.offsetWidth+"px",Te.calendarContainer.style.visibility="visible",Te.calendarContainer.style.display=null);var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!Te.isMobile&&t&&ae(),ye("onReady")}(),Te}function l(e,t){for(var n=Array.prototype.slice.call(e),i=[],o=0;o<n.length;o++){var r=n[o];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=u(r,t||{}),i.push(r._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}var c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},d=function(e){return("0"+e).slice(-2)},f=function(e){return!0===e?1:0},h=function(e){return e instanceof Array?e:[e]},p=function(){},m={D:p,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*f(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var n=parseInt(t);return new Date(e.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:p,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},w:p,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},g={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[v.w(e,t,n)]},F:function(e,t,n){return x(v.n(e,t,n)-1,!1,t)},G:function(e,t,n){return d(v.h(e,t,n))},H:function(e){return d(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[f(e.getHours()>11)]},M:function(e,t){return x(e.getMonth(),!0,t)},S:function(e){return d(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return d(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return d(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return d(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"]},b=function(e){var t=e.config,n=void 0===t?A:t,i=e.l10n,o=void 0===i?y:i;return function(e,t,i){if(void 0!==n.formatDate)return n.formatDate(e,t);var r=i||o;return t.split("").map(function(t,i,o){return v[t]&&"\\"!==o[i-1]?v[t](e,r,n):"\\"!==t?t:""}).join("")}},w=function(e){var t=e.config,n=void 0===t?A:t,i=e.l10n,o=void 0===i?y:i;return function(e,t,i){if(0===e||e){var r,a=e;if(e instanceof Date)r=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)r=new Date(e);else if("string"==typeof e){var s=t||(n||A).dateFormat,u=String(e).trim();if("today"===u)r=new Date,i=!0;else if(/Z$/.test(u)||/GMT$/.test(u))r=new Date(e);else if(n&&n.parseDate)r=n.parseDate(e,s);else{r=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var l=void 0,c=[],d=0,f=0,h="";d<s.length;d++){var p=s[d],v="\\"===p,y="\\"===s[d-1]||v;if(g[p]&&!y){h+=g[p];var b=new RegExp(h).exec(e);b&&(l=!0)&&c["Y"!==p?"push":"unshift"]({fn:m[p],val:b[++f]})}else v||(h+=".");c.forEach(function(e){var t=e.fn,n=e.val;return r=t(r,n,o)||r})}r=l?r:void 0}}return r instanceof Date?(!0===i&&r.setHours(0,0,0,0),r):void n.errorHandler(new Error("Invalid date provided: "+a))}}},x=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},C=function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},_={DAY:864e5},A={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:console.warn,getWeek:C,hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=0,o=t;i<o.length;i++){var r=o[i];!function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})}(r)}return e});var E=300;"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return l(this,e)},HTMLElement.prototype.flatpickr=function(e){return l([this],e)});var T;T=function(e,t){return e instanceof NodeList?l(e,t):"string"==typeof e?l(window.document.querySelectorAll(e),t):l([e],t)},"object"==typeof window&&(window.flatpickr=T),T.defaultConfig=A,T.l10ns={en:c({},y),default:c({},y)},T.localize=function(e){T.l10ns.default=c({},T.l10ns.default,e)},T.setDefaults=function(e){T.defaultConfig=c({},T.defaultConfig,e)},T.parseDate=w({}),T.formatDate=b({}),T.compareDates=n,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return l(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))};var D=T;e.default=D,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var o,r,a,s=t.nodeName.toLowerCase();return"area"===s?(o=t.parentNode,r=o.name,!(!t.href||!r||"map"!==o.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+r+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){
return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&t(n,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,i(this,t)+"px")})},e.fn["outer"+n]=function(t,o){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,i(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(n=o.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,n)}};var i=0,o=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=e._data(o,"events"),i&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var o,r,a,s,u={},l=t.split(".")[0];return t=t.split(".")[1],o=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(u[t]=i);u[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=n,this._superApply=r,t}}()}),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},u,{constructor:a,namespace:l,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,r=o.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])i=r[a][n],r[a].hasOwnProperty(n)&&void 0!==i&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=o.call(arguments,1),u=this;return a?this.each(function(){var n,o=e.data(this,i);return"instance"===r?(u=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s),n!==o&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,a){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+r.eventNamespace,c=u[2];c?o.delegate(c,l,s):n.bind(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&e.effects&&e.effects.effect[s]?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}});e.widget;!function(){function t(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,r,a=Math.max,s=Math.abs,u=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return e("body").append(i),t=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),o=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||o?n.width():n.outerWidth(),height:i||o?n.height():n.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=e.extend({},o);var h,m,g,v,y,b,w=e(o.of),x=e.position.getWithinInfo(o.within),C=e.position.getScrollInfo(x),_=(o.collision||"flip").split(" "),A={};return b=i(w),w[0].preventDefault&&(o.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(o[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=d.exec(n[0]),t=d.exec(n[1]),A[this]=[e?e[0]:0,t?t[0]:0],o[this]=[f.exec(n[0])[0],f.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===o.at[0]?y.left+=m:"center"===o.at[0]&&(y.left+=m/2),"bottom"===o.at[1]?y.top+=g:"center"===o.at[1]&&(y.top+=g/2),h=t(A.at,m,g),y.left+=h[0],y.top+=h[1],this.each(function(){var i,l,c=e(this),d=c.outerWidth(),f=c.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),E=d+p+n(this,"marginRight")+C.width,T=f+b+n(this,"marginBottom")+C.height,D=e.extend({},y),k=t(A.my,c.outerWidth(),c.outerHeight());"right"===o.my[0]?D.left-=d:"center"===o.my[0]&&(D.left-=d/2),"bottom"===o.my[1]?D.top-=f:"center"===o.my[1]&&(D.top-=f/2),D.left+=k[0],D.top+=k[1],r||(D.left=u(D.left),D.top=u(D.top)),i={marginLeft:p,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[_[t]]&&e.ui.position[_[t]][n](D,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:f,collisionPosition:i,collisionWidth:E,collisionHeight:T,offset:[h[0]+k[0],h[1]+k[1]],my:o.my,at:o.at,within:x,elem:c})}),o.using&&(l=function(e){var t=v.left-D.left,n=t+m-d,i=v.top-D.top,r=i+g-f,u={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:D.left,top:D.top,width:d,height:f},horizontal:n<0?"left":t>0?"right":"center",vertical:r<0?"top":i>0?"bottom":"middle"};m<d&&s(t+n)<m&&(u.horizontal="center"),g<f&&s(i+r)<g&&(u.vertical="middle"),a(s(t),s(n))>a(s(i),s(r))?u.important="horizontal":u.important="vertical",o.using.call(this,e,u)}),c.offset(e.extend(D,{using:l}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=e.left-t.collisionPosition.marginLeft,u=o-s,l=s+t.collisionWidth-r-o;t.collisionWidth>r?u>0&&l<=0?(n=e.left+u+t.collisionWidth-r-o,e.left+=u-n):e.left=l>0&&u<=0?o:u>l?o+r-t.collisionWidth:o:u>0?e.left+=u:l>0?e.left-=l:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,s=e.top-t.collisionPosition.marginTop,u=o-s,l=s+t.collisionHeight-r-o;t.collisionHeight>r?u>0&&l<=0?(n=e.top+u+t.collisionHeight-r-o,e.top+=u-n):e.top=l>0&&u<=0?o:u>l?o+r-t.collisionHeight:o:u>0?e.top+=u:l>0?e.top-=l:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,r=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-u,d=l+t.collisionWidth-a-u,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((n=e.left+f+h+p+t.collisionWidth-a-r)<0||n<s(c))&&(e.left+=f+h+p):d>0&&((i=e.left-t.collisionPosition.marginLeft+f+h+p-u)>0||s(i)<d)&&(e.left+=f+h+p)},top:function(e,t){var n,i,o=t.within,r=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-u,d=l+t.collisionHeight-a-u,f="top"===t.my[1],h=f?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];c<0?((i=e.top+h+p+m+t.collisionHeight-a-r)<0||i<s(c))&&(e.top+=h+p+m):d>0&&((n=e.top-t.collisionPosition.marginTop+h+p+m-u)>0||s(n)<d)&&(e.top+=h+p+m)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)t.style[a]=i[a];t.appendChild(u),n=s||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",o=e(u).offset().left,r=o>10&&o<11,t.innerHTML="",n.removeChild(t)}()}();e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e)return void this._activate(t);"event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,o=this.headers.index(t.target),r=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:r=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:r=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:r=this.headers[0];break;case n.END:r=this.headers[i-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),o=i.uniqueId().attr("id");t.attr("aria-controls",o),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=o.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,o=e(t.currentTarget),r=o[0]===i[0],a=r&&n.collapsible,s=a?e():o.next(),u=i.next(),l={oldHeader:i,oldPanel:u,newHeader:a?e():o,newPanel:s};t.preventDefault(),r&&!n.collapsible||!1===this._trigger("beforeActivate",t,l)||(n.active=!a&&this.headers.index(o),this.active=r?e():o,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&o.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,o,r,a=this,s=0,u=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},d=l&&c.down||c,f=function(){a._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,r=r||d.duration||c.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:r,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:r,easing:o,complete:f,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===u&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,r,o,f):e.animate(this.showProps,r,o,f)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(n,i);-1!==o&&i.splice(o,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var i=this;if("disabled"===t)return this[n?"_disable":"_enable"](),void(this.options[t]=n);this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i.element[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,o=this,r=t?t.type:null;if("string"==typeof i)return this._open(t,e,i);(n=i.call(e[0],function(n){o._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=r),this._open(t,e,n))})}))&&this._open(t,e,n)},_open:function(t,n,i){function o(e){l.of=e,a.is(":hidden")||a.position(l)}var r,a,s,u,l=e.extend({},this.options.position);if(i){if(r=this._find(n))return void r.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),a=r.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(u=i.clone(),u.removeAttr("id").find("[id]").removeAttr("id")):u=i,e("<div>").html(u).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:a})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,o=e(t?t.currentTarget:this.element),r=this._find(o);if(!r)return void o.removeData("ui-tooltip-open");n=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:n}),r.hiding||(r.closing=!1))},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur"),r=i.element;o.target=o.currentTarget=r[0],t.close(o,!0),e("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(){function e(e){function t(t,n,i,o,r,a){for(;r>=0&&r<a;r+=e){var s=o?o[r]:r;i=n(i,t[s],s,t)}return i}return function(n,i,o,r){i=b(i,r,4);var a=!T(n)&&y.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(o=n[a?a[u]:u],u+=e),t(n,i,o,a,u,s)}}function t(e){return function(t,n,i){n=w(n,i);for(var o=E(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}}function n(e,t,n){return function(i,o,r){var a=0,s=E(i);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=t(c.call(i,a,s),y.isNaN),r>=0?r+a:-1;for(r=e>0?a:s-1;r>=0&&r<s;r+=e)if(i[r]===o)return r;return-1}}function i(e,t){var n=N.length,i=e.constructor,o=y.isFunction(i)&&i.prototype||s,r="constructor";for(y.has(e,r)&&!y.contains(t,r)&&t.push(r);n--;)(r=N[n])in e&&e[r]!==o[r]&&!y.contains(t,r)&&t.push(r)}var o=this,r=o._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,d=s.toString,f=s.hasOwnProperty,h=Array.isArray,p=Object.keys,m=u.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var x=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=e(r),s=a.length,u=0;u<s;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=r[l])}return n}},C=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},A=Math.pow(2,53)-1,E=_("length"),T=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=A};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,o;if(T(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=y.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),o=(i||e).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=t(e[s],s,e)}return r},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;if(void 0!==(i=T(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n)
;for(var i=!T(e)&&y.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return T(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var o=i?t:e[t];return null==o?o:o.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,o,r=-1/0,a=-1/0;if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var s=0,u=e.length;s<u;s++)(i=e[s])>r&&(r=i)}else t=w(t,n),y.each(e,function(e,n,i){((o=t(e,n,i))>a||o===-1/0&&r===-1/0)&&(r=e,a=o)});return r},y.min=function(e,t,n){var i,o,r=1/0,a=1/0;if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var s=0,u=e.length;s<u;s++)(i=e[s])<r&&(r=i)}else t=w(t,n),y.each(e,function(e,n,i){((o=t(e,n,i))<a||o===1/0&&r===1/0)&&(r=e,a=o)});return r},y.shuffle=function(e){for(var t,n=T(e)?e:y.values(e),i=n.length,o=Array(i),r=0;r<i;r++)t=y.random(0,r),t!==r&&(o[r]=o[t]),o[t]=n[r];return o},y.sample=function(e,t,n){return null==t||n?(T(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,i){var o={};return n=w(n,i),y.each(t,function(i,r){var a=n(i,r,t);e(o,i,a)}),o}};y.groupBy=D(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=D(function(e,t,n){e[n]=t}),y.countBy=D(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):T(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:T(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],o=[];return y.each(e,function(e,n,r){(t(e,n,r)?i:o).push(e)}),[i,o]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var k=function(e,t,n,i){for(var o=[],r=0,a=i||0,s=E(e);a<s;a++){var u=e[a];if(T(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=k(u,t,n));var l=0,c=u.length;for(o.length+=c;l<c;)o[r++]=u[l++]}else n||(o[r++]=u)}return o};y.flatten=function(e,t){return k(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var o=[],r=[],a=0,s=E(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&r===l||o.push(u),r=l):n?y.contains(r,l)||(r.push(l),o.push(u)):y.contains(o,u)||o.push(u)}return o},y.union=function(){return y.uniq(k(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=E(e);i<o;i++){var r=e[i];if(!y.contains(t,r)){for(var a=1;a<n&&y.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},y.difference=function(e){var t=k(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,E).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,o=E(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var o=n(t),r=0,a=E(e);r<a;){var s=Math.floor((r+a)/2);n(e[s])<o?r=s+1:a=s}return r},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o};var S=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=C(e.prototype),a=e.apply(r,o);return y.isObject(a)?a:r};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return S(e,i,t,this,n.concat(c.call(arguments)))};return i},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,o=t.length,r=Array(o),a=0;a<o;a++)r[a]=t[a]===y?arguments[i++]:t[a];for(;i<arguments.length;)r.push(arguments[i++]);return S(e,n,this,this,r)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return y.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,o,r,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:y.now(),a=null,r=e.apply(i,o),a||(i=o=null)};return function(){var l=y.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=l,r=e.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(u,c)),r}},y.debounce=function(e,t,n){var i,o,r,a,s,u=function(){var l=y.now()-a;l<t&&l>=0?i=setTimeout(u,t-l):(i=null,n||(s=e.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=y.now();var l=n&&!i;return i||(i=setTimeout(u,t)),l&&(s=e.apply(r,o),r=o=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return I&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,o=y.keys(e),r=o.length,a={},s=0;s<r;s++)i=o[s],a[i]=t(e[i],i,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,o=y.keys(e),r=0,a=o.length;r<a;r++)if(i=o[r],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,o,r={},a=e;if(null==a)return r;y.isFunction(t)?(o=y.allKeys(a),i=b(t,n)):(o=k(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=o.length;s<u;s++){var l=o[s],c=a[l];i(c,l,a)&&(r[l]=c)}return r},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(k(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=x(y.allKeys,!0),y.create=function(e,t){var n=C(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var a=n[r];if(t[a]!==o[a]||!(a in o))return!1}return!0};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var o=d.call(e);if(o!==d.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),r){if((u=e.length)!==t.length)return!1;for(;u--;)if(!M(e[u],t[u],n,i))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(t,l)||!M(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return M(e,t)},y.isEmpty=function(e){return null==e||(T(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return o._=r,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=_,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=y.invert(F),P=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};y.escape=P(F),y.unescape=P(O),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var j=0;y.uniqueId=function(e){var t=++j+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,L=function(e){return"\\"+q[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,function(t,n,i,a,s){return r+=e.slice(o,s).replace(R,L),o=s+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var s=function(e){return a.call(this,e,y)};return s.source="function("+(t.variable||"obj")+"){\n"+r+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var H=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),H(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),define("acif/automaton/index",["exports","module","./utils","../utils","./initializer","../environment","../view","../view/forms","../transitions","../chat","../data","../models/Model","../models/Automaton","../models/Node","../models/Style","../view/Template"],function(e,t,n,i,o,r,a,s,u,l,c,d,f,h,p,m){function g(e){return e&&e.__esModule?e:{default:e}}function v(e){this.options=e||{},this.Env=new C.default(e),this.utils=new b.default(this),this.initializedModels={},this.id=parseInt(this.Env.dbSync)||this.options.automatonId,this.namespace="inq-"+this.id+"-",this.hash=this.id+"::"+e.context+"::"+e.location,this.id||ACIF.Utils.throwError("An automaton ID was not specified"),this.Data=new k.default(this),this.View=new A.default(this),this.Forms=new E.default(this),this.Chat=new D.default(this),this.Transitions=new T.default(this),this.displayedPath=[],this.flashVars=this.Env.flashVars,this.Data.on("storageReady",this.getAndSaveDatapass.bind(this))}var y=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=g(n),w=g(i),x=g(o),C=g(r),A=g(a),E=g(s),T=g(u),D=g(l),k=g(c),S=g(d),I=g(f),N=g(h),M=g(p),F=g(m);t.exports=v;var O=v.prototype={constructor:v};v.load=function(e){var t=new v(e);return x.default.initialize(t),t},O.close=function(){var e=this.options,t=e.automatonId,n=e.location,i=e.context;return ACIF.closeAutomaton({automatonID:t,location:n,context:i})},O.getProp=function(e,t){e=[].concat(e),t=t||this.node;var n=[t,this.settings],i=void 0,o=void 0,r=void 0,a=void 0,s=void 0;for(o=0;o<n.length;o++)if(i=n[o])for(r=0;r<e.length;r++){a=e[r];var u=a.split("."),l=i;for(s=0;s<u.length;s++){var c=u[s];if(void 0===l[c]){l=void 0;break}l=l[c]}if(l)return l}};var P={automaton:I.default,node:N.default,style:M.default,template:F.default,default:S.default};O.getRecord=function(e){var t=arguments.length<=1||void 0===arguments[1]?"node":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e instanceof S.default)return e;if(e){var i=this.ensureModulePath(e,t);if(!i){if(!1===n.throws)return;w.default.throwError('Could not resolve "'+e+'" to a modulePath in automaton configs.')}var o=this.initializedModels[i];if(!o){var r=require(i),a=P[t]||P.default;n.Automaton=n.Automaton||this,n.modulePath=i,o=new a(r,n),"template"!==t&&(this.initializedModels[i]=o)}return o}},O.ensureModulePath=function(e,t){if(require.entries[e])return e;if(w.default.string.isReferenceString(e))return this.referenceStringToModulePath(e);var n="Automatons/"+t+"s/"+e;return n&&require.entries[n]?n:void 0},O.referenceStringToModulePath=function(e){var t=e.split("::"),n=y(t,2),i=n[0],o=n[1],r="Automatons/"+i+"s/"+o;if(require.entries[r])return r},O.isPreChat=function(){return"br"===this.options.startedBy.type},O.addDependent=function(e){if(e){var t=this.Data.get("dependents");t=t||[],t.push(e.storageKey),this.Data.save("dependents",t)}},O.removeDependent=function(e){if(e){var t=this.Data.get("dependents");t=t||[];var n=t.indexOf(e.storageKey);t.splice(n,1),this.Data.save("dependents",t)}},O.getAndSaveDatapass=function(){var e=this.Data.get("datapass")||{};_.defaults(this.options.datapass,e),this.Data.save("datapass",this.options.datapass)}}),define("acif/automaton/initializer",["exports","module","../utils/mixins","../ci/ijsf-adapter","../utils"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e;this.Automaton=t,this.Data=t.Data,this.initPromise=t.utils.makePromise("automaton initializing"),this.benchmark=u.default.benchmark,this.benchmark("init").start(),u.default.console("Initializing framework"),Array.isArray(t.Env.top.inqAcifEventsRegistry)&&u.default.events.loadHandlers(t.Env.top.inqAcifEventsRegistry),t.Data.init().then(this.init.bind(this))}var s=r(i),u=r(o);t.exports=a,a.initialize=function(e){return new a(e).initPromise};var l=a.prototype={constructor:a};l.init=function(){var e=this.Automaton;if(this.isSessionInitializing=!e.Data.Storage.get("state.started"),e.isSessionInitializing=this.isSessionInitializing,this.Automaton.settings=this.Automaton.getRecord(this.Automaton.id,"automaton"),this.shouldCloseCustomerInterface())return e.View.Exit.closeCI(),this.status="Cancelled automaton initialization. Closing CI.",void this.initPromise.resolve(this);this.benchmark("init").mark("starting View.initializeViewport()"),e.View.initializeViewport(),this.benchmark("init").mark("finishing View.initializeViewport()"),this.initializeSessionData(),this.createPublicAPI();var t=this.Automaton.Data.get("automaton");if(e.settings.extend(t),e.settings.onPageLanding&&e.settings.runHook("onPageLanding"),this.isSessionInitializing)return e.Data.triggerStarted(e.options.startedBy),this.runAutomatonOnInitHook().then(this.persistInitialSessionData.bind(this)).then(this.doAfterAutomatonIsInitialized.bind(this));this.doAfterAutomatonIsInitialized()},l.shouldCloseCustomerInterface=function(){var e=this.Data.get("currentNodeModulePath");if(e){var t=this.Automaton.getRecord(e);return!(!t||!t.isExitNode)}},l.createPublicAPI=function(){var e=this,t=this.Automaton,n=t.Chat,i=t.View,o=t.Env,r=t.Data,a=t.Transitions,l=t.settings,c=t.utils,d=c.timers,f=u.default.get(t,"options.datapass"),h={hideLayer:s.default.hideLayer,showLayer:s.default.showLayer,shrinkLayer:s.default.shrinkLayer,growLayer:s.default.growLayer,fireAssistedEvent:s.default.fireAssistedEvent,fireCustomEvent:s.default.fireCustomEvent,minimize:s.default.minimizeStage,engageChat:n.engageChat.bind(n),map:f,automatonDataMap:f,datapass:f,flashVars:o.flashVars,position:i.position.set.bind(i.position),resize:i.resizeStage.bind(i),sendToAgent:s.default.sendDatapassMessage,console:u.default.console.bind(u.default),top:o.win,document:o.document,getFormData:r.CRM.toDatapassString.bind(r.CRM),getAllFormData:r.CRM.toSimpleObject.bind(r.CRM),getPath:n.createPathForDatapass.bind(n),checkAA:n.checkAA.bind(n),automaton:l,cookies:u.default.cookies,getBreadcrumbs:a.getBreadcrumbs.bind(a),triggerTransition:a.trigger.bind(a),setTimeout:d.setTimeout.bind(d),setInterval:d.setInterval.bind(d),forms:r.CRM.apiData,getAutomatonAttribute:r.DW.getAutomatonAttr.bind(r.DW),setAutomatonAttribute:r.DW.setAutomatonAttr.bind(r.DW),removeAutomatonAttribute:r.DW.removeAutomatonAttr.bind(r.DW),IJSF:s.default};h.ciCloseChat=s.default.closeCI,h.ciGrowLayer=h.growLayer,h.ciHideLayer=h.hideLayer,h.ciMinimize=h.minimize,h.ciShowLayer=h.showLayer,h.ciShrinkLayer=h.shrinkLayer,h.getNodeById=function(e){return t.getRecord(e)},this.Automaton.Data.StorageClass.create(h,"public-api");try{h.emailTranscript=s.default.requestTranscript}catch(e){}h.getPreviousNode=function(){var e=r.get("previousNodeID");if(e)return t.getRecord(e)},h.loadAutomaton=function(e){var t=arguments.length<=1||void 0===arguments[1]?{dependent:!0}:arguments[1],n=this,i=ACIF.loadAutomaton(e,{type:"automaton",id:n.id});t.dependent&&n.addDependent(i)},h.closeAutomaton=function(e){var t=this,n=ACIF.closeAutomaton(e);t.removeDependent(n)},h.sendFormDataToAgent=function(t){var n={};t?t.forEach(function(t){n[t]=e.Data.CRM.getAnswerValueByQuestionId(t)}):n=e.Data.CRM.getResponseValues(),s.default.sendDatapassMessage(n)},h.logData=function(e,n){t.Data.store.addToLogQueue("custom: "+e,n)},h.getTargetChatNode=function(){return e.Automaton.settings._targetChatNode},t.api=h},l.initializeSessionData=function(){if(this.isSessionInitializing){var e=this.Automaton.settings,t=this.Automaton.getRecord(e.initialNode),n=this.Automaton.options.automatonDataMap,i=_.extend(_.pick(n,"name","type","sub_type","acif_id","acif_version"),e.automatonAttributes,n.automatonAttributes);this.Automaton.Data.save({automaton_id:this.Automaton.id,automatonDataMap:n,automaton:{},automatonAttributes:i,path:[t.id],currentNodeModulePath:t.modulePath,previousNodeID:null,dbSync:this.Automaton.Env.dbSync||void 0})}},l.runAutomatonOnInitHook=function(){function e(e){if(!!Number(e)&&ACIF.Utils.throwError("Automaton onInit hook can no longer return an integer. It must return a reference string"),u.default.string.isReferenceString(e)){var i=t.getRecord(e),o=n.Data.get("path");n.Data.save("currentNodeModulePath",i.modulePath),o.pop(),o.push(e),n.Data.save("path",o)}}var t=this.Automaton,n=this,i=t.utils.makePromise("automaton onInit hook");if(this.isSessionInitializing&&t.settings.onInit){var o=t.settings.runHook("onInit");u.default.isPromise(o)?o.always(e).always(i.resolve):(e(o),i.resolve())}else i.resolve();return i},l.persistInitialSessionData=function(){this.Automaton.settings.onInit&&this.Automaton.Data.persistCustomAutomatonProperties()},l.doAfterAutomatonIsInitialized=function(){this.configureInitialNodePath(),this.benchmark("init").mark("starting to load first node"),this.loadFirstNodeOnPageLanding(),this.isSessionInitializing=!1,u.default.events.trigger("initialized"),this.initPromise.resolve(this)},l.configureInitialNodePath=function(){var e=this.Automaton,t=e.settings;if(Array.isArray(t.root_path)){var n=_.clone(t.root_path),i=n.indexOf(this.Data.storage.path[0]);i>-1&&n.splice(i,1),e.root_path=n}else e.root_path=[];e.Transitions.updateDisplayedPath()},l.loadFirstNodeOnPageLanding=function(){var e=this.Automaton,t=e.getRecord(this.Data.storage.currentNodeModulePath);t.chatRouter?e.Chat.resolveChatNode(t).then(function(n){t.id!==n?(t=e.getRecord(n),e.node=t,e.Transitions.loadNode(t)):(e.node=t,e.Chat.loadChatNode(t))}):e.Transitions.loadNode(t),this.benchmark("init").mark("finished loading first node"),this.benchmark("init").end()}}),define("acif/automaton/utils/index",["exports","module","./timers","./promises"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){this.timers=new a.default}var a=o(n),s=o(i);t.exports=r;var u=r.prototype={constructor:r};u.makePromise=function(e){return s.default.makePromise(this.timers,e)},u.doAfter=function(e,t,n,i){if(1===arguments.length){var o=arguments[0];e=o.condFn,t=o.afterFn,n=o.poll,i=o.maxWait}var r=this,a=void 0;this.timers.setTimeout(function(){clearTimeout(a)},i||1e4),function i(){e()?t():a=r.timers.setTimeout(i,n||10)}()}}),define("acif/automaton/utils/promises",["exports","module"],function(e,t){function n(e,t){var n=new $.Deferred,i=0,o=e.setInterval(function(){i++;var r=2e3*i/1e3;"pending"===n.state()?r<60?ACIF.Utils.logger("Pending promise - "+t+" | "+r+"s","warn"):(ACIF.Utils.logger("Max wait time reached - "+t+" | "+r+"s","error"),e.clearInterval(o),n.reject()):e.clearInterval(o)},2e3);return n}t.exports={makePromise:n}}),define("acif/automaton/utils/timers",["exports","module"],function(e,t){function n(){this._timeouts=[],this._intervals=[]}t.exports=n;var i=n.prototype={constructor:n};i.setTimeout=function(e,t){var n=setTimeout(e,t);return this._timeouts.push(n),n},i.setInterval=function(e,t){var n=setInterval(e,t);return this._intervals.push(n),n},i.clearTimers=function(){this._timeouts.forEach(function(e){return clearTimeout(e)}),this._intervals.forEach(function(e){return clearInterval(e)}),this._timeouts=[],this._intervals=[]},i.clearTimeout=function(e){var t=this._timeouts.indexOf(e);t>-1&&(this._timeouts.splice(t,1),clearTimeout(e))},i.clearInterval=function(e){var t=this._intervals.indexOf(e);t>-1&&(this._intervals.splice(t,1),clearInterval(e))}}),define("acif/chat/chat",["exports","module","../environment/is-dev-mode","../ci/ijsf-adapter","../utils"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){this.Automaton=e,this.engageChatCalled=!1}var s=r(n),u=r(i),l=r(o);t.exports=a;var c=a.prototype={constructor:a};c.loadChatNode=function(e){var t=this,n=this.Automaton,i=n.Data,o=n.Transitions;this.node=e,o.runNodeEntry(e).then(function(n){n||(e.viewport&&t.setChatWindowSizeAndPosition(),t.engageChatCalled||t.engageChat(),i.Storage.persist())})},c.logChatOutcome=function(e){var t=this.Automaton.Data,n=[];t.triggerContentSentToCustomer(e,n),t.triggerEnded(e)},c.setChatWindowSizeAndPosition=function(){var e=this.Automaton.View,t=this.node.viewport||{};(t.height||t.width)&&e.resizeStage(t.width,t.height),t.position&&e.position.set(t.position)},c.resolveChatNode=function(e){var t=this.Automaton,n=!!t.activeEvent&&t.activeEvent.$element.is("[acif-ignore-aa]"),i=!e.chatRouter.checkAgentAvailability||n;if(t.utils.timers.clearTimers(),i){return t.utils.makePromise().resolve(e.id)}return delete t.settings._targetChatNode,this.Automaton.settings.runHook("willCheckAvailability",e),e.runHook("willCheckAvailability"),this.checkAA(e).then(function(n){if(n.AA&&n.inHOP)return e.id;t.settings._targetChatNode=e.id;var i=e.chatRouter;return n.outsideHOP&&i.outsideHopNode?(l.default.console("Outside hours of operation. Routing to outside HOP node"),i.outsideHopNode):i.agentsBusyNode?(l.default.console("All agents are busy. Routing to agents busy node."),i.agentsBusyNode):(l.default.console("No agents available. Customer will be queued."),e.id)})},c.checkAA=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.chatRouter||{businessUnit:e.business_unit_id,agentGroup:e.agent_group_id},n=this.Automaton.getProp.bind(this.Automaton),i={},o=t.agentAttributes||n(["chatRouter.agentAttributes","agentAttributes"]),r=t.agentGroup||n(["chatRouter.agentGroup","agentGroup"]),a=t.businessUnit||n(["chatRouter.businessUnit","businessUnit"]),s=e.qThreshold||t.qThreshold||n(["chatRouter.qThreshold","qThreshold"]);i.buID=a,i.siteID=u.default.getSiteId(),i.buID||l.default.throwError("Business Unit ID must be specified in order to check for agent availability."),i.siteID||l.default.throwError("Site ID must be specified in order to check for agent availability."),r&&(i.agID=r),s&&(i["q-thresh"]=s),o&&function(){var e=o.split(";"),t=[];_.each(e,function(e){var n=e.split(","),i=(n[0]||"").trim(),o=(n[1]||"").trim();t.push({name:i,value:o})}),i.agentAttributes=JSON.stringify(t)}(),this.aaData=i,this.aaPromise=this.Automaton.utils.makePromise("agent availability check");var c=this.checkAAFromCache(i);if(c&&_.now()-c.timestamp<5e3)return this.aaPromise.resolve(c.status),this.aaPromise;i["no-cache"]=Date.now(),l.default.console("Checking agent availability for: "+JSON.stringify(i));var d=u.default.getAgentsAvailabilityCheckUrl(),f="t"+Date.now();return i.callback="ACIF._jsonpCallbacks."+f,window.ACIF._jsonpCallbacks[f]=this.aaCallback.bind(this),d+="?"+$.param(i),document.body.appendChild(document.createElement("script")).src=d,this.aaPromise},c.aaCallback=function(e){e.AA="true"===e.availability,e.inHOP="true"===e.inHOP,e.online="online"===e.status,e.outsideHOP=!e.inHOP,this.updateAAStatusCache(this.aaData,e),this.aaData=null,this.aaPromise.resolve(e)},c.aaStatusCache={},c.checkAAFromCache=function(e){var t=JSON.stringify(e);return this.aaStatusCache[t]},c.updateAAStatusCache=function(e,t){var n=JSON.stringify(e);this.aaStatusCache[n]={status:t,timestamp:_.now()}},c.createPathForDatapass=function(e){var t=this;e=e||"Selections";var n="",i=l.default.generateBreadcrumbs(this.Automaton.Data.storage.path);return i=i.map(function(e){var n=t.Automaton.getRecord(e);return n.breadcrumb||n.name}),i.length&&function(){var t=0;i=i.map(function(e){return"\n    "+ ++t+") "+e}),n+="- "+e+":"+i.join("")}(),n},c.engageChat=function(e){this.engageChatCalled=!0,this.logChatOutcome(this.node);var t=e||{},n=this.node,i=this.Automaton.getProp.bind(this.Automaton),o=i("circularTabbing"),r=t.publicUserId||i("publicUserId",n),a=t.agentDatapass||i(["chatRouter.agentOutcome","agentDatapass"],n)||"",c=t.agentName||i("chatRouter.agentName",n),d=(t.autoOpener||i(["chatRouter.clientOutcome","autoOpener"],n)||"")+"",f=(t.agentAttributes||i("chatRouter.agentAttributes",n)||"")+"",h=(t.businessUnitID||i("chatRouter.businessUnit",n)||"")+"",p=(t.agentGroupId||i("chatRouter.agentGroup",n)||"")+"",m=(t.path_prefix||i("path_prefix",n)||"")+"",g=(t.scriptTreeId||i(["chatRouter.scriptTree","scriptTreeId","scriptTreeID"],n)||"")+"",v=$.trim(t.hideLayers||i("chatRouter.hideLayers",n)||""),y=$.trim(t.showLayers||i("chatRouter.showLayers",n)||""),b=t.deferChatRouting||i("deferChatRouting",n)||!1,w=t.routingAllocationSpec||i("routingAllocationSpec",n),x=t.isWebRTCAudio||i("isWebRTCAudio",n)||!1,C=t.isWebRTCVideo||i("isWebRTCVideo",n)||!1,A=t.phone||"",E=void 0!==t.guidePath?t.guidePath:i("guidePath",n),T="",D=[];!1!==E&&(E="string"==typeof E?E:this.createPathForDatapass(m)),!1!==t.formData&&(T="string"==typeof t.formData?t.formData:this.Automaton.Data.CRM.toDatapassString()),E&&D.push(E),T&&D.push(T),a&&D.push(a),a=D.join("\n"),a=a?"\n"+a:"";var k={automatonID:this.Automaton.id,context:"ci",location:this.Automaton.options.location,isEngagingChat:!0};ACIF.closeAutomaton(k),v&&_.each(v.split(/[\s,;]+/),function(e){u.default.hideLayer(e)}),y?(y=y.split(/[\s,;]+/),-1===y.indexOf("chat")&&y.push("chat")):y=["chat"],y.forEach(function(e){u.default.showLayer(e)});var S={agentAttrs:f,agentGroupId:p,agentName:c,agentOutcome:a,businessUnitID:h,circularTabbing:o,clientOutcome:d,closeOnEnd:!0,phone:A,publicUserId:r,routingAllocSpecs:w,scriptTreeId:g};if(x?u.default.engageAudio(S):C?u.default.engageVideo(S):b?u.default.setEngageParameters(S):u.default.engageChat(S),(0,s.default)()){var I="Routing customer to chat with the following parameters:";for(var N in S)I+="\n** "+N+': "'+S[N]+'"';l.default.console(I)}}}),define("acif/chat/index",["exports","module","./chat"],function(e,t,n){e.default=function(e){return e&&e.__esModule?e.default:e}(n),t.exports=e.default}),define("acif/ci/ijsf-adapter",["exports","module","../environment/get-env-var","../utils/tryCatch"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=e.match(/^on/)?e:"on"+e;return de.addListener(r({},n,t))}function s(){return ACIF.Utils.logger("Closing CI"),de.ciCloseChat()}function u(e){inqFrame.com.inq.flash.client.control.WebRTCMgr.engageAudio(e)}function l(e){return de.ciEngageChat(e)}function c(e){inqFrame.com.inq.flash.client.control.WebRTCMgr.engageVideo(e)}function d(){return Inq.fireCustomEvent("AssistedEvent")}function f(e,t,n){return-1===fe.indexOf(e)&&a(e,function(){}),Inq.fireCustomEvent(e,t,n)}function h(){return de.getChatRule()}function p(e){return(0,ce.default)(function(){var t=inqFrame.Inq.CHM.getChat(),n=t&&t.getChatData().agtAttrs;if(n){e=e.toLowerCase();for(var i in n)if(i.toLowerCase()===e)return decodeURIComponent(n[i])}})}function m(){return de.getAgentsAvailabilityCheckUrl()}function g(){return x(C())}function v(){return de.getAgentGroupName()}function y(){return de.getAgentID()}function b(){
return de.getAutomatonSpecData()||{}}function w(){return de.getBrowserTypeAndVersion()}function x(e){return de.getBuRuleAgentGroupID(e)}function C(){return de.getBrID()}function A(){return de.getBrName()}function E(){return de.getBusinessUnitID()}function T(){return de.getBusinessUnitName()}function D(){return de.getCustID()}function k(){try{return de.getCustGeoData()||{}}catch(e){return{}}}function S(){return k().country_code}function I(){return k().region_code}function N(){return k().zip_code}function M(){return de.getDeviceType()}function F(){return inqFrame.Inq.CHM.getChatID()}function O(){return de.getPageID()}function P(){return de.getPageMarker()}function j(e){return de.ciGrowLayer(e)}function $(){return inqFrame.Inq.siteID}function q(e){return de.ciHideLayer(e)}function R(){return window.inqFrame.com.inq.flash.client.control.XFrameWorker.hideLayerAndEndChat.apply(null,arguments)}function L(){return de.isChatConnected()}function H(){return inqFrame.com.inq.flash.client.control.isWebRTCCapable()}function V(){return de.ciMinimize.apply(null,arguments)}function B(e,t,n){de.ciMoveStage(e,t,n)}function W(e){var t=(0,le.default)("nuance-env")||"production";_.each(e,function(n,i){e[i]=function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];switch(t){case"production":try{n.apply(null,i)}catch(e){throw ACIF.Utils.logger(e,"error"),e}break;case"test":n.apply(null,i);break;case"development":setTimeout(function(){n.apply(null,i)})}}}),de.addListener(e)}function z(){return de.ciRemoveCircularModalWindow()}function U(){return de.ciTransitionPage()}function Y(e,t){return de.ciResizeStage(e,t)}function J(){return de.ciRestore.apply(null,arguments)}function G(e,t){return de.requestTranscript(e,t)}function K(e,t,n){return Inq.sendAutomatonMessage(e,t,n)}function Q(e){e="object"==typeof e?e:{"Automaton-Datapass":e};var t={agentID:y(),engagementID:F()};return Inq.sendAutomatonMessage("datapass",_.extend(e,t))}function X(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return Inq.sendAutomatonMessage("system",e,"automaton-system-message "+t)}function Z(){return de.ciSetAutomatonDataMapXcd.apply(null,arguments)}function ee(e,t,n){return de.ciSetCircularModalWindow(e,t,n)}function te(e,t){return de.setElementPosition(e,t)}function ne(e){return de.ciSetEngageParameters(e)}function ie(){return de.ciSetFocusOnChatInputField()}function oe(){return de.showAutomaton.apply(null,arguments)}function re(e){return de.ciShowLayer(e)}function ae(e){return de.ciShrinkLayer(e)}function se(e,t){var n=inqFrame.Inq.xforms;if(n&&n.bindOrbeonListeners){var i="acif::"+e;return n.unbindOrbeonListeners(i),t?n.bindOrbeonListeners(i,t):void 0}}function ue(e,t){return inqFrame.com.inq.flash.client.control.UploadHandler.engageFileUpload(e,t)}var le=o(n),ce=o(i),de=inqFrame.Inq.FlashPeer;!function(e){Object.keys(e).forEach(function(t){window[t]=e[t]})}({setAutomatonDataMap:Z,showAutomaton:oe,isChatConnected:L}),t.exports={addListener:a,closeCI:s,engageAudio:u,engageChat:l,engageVideo:c,fireAssistedEvent:d,fireCustomEvent:f,getActiveRule:h,getAgentsAvailabilityCheckUrl:m,getAgentAttr:p,getAgentGroupId:g,getAgentGroupName:v,getAgentId:y,getAutomatonDataMap:b,getBrowserTypeAndVersion:w,getBusinessRuleAgentGroupId:x,getBusinessUnitId:E,getBusinessUnitName:T,getBusinessRuleName:A,getCustomerId:D,getCustomerCountryCode:S,getCustomerRegionCode:I,getCustomerZipCode:N,getDeviceType:M,getEngagementId:F,getPageId:O,getPageMarker:P,getSiteId:$,growLayer:j,hideLayer:q,hideLayerAndEndChat:R,isChatConnected:L,isWebRTCCapable:H,minimizeStage:V,moveStage:B,registerIJSFListeners:W,removeCircularTabbing:z,resetPhoneXframe:U,resizeStage:Y,restoreStage:J,requestTranscript:G,sendAutomatonMessage:K,sendDatapassMessage:Q,sendSystemMessage:X,setAutomatonDataMap:Z,setCircularTabbing:ee,setElementPosition:te,setEngageParameters:ne,setFocusOnChatInput:ie,shrinkLayer:ae,showAutomaton:oe,showLayer:re,updateInputListeners:se,uploadFile:ue};var fe=[]}),define("acif/ci/index",["exports","module","../utils","./push-content","./ijsf-adapter"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=k.default.getActiveRule(),t=e.getAutomatonParams(),n=k.default.getAutomatonDataMap(),i=!!n.acif_id;if(t=t.concat(T.default.get(parent,"NUANCE_PREVIEW.automatons")||[]),t.forEach(function(e){var t=e.datapass||{};e.context=e.context||"ci",e.location=e.location||"center",e.datapass=_.extend(n,t),e.automatonID=e.automatonID||e.id||e.automatonId}),t.length)return t;if(!i)return[];var o=y("div[data-acif-v2-frame]"),r=o.attr("id"),a=!!require.entries["Automatons/automatons/"+n.acif_id],s=!(!o||!o.length),u=s&&!a,l=r.replace(/^tcChat_/,"");if(u)return k.default.showLayer(l),[];var c=y('div[id$="acifCenter"]'),d=!(!c||!c.length);return d&&s&&k.default.hideLayer(l),!(!s&&!d)&&a&&t.push({datapass:n,location:d?"center":"V2Frame",context:"ci",automatonID:n.acif_id}),t}function s(e,t){var n=void 0,i=void 0,o=void 0,r=void 0;if("ci"===e){var a=u();n=a.$skin,i=a.frame,r=a.document,o=$('[id$="'+t+'"]',r.body)}else{if("page"!==e)throw new Error('Expected automaton "context" parameter to equal "ci" or "page". Received "'+e+'"');o=$("#"+t,parent.document),i=parent,r=parent.document}if(!o||!o.length)throw new Error('Could not find automaton container element "'+t+'"');return{frame:i,$container:o,$skin:n,document:r}}function u(){var e=parent.document.getElementById("tcChat_Skin"),t=void 0,n=void 0;return e?(t=parent,n=parent.document):(e=inqFrame.frameElement,n=inqFrame.document,t=inqFrame),{$skin:$(e),frame:t,document:n}}function l(){ACIF.loaded={}}function c(e,t){var n=e.panel,i=ACIF.Utils,o=i.get(t,"panel.width"),r=i.get(t,"panel.height");ACIF.ci=ACIF.ci||{},ACIF.ci[n]=ACIF.ci[n]||{},ACIF.ci[n].automatonId=e.automatonId;o=o?parseInt(o):null,r=r?parseInt(r):null;var a=!(!r&&!o),s={};E(n)?s.height=r||200:A(n)?s.width=o||350:a&&(s.height=r,s.width=o),/left/gi.test(n)&&p({x:-s.width}),/top/gi.test(n)&&p({y:-s.height});var u=!(!s.height&&!s.width);!x(n)&&u&&f(n,s);var l=y("div[data-acif-v2-frame]").attr("id")||"";(l=l.replace(/^tcChat_/,""))&&n===l||k.default.showLayer(n)}function d(e,t){v(e)||ACIF.Utils.throwError(e+" does not exist and therefore cannot be closed.");var n=!!(ACIF.ci[e].width>0||ACIF.ci[e].height>0),i={};E(e)?i.height=0:A(e)?i.width=0:n&&(i.height=0,i.width=0);var o=b(e),r=o.width(),a=o.height();!x(e)&&n&&f(e,i);var s=/left/gi.test(e),u=!t;s&&u&&p({x:r}),/top/gi.test(e)&&u&&p({y:a}),k.default.hideLayer(e),k.default.setFocusOnChatInput()}function f(e,t){var n=t.width,i=t.height,o=b(e);o||ACIF.Utils.throwError(e+" does not exist and therefore cannot be resized.");var r=0,a=0,s=i>=0,u=n>=0;if(s||u||ACIF.Utils.throwError('Automaton does not contain property "panel" with a specified height or width'),s){a=i-o.height(),k.default.setElementPosition(e,{height:i}),ACIF.ci[e].height=i}if(u){r=n-o.width(),k.default.setElementPosition(e,{width:n}),ACIF.ci[e].width=n}var l="Phone"!==k.default.getDeviceType(),c=C(e);l&&c&&g({width:r,height:a})}function h(e){if(A(e)){var t=ACIF.ci[e].width;k.default.setElementPosition(e,{width:t})}else if(E(e)){var n=ACIF.ci[e].height;k.default.setElementPosition(e,{height:n})}else if(!x(e)){var i=w(e);k.default.setElementPosition(e,i)}}function p(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,r=ACIF.$skin,a=r.position(),s=a.left,u=a.top,l=Math.max(s+n,0),c=Math.max(u+o,0);k.default.moveStage("ABSOLUTE",l,c)}function m(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=ACIF.$skin,n=t.width(),i=t.height(),o=e.width,r=e.height,a=o||n,s=r||i;k.default.resizeStage(a,s)}function g(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=ACIF.$skin,n=e.width,i=void 0===n?0:n,o=e.height,r=void 0===o?0:o,a=t.width(),s=t.height(),u=a+i,l=s+r;k.default.resizeStage(u,l)}function v(e){return!!b(e).length}function y(e){var t=u().$skin;return t.is("div")?t.find(e):t.contents().find(e)}function b(e){return ACIF.$skin.is("div")?ACIF.$skin.find('[id$="'+e+'"]'):ACIF.$skin.contents().find('[id$="'+e+'"]')}function w(e){var t=ACIF.ci[e],n=t.width,i=t.height,o={};return n&&(o.width=n),i&&(o.height=i),o}function x(e){return["acifCenter","acifInnerFull","acifOuterFull"].indexOf(e)>-1||!!y('div[id$="'+e+'"][data-acif-v2-frame]').length}function C(e){return A(e)||E(e)}function A(e){return["acifOuterLeft","acifInnerLeft","acifInnerRight","acifOuterRight"].indexOf(e)>-1}function E(e){return["acifOuterTop","acifTranscriptTop","acifTranscriptBottom","acifOuterBottom"].indexOf(e)>-1}var T=r(n),D=r(i),k=r(o),S={};t.exports={listeners:S,findInSkin:y,getBusinessRuleAutomatonParams:a,getStage:s,getSkin:u,initializePanel:c,closePanel:d,isHorizontalPanel:E,isMainPanel:x,isVerticalPanel:A,reinstatePanel:h,resizePanel:f,resizeStage:m},S.onChatClosed=function(){l()},S.onAgentMsg=function(e){D.default.extractAgentScriptCommands(e)},S.onAgentDataPass=function(e){var t=void 0;try{t=JSON.parse(e.agentDataPass.data.messageText)}catch(t){ACIF.Utils.throwError("Unable to parse messageText. Received: "+e.agentDataPass.data.messageText)}t&&D.default.processAgentDataPass(t)}}),define("acif/ci/push-content",["exports","module","./ijsf-adapter"],function(e,t,n){function i(e){var t=e.textLine,n=$("<div>").append(t).find("[acif-automaton-id], [data-automaton-id]"),i=n.attr("acif-automaton-id")||n.attr("data-automaton-id"),o=n.attr("acif-context")||n.attr("data-context")||"ci",a=n.attr("acif-panel")||n.attr("data-panel"),s=n.attr("acif-action")||n.attr("data-action"),u="show"===s&&i&&a,l="hide"===s&&i&&a;if(!(!u&&!l)){var c={automatonID:i,context:o,location:a},d={type:"agent",id:r.default.getAgentId()};u?ACIF.loadAutomaton(c,d):l?ACIF.closeAutomaton(c):ACIF.Utils.throwError("The action '"+s+"' sent by the agent can not be handled by the ACIF")}}function o(e){if("loadAutomaton"===e.action){var t=_.pick(e.data,"automatonID","location","context","datapass"),n={type:"agent",id:r.default.getAgentId()};ACIF.loadAutomaton(t,n)}else if("closeAutomaton"===e.action){var t=_.pick(e.data,"automatonID","location","context");ACIF.closeAutomaton(t)}}var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports={extractAgentScriptCommands:i,processAgentDataPass:o}}),define("acif/data/alerts",["exports","module","./evaluator","../ci/ijsf-adapter"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){this.Automaton=e}var a=o(n),s=o(i);t.exports=r;var u=r.prototype;u.checkAlertConditions=function(){var e=this.Automaton.getProp("surveyAlerts");Array.isArray(e)&&e.forEach(this.processAlertRule.bind(this))},u.processAlertRule=function(e){var t=this.Automaton.Data.CRM.getResponseList();if(new a.default(e.conditions,t).isSatisfied()){var n={alertName:e.name,emailSpecID:e.emailSpecId,emailSpecName:e.emailSpecName,emailSubject:this.getEmailSubject(e.emailSubject),emailBody:this.getEmailBody(e.emailTemplate)};s.default.fireCustomEvent("SendSurveyAlert",n)}},u.getEmailSubject=function(e){return e=e||"Survey Submission Alert",e=this.loadDynamicValues(e)},u.getEmailBody=function(e){var t="";if(e){t=this.Automaton.getRecord(e,"template").getHTML().innerHTML}else t=this.createPlainTextEmail();return this.loadDynamicValues(t)},u.createPlainTextEmail=function(){return this.getResponsesWithEncodedAnswers().map(function(e){return"- <b>"+_.titleCase(e.questionId)+":</b> "+e.answer}).join("<br/>")},u.keywords={"engagement-id":s.default.getEngagementId,"agent-id":s.default.getAgentId,"br-name":s.default.getBusinessRuleName,"customer-id":s.default.getCustomerId,"co-browse":"","agent-group-id":s.default.getAgentGroupId,"agent-group-name":s.default.getAgentGroupName,"business-unit-id":s.default.getBusinessUnitId,"business-unit-name":s.default.getBusinessUnitName},u.loadDynamicValues=function(e){var t=this,n=/\[agent-attribute\.(.*?)\]/gi,i=/\[all-customer-responses]/gi,o=this.getResponsesWithEncodedAnswers(),r={};o.forEach(function(e){r[e.questionId]=e.answer}),e=e.replace(n,function(e,t){return s.default.getAgentAttr(t)||ACIF.Utils.htmlEncode("<< none >>")}),e=e.replace(i,this.createPlainTextEmail());var a=/\[(.*?)\]/g;return e.replace(a,function(e,n){if(!t.keywords[n])return r[n]?r[n]:e;try{return t.keywords[n]()||ACIF.Utils.htmlEncode("<< none >>")}catch(t){return e}})},u.getResponsesWithEncodedAnswers=function(){return this.Automaton.Data.CRM.getResponseList().map(function(e){var t=e.answerText,n=void 0;return n=Array.isArray(t)?0===t.length?"<< none selected >>":t.join(", "):String(t).match(/^true|false$/i)?t:t||"<< none >>",e.answer=ACIF.Utils.htmlEncode(n),e})}}),define("acif/data/customer-response-manager",["exports","module","../utils"],function(e,t,n){function i(e){var t=this;this.Data=e,this.Automaton=e.Automaton,this.storage=e.StorageClass.create(this,"CRM"),this.responsesToBeLogged={},this.apiData={_:{}},_.each(this.storage,function(e){t.exposeResponseToApi(e)})}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i;var r=i.prototype={constructor:i};r.addNodeSelection=function(e){var t=o.default.generateBreadcrumbs(this.Automaton.displayedPath),n=_.indexOf(t,e)>-1,i=!!this.Automaton.View.$viewport.find("form:visible").length;if(!n&&!i){var r=this.Automaton.node.id+"-"+e;this.addNodeTransition(r)}},r.addTransitionSelection=function(e){var t=this.Automaton.node.id+"-"+e;this.addNodeTransition(t)},r.addNodeTransition=function(e){var t=this.getCurrentQuestion(),n=this.getAnswerText(e),i=this.answerTypes.NON_FREE_FORM;if(t.questionText&&n){var o=_.extend({answerId:e,answerType:i,answerText:n},t);this.addResponse(o)}},r.getCurrentQuestion=function(){var e=this.Automaton.View.$viewport,t=e.find("[acif-question]").text().trim()||this.Automaton.node.form_field_name,n=void 0,i=void 0;return t?(i=!1,n=t):(i=!0,t=e.find("h1,h2,h3").last().text().trim()||this.Automaton.node.name,n=this.Automaton.node.id),{questionId:n,questionText:t,isTransitionQuestion:i}},r.getAnswerText=function(e){var t=this.Automaton.activeEvent?this.Automaton.activeEvent.$element.text().trim():null,n=e.split("-")[1];return t||n},r.getAnswerValueByQuestionId=function(e){return this.getResponseList().find(function(t){return t.questionId===e}).answerValue},r.addResponse=function(e){var t=void 0!==e.answerType?e.answerType:this.answerTypes.FREE_FORM;e={questionText:e.questionText||"",questionId:e.questionId||"",answerText:this.limitResponseValue(e.answerText)||"",answerId:e.answerId||"",answerValue:this.limitResponseValue(e.answerValue)||"",questionNumber:e.questionNumber||"",answerNumber:e.answerNumber||"",answerType:t,isTransitionQuestion:e.isTransitionQuestion||!1},this.responsesToBeLogged[e.questionId]=e,this.save(e.questionId,e),this.exposeResponseToApi(e)},r.limitResponseValue=function(e){if(e){return Array.isArray(e)?e.map(function(e){return e.substring(0,1e4)}):e.substring(0,1e4)}},r.clearResponse=function(e){var t=o.default.underscore(e);delete this.apiData[e],delete this.apiData["_"+t],delete this.apiData._[t],delete this.responsesToBeLogged[e],this.save(e,void 0)},r.exposeResponseToApi=function(e){var t=o.default.underscore(e.questionId),n=o.default.underscore(e.answerText);this.apiData[e.questionId]=e.answerText,this.apiData["_"+t]=n,this.apiData._[t]=n},r.getResponseList=function(){var e=_.values(this.storage);return e=e.filter(function(e){return!!e}),e=_.sortBy(e,"questionNumber")},r.emptyResponses=function(){var e=_.values(this.responsesToBeLogged);return this.responsesToBeLogged={},e},r.answerTypes={FREE_FORM:1,NON_FREE_FORM:0},r.toDatapassString=function(){return _.values(this.storage).filter(function(e){return e&&!e.isTransitionQuestion}).map(function(e){var t="- "+e.questionId+":",n=e.answerText;return t+=Array.isArray(n)?"\n"+n.map(function(e){return"    ** "+e}).join("\n"):" "+n}).join("\n")},r.toSimpleObject=function(){var e={};return _.each(this.storage,function(t){t&&!t.isTransitionQuestion&&(e[t.questionId]=t.answerText)}),e},r.getResponseValues=function(){var e={};return this.getResponseList().forEach(function(t){e[t.questionId]=t.answerValue}),e}}),define("acif/data/data-warehouse",["exports","module","../utils/hash-code","../ci/ijsf-adapter","../utils"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){this.Automaton=e.Automaton,this.Storage=e.Storage,this.CRM=e.CRM,this.queue=[],this.isLogInProgress=!1,this.eventHistory=this.Storage.get("dw.eventHistory",[])}function s(e){return e=e||"guide",{type:e,automatonType:e}}function u(e){var t={};return _.each(e,function(e,n){n===v.answerTypes?t[n]=e.join(","):t[n]=Array.isArray(e)?l(e):e}),t}function l(e){return e=e.map(function(e){return encodeURIComponent(void 0!==e?e:"")}),encodeURIComponent(e.join(","))}function c(e){var t=v,n={};return _.each(e,function(e,i){var o=t[i]?t[i]:i;n[o]=e}),n}function d(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return{previous_node_id:e.id||"",previous_node_name:e.name||"",next_node_id:t.id||t,next_node_name:t.name||t}}function f(e){var t=e.chatRouter||{};return{node_id:e.id,node_name:e.name,node_type:e.type,node_is_outcome:e.isOutcomeNode,node_business_unit_id:t.businessUnit,node_agent_group_id:t.agentGroup,node_agent_attributes:t.agentAttributes,node_auto_opener:t.clientOutcome,node_redirect_url:e.redirectUrl,check_agent_availability:t.checkAgentAvailability,agents_busy_backup_node:t.agentsBusyNode,outside_hop_backup_node:t.outsideHopNode}}function h(e){if(!e)return"";var t=[];return Object.keys(e).forEach(function(n){var i=e[n];void 0!==i&&(i=p(i),t.push(encodeURIComponent(n)+","+encodeURIComponent(i)))}),t.join(";")}function p(e){return String(e).replace(/,/g,"")}var m=r(n),g=r(i);t.exports=a;var v={nodeId:"unique_node_id",nodeName:"custom.decisiontree.nodeID",questions:"custom.decisiontree.questions",questionIds:"custom.decisiontree.questionIDs",answers:"custom.decisiontree.answers",answerIds:"custom.decisiontree.answerIDs",answerNumbers:"custom.decisiontree.answersNumeric",answerTypes:"custom.decisiontree.answerTypes",nodeAttributes:"automatonNodeAttributes",automatonAttributes:"automatonAttributes",outcomeType:"automaton.outcomeType",outcomeMessage:"automaton.outcome"},y=a.prototype={constructor:a};y.automatonStarted=function(e){this.Automaton.isPreChat()&&this.triggerEngagementRequested(),this._log("started",{automatonName:this.Automaton.settings.name,automatonStartedBy:e.type+","+e.id,startedIn:"chat",countryCode:g.default.getCustomerCountryCode(),regionCode:g.default.getCustomerRegionCode()}),this.Storage.save("state.started",!0)},y.triggerEngagementRequested=function(){this._log("engagement.requested",{_domain:"engagement",evt:"requested","automaton.automatonID":this.Automaton.id,automatonType:"acif_automaton",resourceNeeded:"automaton",countryCode:g.default.getCustomerCountryCode(),regionCode:g.default.getCustomerRegionCode()})},y.getAutomatonAttr=function(e){var t="automatonAttributes."+e;return this.Automaton.Data.get(t)},y.setAutomatonAttr=function(e,t){var n="automatonAttributes."+e;return this.Automaton.Data.save(n,t)},y.removeAutomatonAttr=function(e){var t="automatonAttributes."+e;return this.Automaton.Data.save(t,void 0)},y.contentSentToCustomer=function(e,t){t.length||(t=[this.CRM.getCurrentQuestion()]);var n=t.map(function(e){return e.questionText}),i=t.map(function(e){return e.questionId}),r=f(e),a=_.extend({},r,e.nodeAttributes),s=h(a);if("object"==typeof e.automatonAttributes){var u=_.extend({},this.Automaton.Data.get("automatonAttributes"),e.automatonAttributes);this.Automaton.Data.save("automatonAttributes",u)}this.updateOutcomeType(e);var l=this.Automaton.settings.type,c=this.isTerminalNode(e),d="satisfactionSurvey"===l&&!this.Storage.get("hasTransitioned"),p=this.Automaton.node.id===this.Automaton.displayedPath[0],m=!c&&d&&!p,g=(0,o.get)(e,"automatonTransition");g&&g!==l?(this._log("transition",{transitionFrom:l,transitionTo:g,outcomeType:"Completed",outcomeMessage:this.Storage.get("outcomeMessage")}),this.Storage.save("hasTransitioned",!0)):m&&(this.ended(),this.Automaton.settings.type=e.automatonType||"guide",this.didEnd=!1,this.Storage.save("outcomeType","Refused"),this.automatonStarted({type:"automaton",id:this.Automaton.id})),this._log("contentSentToCustomer",{nodeId:e.id,nodeName:e.name,nodeAttributes:s,questions:n,questionIds:i}),c&&this.ended()},y.updateOutcomeType=function(e){var t=this.Storage.get("outcomeType");"Completed"!==t&&(t=e.isOutcomeNode?"Completed":this.Automaton.Data.get("path.length")>1?"Abandoned":"Refused",this.Storage.save("outcomeType",t))},y.isTerminalNode=function(e){var t=this.Automaton.View.$viewport,n=["[acif-node]","[acif-transition]","[acif-next-node]","[acif-next-transition]",'[acif-action="back"]','[acif-action="start_over"]'],i=t.find(n.join(",")).filter(":visible").length,o=_.isObject(e.transitions)&&Object.keys(e.transitions).length>0;return!(i||o)},y.customerResponded=function(e,t,n){var i=this.getResponsesToLog(),o=d(e,n),r=f(t),a=_.extend({},o,r,t.nodeAttributes),s=h(a);"satisfactionSurvey"===this.Automaton.settings.type&&this.savePostChatSurveyResponses(i),this._log("customerResponded",_.extend({nodeId:t.id,nodeName:t.name,nodeAttributes:s},i))},y.savePostChatSurveyResponses=function(e){var t=e.questions.map(function(t,n){return{question:t,answer:e.answers[n]}}),n={responses:t,agentGroup:{id:g.default.getAgentGroupId(),name:g.default.getAgentGroupName()},engagementId:g.default.getEngagementId()};inQ.Storage.set("acif.lastSurvey",n,"lifetime")},y.getResponsesToLog=function(){function e(e){t.questions.push(e.questionText),t.questionIds.push(_.dasherize(e.questionId)),t.answers.push(e.answerText),t.answerIds.push(_.dasherize(e.answerId)),t.answerTypes.push(e.answerType),t.answerNumbers.push(e.answerNumber)}var t={questionIds:[],questions:[],answerIds:[],answers:[],answerTypes:[],answerNumbers:[]},n=this.CRM.emptyResponses();return n=_.sortBy(n,"questionNumber"),n.forEach(function(t){Array.isArray(t.answerText)?t.answerText.forEach(function(n,i){var o=t.answerType,r=t.questionText,a=t.questionId;e({answerId:t.answerId[i],answerNumber:t.answerNumber[i],answerText:n,answerType:o,questionId:a,questionText:r})}):e(t)}),t},y.ended=function(e){if(!this.didEnd){this.didEnd=!0,e=e||{};var t=this.Automaton.Data,n=t.get("path");t.DW.setAutomatonAttr("nodeIdPath",n.join("."));var i=e.chatRouter||{};this._log("ended",{businessUnitID:i.businessUnit,agentGroupID:i.agentGroup,outcomeType:this.Storage.get("outcomeType"),outcomeMessage:this.Storage.get("outcomeMessage")}),this.Storage.save("state.started",!1)}},y._log=function(e,t){var n=this;this._addToEventQueue(e,t),clearTimeout(this.logEventsTimer),this.logEventsTimer=setTimeout(function(){n.logEventsTimer=null,n._sendEventLog()},10)},y._addToEventQueue=function(e,t){"engagement.requested"!==e&&(t=this._loadAutomatonEventData(e,t)),this.isDuplicateEvent(t)||(t.clientTimestamp=Date.now(),this.eventHistory.push(t),this.Storage.save("dw.eventHistory",this.eventHistory),t=u(t),this.queue.push(t))},y._loadAutomatonEventData=function(e,t){var n=this.Automaton.settings,i=this.Automaton.Data.get("automatonAttributes"),o=s(n.type);return t=_.extend({_domain:"automaton",evt:e,acifVersion:ACIF.VERSION,automatonID:n.id,automatonType:o.automatonType,type:o.type,automatonAttributes:h(i)},t),["acifVersion","automatonID","automatonName","outcome","outcomeType"].forEach(function(e){t.hasOwnProperty(e)&&(t[e]=encodeURIComponent(t[e]))}),_.each(t,function(e,n){"undefined"===String(e)&&delete t[n]}),t=c(t)},y.isDuplicateEvent=function(e){var t=(0,m.default)(e),n=this.Storage.get("lastEventHash."+e.evt+"."+e._domain),i=t===n;return i||this.Storage.save("lastEventHash."+e.evt+"."+e._domain,t),i},y._sendEventLog=function(){if(0!==this.queue.length){var e=this.queue,t=this.Automaton.Env;this.queue=[],(t.showEvents||t.devMode)&&this.sendEventHistoryToConsole(),g.default.fireCustomEvent("LogToDW",{eventList:e}),(this.Automaton.Env.showEvents||this.Automaton.Env.devMode)&&console.log("ACIF Events LogToDW:",e)}},y.sendEventHistoryToConsole=function(){var e={},t=_.last(this.eventHistory).evt;this.eventHistory.forEach(function(t,n){var i=n+1,o=i+") "+t.evt,r={};_.each(t,function(e,t){r[t]=Array.isArray(e)?e.join(","):e}),e[o]=r}),console.log("ACIF Events Log (last event: "+t+")",e)}}),define("acif/data/data",["exports","module","../utils","./data-warehouse","./customer-response-manager","./local-storage","./storage-mixin","./alerts"],function(e,t,n,i,o,r,a,s){function u(e){return e&&e.__esModule?e:{default:e}}function l(e){this.Automaton=e,this.Storage=new h.default(e),this.Alerts=new m.default(e)}var c=u(n),d=u(i),f=u(o),h=u(r),p=u(a),m=u(s);t.exports=l;var g=l.prototype={constructor:l};g.init=function(){var e=this;return this.Storage.init().then(function(t){return e.StorageClass=(0,p.default)(e),e.storage=e.StorageClass.create(e,"Automaton.Data"),e.CRM=new f.default(e),e.DW=new d.default(e),e.trigger("storageReady"),t})},g.triggerCustomerResponded=function(e){var t=this.Automaton.api.getPreviousNode()||{},n=this.Automaton.node;if("exit"===e||e.isOutcomeNode||e.chatRouter){var i="object"==typeof e?e.outcomeMessage:this.Automaton.node.outcomeMessage;i=i||n.outcomeMessage||"",this.Storage.save("outcomeMessage",i)}this.DW.customerResponded(t,n,e),this.persistCustomAutomatonProperties(),this.Automaton.activeEvent=null},g.triggerStarted=function(){this.DW.automatonStarted.apply(this.DW,arguments)},g.triggerContentSentToCustomer=function(e,t){this.DW.contentSentToCustomer(e,t)},g.triggerEnded=function(e){this.DW.ended(e)},g.checkAlertConditions=function(){this.Alerts.checkAlertConditions()},g.logCustomData=function(){var e=$(this),t=e.attr("acif-element"),n=e.attr("acif-element-response"),i=e.is("[acif-log-multiple]"),o=e.attr("acif-occurence")||0;t&&n&&(i&&(o+=1,n=n+" ("+o+")",e.attr("acif-occurence",o)),this.Store.addToLogQueue("custom","custom: "+t,n))},g.persistCustomAutomatonProperties=function(){var e=this.Automaton.settings.getCustomProperties();if(Object.keys(e).length){c.default.logger.deprecate('Saving custom data on the automaton object is deprecated. To save (and get) custom data, use `api.save("key", value)` and `api.get("key")`'),this.save("automaton",e)}return e},g.on=function(e,t){var n=this.allTriggers||{},i=n[e]||[];i.push({name:e,method:t}),n[e]=i,this.allTriggers=n},g.trigger=function(e){((this.allTriggers||{})[e]||[]).forEach(function(e){e.method.call()})}}),define("acif/data/evaluator",["exports","module","../utils","../ci/ijsf-adapter"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){this.totalEvaluated=0,this.responses=t;var n=Array.isArray(e)?{and:e}:e,i=this.evaluateConditional(n);this._isSatisfied=i}function a(e){return Array.isArray(e)?e.map(function(e){return a(e)}):String(e).toLowerCase()}var s=o(n),u=o(i);t.exports=r;var l=r.prototype,c={equals:"equals","==":"equals","=":"equals","===":"equals","!=":"not-equal","!==":"not-equal","contains any":"contains-any","contains none":"contains-none",contains:"contains","does not contain":"not-contain","doesn't contain":"not-contain","starts with":"starts-with","ends with":"ends-with","does not start with":"not-start-with","doesn't start with":"not-start-with","does not end with":"not-end-with","doesn't end with":"not-end-with",">":"greater-than",">=":"greater-than-or-equal-to","<":"less-than","<=":"less-than-or-equal-to","is greater than or equal to":"greater-than-or-equal-to","is greater than":"greater-than","is less than or equal to":"less-than-or-equal-to","is less than":"less-than",in:"in","not in":"not-in","is blank":"is-blank","is not blank":"is-not-blank","is not":"not-equal",is:"equals"},d=["equals","not-equal","contains-any","contains-none","contains","starts-with","not-start-with","ends-with","not-end-with","in","not in"];l.and=function(e){var t=this;return-1===_.findIndex(e,function(e){return!0!==t.evaluateConditional(e)})},l.or=function(e){var t=this;return _.findIndex(e,function(e){return t.evaluateConditional(e)})>-1},l.not=function(e){return!this.and(e)},l.nor=function(e){return!this.or(e)},l.evaluateConditional=function(e){var t=this;return s.default.tryCatch(function(){return t._evaluateConditional(e)},function(t){try{e=JSON.stringify(e,null,4)}catch(e){}s.default.console.log("Could not evaluate condition: "+e),s.default.console.log(t.stack)})},l._evaluateConditional=function(e){if(Array.isArray(e.or))return this.or(e.or);if(Array.isArray(e.and))return this.and(e.and);if(Array.isArray(e.not))return this.not(e.not);if(Array.isArray(e.nor))return this.nor(e.nor);this.totalEvaluated++;var t=r.parse(e);t||s.default.throwError(e+" is not a valid condition");var n=t.ref,i=t.operator,o=t.expected,u=this.getActualValue(n);o=this.getKeywordReference(o)||o,i=r.operators[i]?i:c[i],d.indexOf(i)>-1&&(o=a(o),u=a(u));var l=r.operators[i];if("function"==typeof l){var f=l(o,u);return f||(this.firstInvalid=e),f}return void s.default.console.log(t.operator+" is not a valid operator")},l.getActualValue=function(e){var t=this.getKeywordReference(e);if(t)return t;var n=_.findIndex(this.responses,function(t){return t.questionId.toString()===e.toString()});if(-1!==n){return t=this.responses[n].answerText}};var f={"br-name":u.default.getBusinessRuleName,"co-browse":"","agent-group-id":u.default.getAgentGroupId,"agent-group-name":u.default.getAgentGroupName,"business-unit-id":u.default.getBusinessUnitId,"business-unit-name":u.default.getBusinessUnitName},h=new RegExp("^("+Object.keys(f).join("|")+")$","i");l.getKeywordReference=function(e){if("string"==typeof e){var t=/^agent-attribute\.(.*)/i,n=e.match(t);if(n){var i=n[1];return u.default.getAgentAttr(i)}var o=e.match(h);if(o)try{var r=o[1];return f[r]()}catch(e){}}},l.isSatisfied=function(){return this._isSatisfied};var p=r.operators={};p.equals=function(e,t){return e===t},p["not-equal"]=function(e,t){return!p.equals(e,t)},p.contains=function(e,t){return t.indexOf(e)>-1},p["not-contain"]=function(e,t){return!p.contains(e,t)},p["contains-any"]=function(e,t){return _.findIndex(e,function(e){return t.match(e)})>-1},p["contains-none"]=function(e,t){return!p["contains-any"](e,t)},p["starts-with"]=function(e,t){return 0===t.indexOf(e)},p["not-start-with"]=function(e,t){return!p["starts-with"](e,t)},p["ends-with"]=function(e,t){return!!t.match(new RegExp(e+"$","i"))},p["not-end-with"]=function(e,t){return!p["ends-with"](e,t)},p["is-blank"]=function(e,t){return""===String(t||"").trim()},p["is-not-blank"]=function(e,t){return!p["is-blank"](e,t)},p.in=function(e,t){return e.indexOf(t)>-1},p["not-in"]=function(e,t){return!p.in(e,t)},p["greater-than"]=function(e,t){return Number(t)>Number(e)},p["greater-than-or-equal-to"]=function(e,t){return Number(t)>=Number(e)},p["less-than"]=function(e,t){return Number(t)<Number(e)},p["less-than-or-equal-to"]=function(e,t){return Number(t)<=Number(e)},r.parse=function(e){return"string"==typeof e?this.parse.string(e):Array.isArray(e)?this.parse.array(e):void 0},r.parse.string=function(e){var t=Object.keys(c).map(function(e){return e.replace(/\s+/g,"[\\s_-]")}).join("|"),n=new RegExp("^([\\w-\\.\\[\\]'\"]+)\\b\\s*("+t+")\\s*\\b([\\w-\\.\\[\\]'\"\\s,]+)$","i"),i=e.match(n);if(i){var o=i[1],r=i[2],a=i[3];"is"===r&&"blank"===a?(r="is-blank",a=null):"is not"===r&&"blank"===a?(r="is-not-blank",a=null):r=c[r];return!!r.match(/^(|not-)in|contains-any|contains-none$/)&&(a=a.split(/\s*,\s*/g)),{ref:o,operator:r,expected:a}}},r.parse.array=function(e){var t=e.shift(),n=e.shift(),i=e;if(i.length){n.toString().match(/^(|not-)in$/i)||(i=i[0])}else i=n,n=i instanceof RegExp?"regex":"equals";return{ref:t,operator:n,expected:i}}}),define("acif/data/index",["exports","module","./data"],function(e,t,n){e.default=function(e){return e&&e.__esModule?e.default:e}(n),t.exports=e.default}),define("acif/data/local-storage",["exports","module","../utils"],function(e,t,n){function i(e){this.Automaton=e}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i
;var r=i.prototype={constructor:i};r.init=function(){var e=this,t=this.Automaton,n=t.utils.makePromise("local-storage initializing"),i=t.options,o=i.startedBy;return this.scope="ci"===i.context?"engagement":"tab",this.storageKey="automaton-"+t.id+"|"+o.name+"|"+i.location,parent.inQ.Storage.get(this.storageKey,this.scope,function(t,i){if(t)return n.reject(t);i?e.data=i:(e.data={},e.persist()),n.resolve(e.data)}),n},r.get=function(e,t){var n=o.default.get(this.data,e);return void 0===n&&void 0!==t&&(this.save(e,t),n=t),n},r.save=function(e,t){o.default.set(this.data,e,t),this.persist()},r.persist=_.debounce(function(){this._immediatePersist()},100),r._immediatePersist=function(){parent.inQ.Storage.set(this.storageKey,this.data,this.scope)}}),define("acif/data/storage-mixin",["exports","module"],function(e,t){function n(e){function t(e){var t=n+"::"+e;if(this.storageKey=t,this.LocalStorage=o,this.data=o.get(t),!this.data){var i={};o.save(this.storageKey,i),this.data=i}}var n=e.Automaton.hash,o=e.Storage;return t.prototype=i,t.create=function(e,n){var o=new t(n);return _.each(i,function(t,n){e[n]=t.bind(o)}),o.getAll()},t}t.exports=n;var i={};i.save=function(e,t){var n=this;if("object"==typeof e)return void _.each(e,function(e,t){n.save(t,e)});e=this.storageKey+"."+e,this.LocalStorage.save(e,t)},i.get=function(e,t){e=this.storageKey+"."+e;var n=this.LocalStorage.get(e);return void 0===n&&void 0!==t&&(this.save(e,t),n=t),n},i.getAll=function(){return this.data}}),define("acif/environment/flashvars",["exports","module","../ci/ijsf-adapter"],function(e,t,n){function i(){var e=r.default.getBrowserTypeAndVersion(),t={browserType:e[0],browserVersion:e[1],automatonDataMap:r.default.getAutomatonDataMap(),operatingSystemType:o(),agentGroupID:r.default.getAgentGroupId(),businessUnitID:r.default.getBusinessUnitId(),brName:r.default.getBusinessRuleName(),pageMarker:r.default.getPageMarker(),pageID:r.default.getPageId()};return t.brName.match(/-P-/)?t.launchType="proactive":t.brName.match(/-R-/)?t.launchType="reactive":t.launchType="unknown",t.deviceType||(t.deviceType=r.default.getDeviceType()||"unknown"),t}function o(){var e="Unknown",t=window.navigator.platform,n=window.navigator.userAgent;return/Android/.test(n)?e="Android":/iPhone/.test(n)||/iPad/.test(n)||/iPod/.test(n)?e="iOS":/Win/.test(t)?e="Windows":/Linux/.test(t)?e="Linux":/Mac/.test(t)&&(e="Mac OS"),e}var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i}),define("acif/environment/get-env-var",["exports","module","./globals"],function(e,t,n){function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r[e];if(void 0!==n)return n;var i=o.default.window,a=new RegExp(e+"=?([^&]*|)([&#]|$)","i"),s=o.default.location.href.match(a);return n=(s?s[1]||!0:null)||(sessionStorage?sessionStorage.getItem(e):null)||(localStorage?localStorage.getItem(e):null)||i[e]||i[e.replace(/-/g,"_")],t.persist&&n&&window.sessionStorage&&sessionStorage.setItem(e,n),r[e]=n,n}t.exports=i;var o=function(e){return e&&e.__esModule?e:{default:e}}(n),r={}}),define("acif/environment/globals",["exports","module"],function(e,t){var n=void 0;try{n=window.top}catch(e){n=parent.parent}t.exports={window:n,location:n.location}}),define("acif/environment/index",["exports","module","./flashvars","./globals","./get-env-var","./is-dev-mode"],function(e,t,n,i,o,r){function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.top,n=e.frame,i=n.document,o=n===t,r=!!l.default.location.href.match("inqChat.html"),a=document.getElementById("acif-preview-container"),s=!!a,f=(0,u.default)(),h=f.deviceType||"",p=f.operatingSystemType||"",m=(0,c.default)("nuance-env")||"production";this.devMode=(0,d.default)(),this.win=l.default.window,this.flashVars=f,this.location=l.default.location,this.is_top_frame=o,this.top=t,this.document=i,this.isIE7=-1!==navigator.appVersion.indexOf("MSIE 7."),this.isIE8=void 0===document.addEventListener,this.isAndroidMobile=!(!h.match(/phone|tablet/i)||!p.match(/android/i)),this.isIOS=!!p.match(/ios/i),this.isIOS9=!!navigator.userAgent.match(/iPhone OS 9/i),this.isFF=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.is_touch_enabled="ontouchstart"in window,this.is_preview_mode=s,this.previewContainerEl=a,this.isPersistentWindow=r,this.dbSync=this.getDbSync(),this.dbSyncClient=this.getDbSyncClient(),this.showEvents=this.get("nuance-show-events",{persist:!0}),this.environment=m,this.isTest=!!m.match(/^test|agvsptest01/i),this.isDev=!!m.match(/^dev/i),this.isProd=!!m.match(/^prod/i)}var u=a(n),l=a(i),c=a(o),d=a(r);t.exports=s;var f=s.prototype={constructor:s};f.get=c.default,f.getDbSyncClient=function(){return(0,c.default)("tc-client-id")},f.getDbSync=function(){return(0,c.default)("tc-db-sync",{persist:!0})}}),define("acif/environment/is-dev-mode",["exports","module","./get-env-var"],function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=void 0;t.exports=function(){if(void 0!==o)return o;var e=(0,i.default)("nuance-env")||"production";return o=!!e.match(/^dev/i)}}),define("acif/environment/location",["exports","module"],function(e,t){var n;try{n=window.top.location}catch(e){n=parent.parent.location}t.exports=n}),define("acif/index",["exports","./utils/mixins","./utils","./automaton","./ci","./ci/ijsf-adapter","./environment/get-env-var"],function(e,t,n,i,o,r,a){function s(e){return e&&e.__esModule?e:{default:e}}function u(){var e=inQ.Storage.peek(S,"engagement");ACIF.ci=e||ACIF.ci,ACIF.onStorageReady.resolve()}function l(){$.when(ACIF.onStorageReady,ACIF.onConfigsReady).then(c)}function c(){var e=m(),t=y(),n=h();ACIF.$skin=C.default.getSkin().$skin,n.forEach(function(e){ACIF.loadAutomaton(e.params,e.startedBy,null,{initializePanel:!1})}),e.forEach(function(e){ACIF.loadAutomaton(e,t)})}function d(e){setTimeout(function(){f(e)})}function f(e){var t=C.default.getSkin();if(t.$skin&&t.$skin.is(":visible")){var n=e.surveyId,i=e.context,o=void 0===i?"ci":i,r=e.location,a=void 0===r?"center":r,s={type:"survey",id:"survey"},u={automatonID:n,context:o,location:a};A.default.hideLayer("thankYou"),ACIF.loadAutomaton(u,s)}}function h(){var e=inQ.Storage.peek("acif-loaded-automatons","engagement")||{};return Object.keys(e).filter(function(t){return e[t]}).map(function(e){return JSON.parse(e)})}function p(){var e=inQ.Storage.peek("acif-loaded-automatons","engagement")||{};return Object.keys(e).filter(function(t){return!1===e[t]}).map(function(e){return JSON.parse(e)})}function m(){var e=C.default.getBusinessRuleAutomatonParams(),t=p();return e.filter(function(e){var n=!0;return t.forEach(function(t){var i=e.automatonID===t.params.automatonID,o=e.context===t.params.context,r=e.location===t.params.location;i&&o&&r&&(n=!1)}),n})}function g(e,t,n){var i=e.automatonID,o=e.context,r=e.location,a=e.datapass,s=void 0===a?{}:a,u=r||null;i||w.default.throwError("'"+i+"' is not a valid automaton ID.  Likely configuration issue in the business rules."),"ci"===o&&(u=b(r));var l=C.default.getStage(o,u);return l.$container.empty(),{automatonId:i,context:o,location:r,panel:u,automatonDataMap:n||A.default.getAutomatonDataMap(),datapass:s,startedBy:t,top:parent,frame:l.frame,document:l.document,$container:l.$container,$skin:l.$skin}}function v(e,t){return JSON.stringify({params:{automatonID:e.automatonID,context:e.context,location:e.location},startedBy:t})}function y(){var e=A.default.getActiveRule()||{};return{type:"br",id:e.id,name:e.name}}function b(e){if("V2Frame"===e){return(C.default.findInSkin("[data-acif-v2-frame]").attr("id")||"").replace(/^tcChat_/,"")}return"acif"+e.split(/\W+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("")}var w=s(n),x=s(i),C=s(o),A=s(r),E=s(a),T=(0,E.default)("nuance-toolbox",{persist:!0});if(T){var D=parent.document,k="local"===T?"http://localhost:4204/index.js":"https://agvsptest01.touchcommerce.com/toolbox/index.js";D.body.appendChild(D.createElement("script")).src=k}window.ACIF=parent.inQ.ACIF||{};var S="acif-ci";parent.inQ.ACIF=ACIF,_.extend(ACIF,{VERSION:"3.2.8",frame:window,Utils:w.default,_jsonpCallbacks:{},$:$,_:_,automatons:{},loaded:{},IJSF:A.default}),A.default.registerIJSFListeners({onStorageReady:u,onSkinLoaded:l,onLoadPostChatSurvey:d,onChatClosed:C.default.listeners.onChatClosed,onAgentMsg:C.default.listeners.onAgentMsg,onAgentDataPass:C.default.listeners.onAgentDataPass}),ACIF.onStorageReady=new $.Deferred,ACIF.onConfigsReady=new $.Deferred,(C.default.findInSkin('div[id$="acifCenter"]').length||C.default.findInSkin("div[data-acif-v2-frame]").length)&&l(),ACIF.ciPanelAutomatonMap={},ACIF.loadAutomaton=function(e,t,n,i){if(i=i||{},"object"!=typeof t)throw w.default.throwError("loadAutomaton requires a `startedBy` object to be passed. Received: "+t);var o=v(e,t);if(!this.loaded[o]){var r=g(e,t,n),a=x.default.load(r);if(a.storageKey=o,"ci"===r.context){var s=ACIF.ciPanelAutomatonMap[r.panel];if(s&&s.close(),!1===i.initializePanel)C.default.reinstatePanel(r.panel);else{var u=a.getRecord(r.automatonId,"automaton");C.default.initializePanel(r,u)}}if(this.automatons.active=a,this.automatons["a"+a.id]=a,this.loaded[o]=!0,"ci"===r.context){var l=r.panel;ACIF.ciPanelAutomatonMap[l]=a}return ACIF.persistLoadedAutomatons(),a}},ACIF.closeAutomaton=function(e){e=e||{};var t=e,n=t.automatonID,i=t.location,o=t.context,r=ACIF.getAutomatonById(n);if(!r)return w.default.console("Could not find automaton '"+n+"' to close.","error"),void A.default.sendDatapassMessage({Warning:"Agent-pushed content ID "+n+" is not available to close."});var a=r.Data.get("dependents");a&&(a.forEach(function(e){var t=JSON.parse(e),n=t.params;ACIF.closeAutomaton(n)}),r.Data.save("dependents",[])),r.View.Exit.unload(e);var s=r.options.startedBy,u=v(e,s);if(this.loaded[u]=!1,"ci"===o){var l=b(i);ACIF.ciPanelAutomatonMap[l]=null}return ACIF.persistLoadedAutomatons(),r},ACIF.getAutomatonById=function(e){return this.automatons["a"+e]},ACIF.persistLoadedAutomatons=_.debounce(function(){var e=inQ.Storage.peek("acif-loaded-automatons","engagement");_.defaults(ACIF.loaded,e),inQ.Storage.set("acif-loaded-automatons",ACIF.loaded,"engagement"),inQ.Storage.set(S,ACIF.ci,"engagement")},100)}),define("acif/models/Automaton",["exports","module","./Model"],function(e,t,n){function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o.default.call(this,e,t),this.loadCustomNodeProperties(),this._originalProperties=Object.keys(this).concat("_originalProperties"),this._privateProperties=["_targetChatNode","_privateProperties"]}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i;var r=i.prototype=new o.default;r.constructor=i,r._modelType="automaton",r.getCustomProperties=function(){var e={};for(var t in this){var n=this.hasOwnProperty(t)&&-1===this._originalProperties.indexOf(t),i=this._privateProperties.indexOf(t)>=0;n&&!i&&(e[t]=this[t])}return e},r.extend=function(e){e&&"object"==typeof e&&_.extend(this,e)},r.loadCustomNodeProperties=function(){if(this.proto&&"object"==typeof this.proto.nodeProperties&&"object"==typeof this.nodeProperties)for(var e in this.proto.nodeProperties)this.nodeProperties[e]=_.extend({},this.nodeProperties[e],this.proto.nodeProperties[e])}}),define("acif/models/Model",["exports","module","../utils"],function(exports,module,_utils){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Model(e,t){void 0===e&&(e={});var n=_.omit(e,"default");try{n=JSON.parse(JSON.stringify(n))}catch(e){}_.extend(this,e.attributes,t,{id:e.id,_recordSource:n}),this.Automaton&&this.Automaton.Data.save&&this.Automaton.Data.save(_defineProperty({},"records."+this._modelType+"."+this.id,this.modulePath)),this.proto&&this.inheritFromPrototype()}var _Utils=_interopRequireDefault(_utils);module.exports=Model;var fn=Model.prototype={constructor:Model};fn.inheritFromPrototype=function(){this.proto=this.Automaton.getRecord(this.proto,this._modelType),"object"==typeof this.proto.transitions&&"object"==typeof this.transitions&&_.each(this.proto.transitions,function(e,t){this.transitions[t]=this.transitions[t]?[].concat(this.transitions[t]).concat(this.proto.transitions[t]):e}),_.defaults(this,this.proto)},fn.extendVersions=function(){var e=void 0,t=this.versions||this.automatons,n=this.Automaton.settings;t&&n&&t.forEach(function(t,i){var o=t[n.id]||t[n.name];void 0!==o&&(e[i]=o)}),_.extend(this,e)},fn.runHook=function(methodName,context){context=context||this,api=this.Automaton.api;var self=context,code=this[methodName]||"",hookMethodResponse=void 0;if(code)return"string"==typeof code&&(code=code.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,""),code=code.trim()),_Utils.default.tryCatch(function(){self._super=self.createSuper(methodName);var fn=void 0;"string"==typeof code?code.match(/^function\s*\([\s\S]*\}$/)?eval("fn = "+code+";"):eval("fn = function() {"+code+"};"):"function"==typeof code&&(fn=code.bind(self)),hookMethodResponse=fn.apply(context,[])},function(e){var t='Failed to evaluate the "'+methodName+'" custom code for '+self._modelType+" "+self.id+' ("'+self.name+'").\nReceived error: '+e.message;_Utils.default.console(t,"error")}),hookMethodResponse},fn.createSuper=function(e){return function(){var t=void 0;if(e?this.proto?this.proto[e]||(t='Prototype model has no "'+e+'" method.'):t="Model has no prototype model assigned":t="Custom method name not specified.",!t)return this.proto.runHook(e,this);_Utils.default.console("Error calling this._super() - "+t,"error")}},fn.get=function(e){return _Utils.default.getPropFromAlias(this,e)}}),define("acif/models/Node",["exports","module","./Model","../utils"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){s.default.call(this,e,t),this.loadCustomNodeProperties(),this.validateActions()}function a(e){return!(!e||"object"!=typeof e||Array.isArray(e))}var s=o(n),u=o(i);t.exports=r;var l=new s.default;r.prototype=l,l.constructor=r,l._modelType="node",l.loadCustomNodeProperties=function(){var e=this,t=this.Automaton.nodeProperties;if("object"==typeof t){var n=(this.tags||"").toString().replace(","," ").split(/\s+/);n.push(this.type.toLowerCase()),n.forEach(function(n){t[n]&&_.extend(e,t[n])})}};var c=["closeAutomaton","console","fireAssistedEvent","fireCustomEvent","growLayer","hideLayer","loadAutomaton","position","resize","sendFormDataToAgent","sendToAgent","showLayer","shrinkLayer"];l.runCustomAction=function(e){var t=this.actions,n=this.Automaton,i=t?t[e]:null;if(!a(i))return!1;var o=i.action,r=i.params;return n.api[o].call(n,r),!0},l.validateActions=function(){var e=this.actions;return!!e&&Object.keys(e).forEach(function(t){var n=e[t];a(n)||u.default.throwError('Custom action "'+t+'" must be an object.');var i=n.action;c.indexOf(i)>-1||u.default.throwError('Unrecognized action "'+i+'" found in "'+t+'"\nSupported actions: '+c)}),!0}}),define("acif/models/Style",["exports","module"],function(e,t){function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.css=e,_.extend(this,t)}t.exports=n;var i=n.prototype={constructor:n};i._modelType="style",i.addNamespace=function(e){var t=this,n=/#viewport[^{]*/gm;return(this.css.match(n)||[]).forEach(function(n){var i=n.replace(/([\.#])/gm,"$1"+e);t.css=t.css.replace(n,i)}),this},i.updateTooltipClassName=function(){var e="inq-"+this.Automaton.id+"-ui-tooltip";return this.css=this.css.replace(/#[\w-]*viewport\s+(.*\.[\w-]*tooltip)\b/g,"$1"),this.css="body ."+e+" { background: white; z-index: "+this.Automaton.View.$skin.css("z-index")+";}\n"+this.css,this},i.addToDOM=function(){var e=this.Automaton,t="tc-"+e.options.location+"-styles",i=e.Env.document;$("#"+t,i).remove();var o=n.loadStyleSheet(this.css,t,null,i);return $(o).attr("acif-automaton-id",e.id),this},i.getCSS=function(){return this.css},i.preloadImages=function(){for(var e=/url\(['"]?([^'"\)]+)['"]?\)/g,t=void 0,n=void 0;n=e.exec(this.css);)t=new Image,t.src=n[1];return this},n.loadStyleSheet=function(e,t,n,i){var o=i.createElement(n?"link":"style");return o.type="text/css",t&&(o.id=t),n?$(o).attr("href",e).attr("rel","stylesheet"):o.styleSheet?o.styleSheet.cssText=e:o.appendChild(i.createTextNode(e)),$("head",i).append(o),o}}),define("acif/transitions/TransitionEvaluator",["exports","module","../utils"],function(exports,module,_utils){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function TransitionEvaluator(e,t){this.name=e,this.Automaton=t,this.index=-1,this.entries=this.findMatchingTransitionEntries(e),this.evaluateAllEntriesPromise=new $.Deferred,this.nextEntry()}var _Utils=_interopRequireDefault(_utils);module.exports=TransitionEvaluator;var fn=TransitionEvaluator.prototype={constructor:TransitionEvaluator};fn.findMatchingTransitionEntries=function(e){var t=this.Automaton.node||{},n=t.transitions||{},i=this.Automaton.settings.transitions||{},o=[].concat(i[e]).concat(n[e]);return _.compact(o)},fn.nextEntry=function(){this.index++,this.index<this.entries.length?(this.entry=this.entries[this.index],this.evaluate()):(_Utils.default.console('Transition event "'+this.name+'" was triggered, but did not result in a node transition.'),this.evaluateAllEntriesPromise.reject())},fn.evaluate=function(){var e=this.entry;if(_.isNumber(e)||_.isString(e))return void this.chooseNode(e);var t=e.target;if(!t)return void this.nextEntry();if(e.automaton_id){if(-1===[].concat(e.automaton_id).indexOf(this.Automaton.settings.id))return void this.nextEntry()}return e.condition&&!this.conditionPassed()?void this.nextEntry():_.isBoolean(e.AA)||_.isBoolean(e.inHOP)||_.isBoolean(e.outsideHOP)||_.isBoolean(e.chatSlots)||_.isBoolean(e.queueSlots)||!!e.targetChatNode?void this.checkAgentAvailability():void this.chooseNode(t)},fn.chooseNode=function(e){if("string"==typeof e&&!_Utils.default.string.isReferenceString(e)){var t=e;switch(t){case"back":e=this.Automaton.Data.storage.previousNodeID;break;case"close":return this.Automaton.close();case"start_over":e=this.Automaton.settings.initialNode;break;default:_Utils.default.throwError('Transition keyword "'+t+'" not recognized.')}}this.evaluateAllEntriesPromise.resolve(e)},fn.conditionPassed=function(){var e=this,t=!1,n=this.entry.condition;return _Utils.default.tryCatch(function(){t=e.evaluateCondition(n)},function(t){e.onEvalFailure(t)}),t},fn.evaluateCondition=function(condition){var automaton=this.Automaton.settings,passed=!1,condFn=void 0;if("function"==typeof condition)condFn=condition;else if("string"==typeof condition)if("function"==typeof automaton[condition])condFn=automaton[condition];else if("function"==typeof this.Automaton.node[condition])condFn=this.Automaton.node[condition];else{var that=this,vars=["api = that.Automaton.api","forms = api.forms","_ = forms._"];vars=vars.map(function(e){return"\tvar "+e+";"}).join("\n"),eval("condFn = function(node) {\n"+vars+"\n\treturn ( "+condition+" );\n};")}return passed=condFn.call(this.Automaton.node,this.Automaton.node)},fn.onEvalFailure=function(e){var t="Failed to evaluate transition entry # "+(this.index+1)+' of transition event named "'+this.transitionName+'". Received error: '+e.message;_Utils.default.console(t,"error")},fn.checkAgentAvailability=function(){var e=this,t=this.entry,n=t.targetChatNode||t.target,i=this.Automaton.getRecord(n),o=_.extend({},i,t);this.Automaton.Chat.checkAA(o).then(function(n){var i=!0;if(i&&_.isBoolean(t.AA)&&(i=t.AA===n.AA),i&&_.isBoolean(t.inHOP)&&(i=t.inHOP===n.inHOP),i&&_.isBoolean(t.outsideHOP)&&(i=t.outsideHOP===n.outsideHOP),i&&_.isBoolean(t.chatSlots)){var o="online"===n.status&&!0===n.AA;i=t.chatSlots===o}if(i&&_.isBoolean(t.queueSlots)){var r="busy"===n.status&&!0===n.AA;i=t.queueSlots===r}i?e.chooseNode(t.target):e.nextEntry()})},fn.getPromise=function(){return this.evaluateAllEntriesPromise}}),define("acif/transitions/index",["exports","module","./transitions"],function(e,t,n){e.default=function(e){return e&&e.__esModule?e.default:e}(n),t.exports=e.default}),define("acif/transitions/redirect",["exports","module","../utils"],function(e,t,n){function i(e){this.Automaton=e,this.env=e.Env}function o(e,t){function n(e){return e.replace(/:.*/,":")}function i(e){return e.replace(/^(.*\/\/)([^:\/]+)(.*$)/,"$2")}function o(e){var t=e.match(/^.*\/\/.*:([^\/]*).*/);return t?t[1]:""}return n(e)===n(t)&&(i(e)===i(t)&&o(e)===o(t))}var r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i;var a=i.prototype={constructor:i};a.openPopup=function(e){this.availHeight=this.env.win.screen.availHeight,this.availWidth=this.env.win.screen.availWidth;var t=this.Automaton.getProp("redirectWidth",e),n=this.Automaton.getProp("redirectHeight",e),i=Math.min(t||700,this.availWidth),a=Math.min(n||500,this.availHeight),s="left=0,top=0,width="+i+",height="+a+",toolbar=1,resizable=1,scrollbars=1",u=window.open(e.redirectUrl,"_blank",s);u?(this.popup=u,o(this.env.top.location.href,e.redirectUrl)&&this.Automaton.utils.setTimeout(this.positionPopup.bind(this,e),100)):r.default.console("Popup window failed to load.","error")},a.positionPopup=function(){var e=this.availWidth,t=this.availHeight,n=this.Automaton.getProp("redirectPosition",this.node),i=this.popup,o=i.outerWidth||i.document.documentElement.offsetWidth||i.document.body.offsetWidth,r=i.outerHeight||i.document.documentElement.offsetHeight||i.document.body.offsetHeight,a=0,s=0;switch(n){case"cc":s=.5*(e-o),a=.5*(t-r);break;case"tl":a=0,s=0;break;case"bl":s=0,a=t-r;break;case"tr":a=0,s=e-o;break;case"br":a=t-r,s=e-o}i.moveTo(s,a)},a.current=function(e){var t=this.Automaton.View,n=t.Env.location.href===e.redirectUrl;e.isExitNode?n?t.Exit.closeCI():this.exitThenRedirectCurrent(e):n||(this.toggleRedirectClass(t.$viewContainer,t.NS),this.openCurrentNow(e))},a.exitThenRedirectCurrent=function(e){var t=this.Automaton.Env.win.top.document,n=t.createElement("script"),i='setTimeout(function() {location.href = "'+e.redirectUrl+'";}, 1000);';n.type="text/javascript";try{n.innerHTML=i}catch(e){n.text=i}$("body",t)[0].appendChild(n),this.Automaton.Data.DW.updateOutcomeType(e),this.Automaton.close()},a.openCurrentNow=function(e){this.Automaton.Env.location.href=e.redirectUrl},a.toggleRedirectClass=function(e,t){e.addClass(t+"redirecting"),e.find("."+t+"redirect-panel").length||$("<div>").addClass(t+"redirect-panel").appendTo(e)}}),define("acif/transitions/transitions",["exports","module","../utils","../ci/ijsf-adapter","./TransitionEvaluator","./redirect"],function(e,t,n,i,o,r){function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.Automaton=e,this.Redirect=new d.default(e)}var u=a(n),l=a(i),c=a(o),d=a(r);t.exports=s;var f=s.prototype={constructor:s};f.loadNode=function(e){var t=this;this.Automaton.node=e,this.Automaton.utils.timers.clearTimers(),this.Automaton.Forms.clearLastFocusedElement(),"Phone"===l.default.getDeviceType()&&l.default.resetPhoneXframe(),this.runNodeEntry(e).then(function(n){if(!n){t.updateDisplayedPath(),t.updateOutcomeType(),t.pollAgentAvailability(),t.Automaton.node.template&&t.Automaton.View.renderNode();var i=t.Automaton.View.getQuestions();t.Automaton.Data.triggerContentSentToCustomer(e,i)}})},f.runNodeEntry=function(e){var t=this.Automaton.utils.makePromise("node retransition check"),n=null;(n=this.Automaton.settings.runHook("onNodeEntry"))||(n=e.runHook("onEntry"));var i="number"==typeof n,o=i&&n!==e.id;if(i&&u.default.logger.deprecate("Hook response should be a reference string. Saw a number '"+n+"'"),u.default.string.isReferenceString(n)||o){var r=this.Automaton.getRecord(n);if(r.id!==e.id)return e=r,this.selectNextNode(e.id),t.resolve(!0),t}if(e.onFirstEntry){var a=this.Automaton.Data.storage.path;(1===a.length||_.indexOf(a,e.id)===a.length-1)&&e.runHook("onFirstEntry")}return e.onEntryTransition&&this.trigger(e.onEntryTransition).then(function(e){t.resolve(e)},function(e){t.resolve()}),!e.onEntryTransition&&!n&&t.resolve(),t},f.updateDisplayedPath=function(){var e=this.Automaton;e.displayedPath=[].concat(e.root_path).concat(e.Data.storage.path)},f.updateOutcomeType=function(){var e=this.Automaton.Data;if(1!==e.storage.path.length){var t=e.storage.outcomeType,n="Completed"===t||this.Automaton.node.isOutcomeNode?"Completed":"Abandoned";e.save("outcomeType",n)}},f.pollAgentAvailability=function(){var e=this,t=["pollAA","poll_aa","pollAgentAvailability","poll_agent_availability"],n=this.Automaton.node,i=n.get(t);if(i){var o=void 0,r=void 0,a=void 0,s=void 0,u="number"==typeof i?i:i.interval;u=Math.max(u||30,10);var l=!(i.target||i.toggleClass||i.callback);l?o="string"==typeof i.transition?i.transition:"pollAA":(r=i.target?this.Automaton.getRecord(i.target):null,a=i.toggleClass||"agents-ready",s="function"==typeof n[i.callback]?n[i.callback]:$.noop),this.Automaton.utils.timers.setInterval(function(){l?e.trigger(o):r&&e.Automaton.Chat.checkAA(r).then(function(t){var n=t.AA?"addClass":"removeClass";e.Automaton.View.$viewport[n](a),s(t)})},1e3*u)}},f.trigger=function(e){var t=this;return this.evaluate(e).then(function(n){return t.selectNextNode(n,e),n},function(e){return!1})},f.evaluate=function(e){var t=this;return new c.default(e,this.Automaton).getPromise().then(function(e){var n=t.Automaton.getRecord(e);return n.chatRouter?t.Automaton.Chat.resolveChatNode(n):e})},f.setCurrentNode=function(e,t){var n=this.Automaton,i=n.Data;i.CRM.addNodeSelection(t||e.id),i.triggerCustomerResponded(e),i.save({previousNodeID:n.node.id,currentNodeModulePath:e.modulePath}),n.node=e},f.selectNextNode=function(e,t){var n=this;u.default.benchmark("btn click").mark("selectNextNode");var i=this.Automaton,o=i.Data,r=i.View,a=i.Chat,s=i.getRecord(e);if(s.chatRouter)return i.node.onExit&&i.node.runHook("onExit"),a.resolveChatNode(s).then(function(e){s.id!==e?n.selectNextNode(e,t):(n.setCurrentNode(s,t),a.loadChatNode(s))});var l=i.node;this.setCurrentNode(s,t);var c=o.storage.path;return c[c.length-1]!==s.id&&(c.push(s.id),o.save({path:c})),l.onExit&&l.runHook("onExit"),s.isExitNode&&s.onExit&&s.runHook("onExit"),s.isExitNode&&!s.redirectUrl?(i.Data.DW.updateOutcomeType(s),i.close()):"current"===s.redirectTarget?this.Redirect.current(s):(u.default.benchmark("btn click").mark("me.loadNode(node);"),this.loadNode(s)),"popup"===s.redirectTarget&&(this.Redirect.openPopup(s),s.isExitNode&&r.Exit.closeCI()),!1},f.getBreadcrumbs=function(){var e=this.Automaton,t=u.default.generateBreadcrumbs(e.displayedPath);return _.map(t,function(t){return e.getRecord(t)})}}),define("acif/utils/benchmark",["exports","module","../environment/is-dev-mode","./logger"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(){if(!((0,a.default)()||window.sessionStorage&&window.sessionStorage.getItem("tc_acif_benchmark"))){var e=function(){var e=function e(){return e};return{v:e.start=e.mark=e.end=e}}();if("object"==typeof e)return e.v}var t={};return function(){function e(e){return e=e||"Staring benchmark",r.startTime=r.lastMarkTime=Date.now(),r.markNum=0,this}function n(e){if(!r.startTime)return this;var t=Date.now(),n=t-r.startTime,i=t-r.lastMarkTime;return r.markNum++,r.lastMarkTime=t,e=e||"Mark: "+r.markNum,e+=", Lapsed: "+i+"ms",e+=", Total: "+n+"ms",r.marks.push({msg:e,duration:i,total:n}),this}function i(){if(r.startTime){var e=Date.now()-r.startTime,n="Benchmark: "+o+" - Total time = "+e+"ms";window.console&&console.group?console.group(n):(0,s.default)(n),r.marks.forEach(function(t,n){var i=Math.floor(1e3*t.duration/e)/10+"%";(0,s.default)(++n+") ["+i+"] "+t.msg)}),window.console&&console.groupEnd&&console.groupEnd(),delete t[o]}}var o=arguments.length<=0||void 0===arguments[0]?"anon":arguments[0],r=t[o]=t[o]||{marks:[]},a=n;return a.start=e,a.mark=n,a.end=i,a}}var a=o(n),s=o(i);t.exports=r}),define("acif/utils/callExternalAPI",["exports","module","./tryCatch","./logger"],function(exports,module,_tryCatch,_logger){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function callExternalAPI(fnPath){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var response;return(0,_tryCatch2.default)(function(){var fn,context;if(eval("fn = "+fnPath),"function"!=typeof fn)return void(response=fn);var parts=fnPath.split(".");parts.pop();var contextPath=parts.join(".");eval("context = "+contextPath),response=fn.apply(context,args)},function(e){(0,_logger2.default)("An error occurred while calling "+fnPath+". Received error: "+e.message,"error")}),response}module.exports=callExternalAPI;var _tryCatch2=_interopRequireDefault(_tryCatch),_logger2=_interopRequireDefault(_logger)}),define("acif/utils/cookies",["exports","module"],function(e,t){t.exports={set:function(e,t,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}document.cookie=e+"="+t+i+"; path=/"},remove:function(e){this.set(e,null,-1)},get:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1===n&&(n=document.cookie.length),window.unescape(document.cookie.substring(t,n))}}return""}}}),define("acif/utils/events",["exports","module","./tryCatch","./logger"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n),a=o(i),s={trigger:function(e){var t=Array.prototype.slice.call(arguments);t.shift(),this.handlers.forEach(function(n){"function"==typeof n[e]&&(0,r.default)(function(){n[e].apply(null,t)},function(t){var i="An error occurred in the "+e+" event handler. Received error:\n"+t.message+"\n"+n[e].toString();(0,a.default)(i,"error")})})},handlers:[],loadHandlers:function(e){this.handlers=this.handlers.concat(e)},addListener:function(e,t){var n={};n[e]=t,this.loadHandlers(n)}};t.exports=s}),define("acif/utils/get",["exports","module","./logger"],function(e,t,n){function i(e,t){if(e)try{var n=(t||"").split("."),r=n.shift(),a=e[r];return n.length?i(a,n.join(".")):a}catch(e){o.default.error(e)}}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i}),define("acif/utils/hash-code",["exports","module"],function(e,t){function n(e){if(e){"object"==typeof e?e=JSON.stringify(e):"string"!=typeof e&&(e=String(e));var t,n,i,o=0;if(0===e.length)return o;for(t=0,i=e.length;t<i;t++)n=e.charCodeAt(t),o=(o<<5)-o+n,o|=0;return o}}t.exports=n}),define("acif/utils/index",["exports","module","./isJSON","./tryCatch","./isNumber","./string","./logger","./cookies","./underscore","./events","./throwError","./callExternalAPI","./get","./set","./benchmark"],function(e,t,n,i,o,r,a,s,u,l,c,d,f,h,p){function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){t=[].concat(t);for(var n=0;n<t.length;n++)if(e.hasOwnProperty([t[n]]))return e[t[n]]}function v(){var e=$(this),t=["date","datetime","datetime-local","email","month","number","password","search","tel","text","time","week","url"];return e.is("textarea")||e.is("input")&&_.indexOf(t,$(this).attr("type"))>-1}function y(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})}function b(e){var t,n,i=[];for(e=_.clone(e);e.length;)t=e.shift(),n=_.indexOf(e,t),n>-1?e=e.splice(n,e.length-n):i.push(t);return i}function w(e){return Number(e)&&!isNaN(Number(e))&&e.length<17?e=Number(e):e.match(/^true$/i)?e=!0:e.match(/^false$/i)?e=!1:(0,A.default)(e)&&(e=JSON.parse(e)),e}function x(e,t){return t.trim().split(/\s+/g).map(function(t){return e+t}).join(" ")}function C(e){return"object"==typeof e&&"function"==typeof e.then}var A=m(n),E=m(i),T=m(o),D=m(r),k=m(a),S=m(s),I=m(u),N=m(l),M=m(c),F=m(d),O=m(f),P=m(h),j=m(p);t.exports={console:k.default,logger:k.default,isNumber:T.default,string:D.default,tryCatch:E.default,isJSON:A.default,cookies:S.default,underscore:I.default,events:N.default,throwError:M.default,getPropFromAlias:g,isTextbox:v,htmlEncode:y,generateBreadcrumbs:b,isPromise:C,smartTypeCast:w,
callExternalAPI:F.default,get:O.default,set:P.default,namespaceString:x,benchmark:(0,j.default)()}}),define("acif/utils/isJSON",["exports","module"],function(e,t){var n=function(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}};t.exports=n}),define("acif/utils/isNumber",["exports","module"],function(e,t){var n=function(e){e=(e||"").toString();var t=!!e.match(/^\d+\.?\d?$/);return"number"==typeof e||t};t.exports=n}),define("acif/utils/logger",["exports","module","../environment/is-dev-mode"],function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=function(){var e="tc_acif: ",t=function e(t,n){n=n||"log",e[n](t)},n=window.console=window.console||{};return t.log=void 0!==n.log?function(t){n.log(e+t)}:$.noop,t.debug=void 0!==n.debug?function(t){n.debug(e+t)}:t.log,t.error=function(i){void 0!==n.error?n.error(e+i):t.log(i);var o=i&&i.stack?i.stack:i;return inqFrame.Inq.FlashPeer.logAcifError("ACIF-ERROR: "+encodeURIComponent(o)+"; acifVersion: "+ACIF.VERSION+";")},t.warn=void 0!==n.warn?function(t){n.warn(e+t)}:t.log,(0,i.default)()&&(t.log=t.debug),t.deprecate=function(e){e="DEPRECATION NOTICE: "+e,this.warn(e)},t}()}),define("acif/utils/mixins/index",["exports","./jquery","./underscore","./native"],function(e,t,n,i){}),define("acif/utils/mixins/jquery",["exports","../../environment"],function(e,t){var n=function(e){return e&&e.__esModule?e:{default:e}}(t);jQuery.fn.removeClassPrefix=function(e){return this.each(function(t,n){var i=_.filter(n.className.split(" "),function(t){return 0!==t.lastIndexOf(e,0)});n.className=$.trim(i.join(" "))}),this},jQuery.fn.values=function(e){var t=this.find(":input").get();return 0===arguments.length?(e={},$.each(t,function(){this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))&&(void 0===e[this.name]&&(e[this.name]=[]),e[this.name].push($(this).val()))}),e):($.each(t,function(){if(this.name&&e[this.name]){var t=e[this.name],n=$(this);if("[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),"checkbox"==this.type||"radio"==this.type){for(var i=n.val(),o=!1,r=0;r<t.length;r++)if(t[r]==i){o=!0;break}n.attr("checked",o)}else n.val(t[0])}}),this)},jQuery.fn.scrollParent=jQuery.fn.scrollParent||function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=$(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&o.length?o:$(this[0].ownerDocument||document)},n.default.isIOS&&function(){var e=jQuery.fn.focus;jQuery.fn.focus=function(){return arguments.length?e.apply(this,arguments):this.trigger("touchstart").trigger("focus")}}()}),define("acif/utils/mixins/native",["exports"],function(e){Number.prototype.match=function(e){return(this+"").match(e)},function(){"use strict";if(window.getComputedStyle){var e=window.getComputedStyle;window.getComputedStyle=function(t){try{for(var n=window,i=t.ownerDocument;n!==window.top&&n.document!==i;)n=n.parent;return(n===window?e:n.getComputedStyle).apply(n,arguments)}catch(t){return e.apply(window,arguments)}}}}()}),define("acif/utils/mixins/underscore",["exports"],function(e){function t(e){return e=String(e),e.replace(/\W+/g," ").replace(/^\s+|\s+$/g,"").replace(/\s/g,"-").toLowerCase()}function n(e,t){if(void 0===e||void 0===t)return!1;if(_.isArray(e))return _.indexOf(e,t)>-1;if("string"==typeof e){var n=new RegExp(t);return!!e.match(n)}return!1}function i(e){return e=String(e),e.replace(/[\s-]+/g,"-").split("-").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}function o(e){if(Array.isArray(e))e.forEach(function(e){return o(e)});else if(!e)return;return _.each(e,function(t,n){var i=r(n);delete e[n],e[i]=t,t&&"object"==typeof t&&o(t)}),e}function r(e){return e.toString().replace(/[-_\s]+(\w)/g,function(e,t){return t?t.toUpperCase():""})}_.mixin({contains:n,dasherize:t,titleCase:i,camelize:r,camelizeObject:o})}),define("acif/utils/set",["exports","module","./throwError"],function(e,t,n){function i(e,t,n){"object"!=typeof e?(0,o.default)("set() expected an object as the first argument. Received "+e):"string"!=typeof t&&(0,o.default)("set() expected a string as the second argument. Received "+t);var r=t.split("."),a=r.shift();if(r.length){i(e[a]=e[a]||{},r.join("."),n)}else e[a]=n}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i}),define("acif/utils/string",["exports","module"],function(e,t){t.exports={isReferenceString:function(e){return e=(e||"").toString(),new RegExp("::").test(e)}}}),define("acif/utils/throwError",["exports","module","./events"],function(e,t,n){function i(e){var t=new Error(e);throw t.name="ACIF Error",o.default.trigger("error",t),t}t.exports=i;var o=function(e){return e&&e.__esModule?e:{default:e}}(n)}),define("acif/utils/tryCatch",["exports","module","../environment/is-dev-mode","./logger"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n),a=o(i);t.exports=function(e,t){if((0,r.default)())return e();try{return e()}catch(e){if("function"==typeof t)return t(e);"string"==typeof t&&(0,a.default)(t)}}}),define("acif/utils/underscore",["exports","module"],function(e,t){function n(e){if(e)return Array.isArray(e)?e.map(n):(e=String(e),e.replace(/\W+/g," ").replace(/[^\w\s]+/g,"").trim().replace(/\s+/g," ").replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase())}t.exports=n}),define("acif/view/FieldsetView",["exports","module","../utils/throwError","../environment"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(this.el=e,this.$el=$(e),this.$inputs=this.$el.find(":input"),this.$invalids=this.$el.find("[acif-invalid]"),this.name=this.$el.attr("name")||"",this.type=this.$el.attr("type")||this.$el.attr("acif-type")||"",this.$el.removeAttr("name"),this.$el.addClass("pristine"),this.$invalids.attr("hidden","true"),this.type?this.addTypeAttributeToInputs():this.type=this.$inputs.first().attr("type")||(this.$inputs.length?this.$inputs[0].tagName.toLowerCase():""),this.type&&(this.$el.addClass(this.type+"-fieldset"),this.$el.attr("acif-field-type",this.type)),this.name?this.addNameAttributeToInputs():this.name=this.$inputs.first().attr("name"),!this.name){var t=this.$el.clone(),n=$("<div>").append(t).html();(0,a.default)("Fieldset with the content below must contain a name attribute.\n\n"+n)}this.type.match(/^select/i)&&this.$el.find("option:not([value])").each(function(){var e=$(this);e.attr("value",e.text().trim())}),this.$el.attr("acif-field-name",this.name),this.$el.is("[required]")&&(this.$inputs.first().prop("required",!0),this.$el.attr("acif-required",!0),this.$el.removeAttr("required")),this.$el.is("[acif-masked]")&&(this.$el.removeAttr("acif-masked"),this.$inputs.attr("acif-masked",!0)),this.type.match(/checkbox|radio/)&&this.wrapInputsInLabelElements()}var a=o(n),s=o(i);t.exports=r;var u=r.prototype={constructor:r};u.addTypeAttributeToInputs=function(){if(s.default.isIE8){var e=this;this.$inputs.each(function(){var t=$(this),n=t.is('[value=""]')?"":t.val(),i=$('<input type="'+e.type+'"'+(e.name?'name="'+e.name+'"':"")+"/>");n&&i.attr("value",n),t.replaceWith(i)}),this.$inputs=this.$el.find(":input")}else this.$inputs.attr("type",this.type)},u.addNameAttributeToInputs=function(){if(s.default.isIE8&&this.type.match(/^select/i)){var e=this.$inputs.first(),t=e.html(),n=$('<select name="'+this.name+'" >'+t+"</select>");e.replaceWith(n),this.$inputs=this.$el.find(":input")}else this.$inputs.not("[name]").prop("name",this.name)},u.wrapInputsInLabelElements=function(){this.$inputs.each(function(){var e=$(this),t=e.closest("label");if(t.length||(0,a.default)("Checkbox and radio <input> elements must be wrapped in <label> elements."),!e.is("[value]")||e.is('[value=""]')){var n=t.text().trim();e.attr("value",n)}})}}),define("acif/view/FileUpload",["exports","module","../ci/ijsf-adapter"],function(e,t,n){function i(e,t){this.Automaton=t;var n=t.node,i=n.fileUpload&&n.fileUpload.messages?n.fileUpload.messages:{};this.messages={typeError:i.typeError||"Invalid file format",sizeError:i.sizeError||"File exceeds the allowed file size",badError:i.badFileError||"Bad file, may be corrupt",serverError:i.serverError||"Error occured while uploading the file",success:i.success||"The file uploaded successfully"},o.default.uploadFile(e,_.extend(this.messages,{cb:this.onUpload.bind(this)}))}var o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.exports=i,i.prototype.onUpload=function(e){var t=this.Automaton;t.api.fileUploadStatus=e,t.Transitions.trigger("fileUpload"),t.View.$skin.find("[acif-file-upload-status]").text(this.messages[e])}}),define("acif/view/NodeView",["exports","module","../utils","./FieldsetView","./formify"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.node=e,this.Automaton=t,this.fieldsetViews=[];var n=this.getTemplateData(),i=void 0;this.node.template&&(i=this.Automaton.getRecord(this.node.template,"template",{data:n,Automaton:t}),this.html=i.getHTML()),this.createViewContainer(),this.enableCustomDataLogging(),this.makeModalCloseButtons(),this.$tooltips=this.$container.find("[role=tooltip]").hide()}var s=r(n),u=r(i),l=r(o);t.exports=a;var c=a.prototype={constructor:a};c.getTemplateData=function(){var e=_.clone(this.node),t=this.Automaton.api.getBreadcrumbs();return e.breadcrumbs=t.filter(function(e){return!!e.breadcrumb}),e.api=this.Automaton.api,"object"==typeof e.formify&&(e.formify=l.default.process(e.formify),this.Automaton.node.fieldsList=this.getFieldsList(e.formify)),e},c.getFieldsList=function(e){var t=this,n={};return e.fields.forEach(function(e){e.fields?function(){var i=t.getFieldsList(e);Object.keys(i).forEach(function(e){n[i[e].id]=i[e]})}():n[e.id]=e}),n},c.createViewContainer=function(){var e=this.Automaton.node,t=_.dasherize(this.node.name),n=_.dasherize(e.type),i=["view-container","acif-wrapping",t,"node-"+e.id,"node-type-"+n],o=$("<div>").html(this.html).attr("id","view-container").addClass(i.join(" ")).attr("acif-node-name",e.name).attr("acif-node-id",e.id);return this.$container=o,this.createFieldsetViews(),this.hideInputGroupErrors(),this.initializeForm(),this},c.createFieldsetViews=function(){var e=this;this.$container.find("fieldset").each(function(){var t=new u.default(this);e.fieldsetViews.push(t)})},c.hideInputGroupErrors=function(){this.$container.find("[acif-input-group-constraint]").attr("hidden","true")},c.initializeForm=function(){var e=this.$container.find("form");if(!e.length)return!1;e.addClass("form-pristine"),e.find("[acif-toggle-disabled-submit]").attr("disabled",!0)},c.hideBackButtons=function(){return this.$container.find('[acif-action="back"]').hide(),this},c.enableCustomDataLogging=function(){var e=this.Automaton.Data;return this.$container.find("[acif-log]").each(function(){var t=$(this),n=t.attr("acif-on")||"click";t.is("[acif-log-multiple]")?t.on(n,e.logCustomData):t.one(n,e.logCustomData)}),this},c.makeModalCloseButtons=function(){var e=this;return this.$container.find(".modal-window-invalid [acif-close]").on("click",function(){e.$container.removeClass(e.NS+"invalid-form")}),this},c.addNamespace=function(e){var t=$("<div>").append(this.$container),n=["id","class","for","aria-labelledby","aria-describedby"],i=this.Automaton.getProp("skipNamespacing");n.forEach(function(n){t.find("["+n+"]").each(function(){var t=$(this),o=t.attr(n),r=s.default.namespaceString(e,o);i?t.closest(i).length||t.attr(n,r):t.attr(n,r)})})},c.addIdsToDivTags=function(){this.$container.find("div:not([id])").each(function(){$(this).attr("id",_.uniqueId("tc-"))})},c.initializeAccordionMenus=function(){this.$container.find("[role=accordion]").removeAttr("role").each(function(){var e=$(this),t=s.default.smartTypeCast,n={},i=e.attr("active"),o=e.attr("header-icon"),r=e.attr("active-header-icon"),a=e.attr("animate"),u=e.attr("collapsible"),l=e.attr("event"),c=e.attr("header"),d=e.attr("height-style");e.removeAttr("active header-icon active-header-icon animate collapsible event header height-style"),n.header=o||"ui-icon-triangle-1-e",n.activeHeader=r||"ui-icon-triangle-1-s",e.accordion({icons:n,active:void 0===i?0:i,animate:a?t(a):{},collapsible:!!u&&t(u),event:l||"click",header:c||"> li > :first-child,> :not(li):even",heightStyle:d||"auto"})})},c.initializeTooltips=function(){var e=this;this.$tooltips.each(function(){var t=$(this),n=t.attr("for"),i="#"+n,o=i?$(i,e.$container):t.prev();if(!o.length)return void ACIF.Utils.logger('Element for tooltip with id "'+n+'" not found in dom.',"error");var r=s.default.smartTypeCast,a=t.attr("show"),u=t.attr("hide"),l=t.attr("track"),c={},d=t.attr("position-my"),f=t.attr("position-at"),h=t.attr("position-of"),p=t.attr("position-collision");c.my=d||"left top+15",c.at=f||"left bottom",c.collision=p||"flipfit",c.of=c.Of?e.$container.find(h):o,c.within=e.Automaton.Env.top,a=!a||r(a),u=!u||r(u),l=!!l&&r(l),t.show().removeAttr("role for style show hide track position-my position-at position-of position-collision"),o.tooltip({items:o,position:c,show:a,hide:u,track:l,tooltipClass:"-ui-tooltip",content:$("<div>").append(t).html()})})},c.initializeDatepickers=function(){var e=this;this.$container.find("[acif-datepicker]").each(function(t,n){var i=$(n),o=i.attr("acif-datepicker");i.removeAttr("acif-datepicker");var r=s.default.get(e,"node.datepickers."+o)||{},a=_.defaults({appendTo:e.$container[0],static:!0},r,{allowInput:!0,ariaDateFormat:"F j, Y"});["onMonthChange","onOpen","onYearChange"].forEach(function(t){a[t]=function(n,i,o){e._updateFlatpickrClassNames(n,i,o,r[t])}}),a.inline&&["onReady","onValueUpdate"].forEach(function(t){a[t]=function(n,i,o){e._updateFlatpickrClassNames(n,i,o,r[t])}});var u=flatpickr(n,a);$(u.calendarContainer).find(":input").data("acif-skip-validation",!0),i.parent().css("width","100%"),i.on("blur",function(){u.close()})})},c._updateFlatpickrClassNames=function(e,t,n,i){var o=this,r=n.calendarContainer,a=$(r);a.find("[class]").each(function(e,t){$(t).attr("class").split(" ").forEach(function(e){var t=o.Automaton.View.NS,n=e.indexOf(t)<0;if(e&&n){var i=s.default.namespaceString(t,e);$("."+e,a).addClass(i)}})}),"function"==typeof i&&i(e,t,n)}}),define("acif/view/Template",["exports","module","../utils","./formify"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._rawHtml=e||"\x3c!-- empty view --\x3e",_.extend(this,t)}var a=o(n),s=o(i);t.exports=r;var u=r.prototype={constructor:r};u._modelType="template",u.getHTML=function(){var e=this,t=this.loadSubTemplates(this._rawHtml),n="Failed to render "+this.modulePath+". Received error: ",i=void 0;a.default.tryCatch(function(){i=_.template(t)},function(e){a.default.throwError(n+e.message)}),a.default.tryCatch(function(){e.html=i(e.data)},function(e){a.default.throwError(n+e.message)});var o=$(this.html);return o=o.length>1?$("<div>").html(o):o,this.$html=o,o[0]},u.loadSubTemplates=function(e){var t=this,n=/<(div|span)([^>]*acif-template="(template::[\w-]+?|formify[-\w]*)"[^\/>]*)(?:\/>|>[^<]*<\/\1>)/gi;return e.replace(n,function(e,n,i,o){var r=t.getTemplate(o);return"<"+n+" "+i+">"+t.loadSubTemplates(r._rawHtml)+"</"+n+">"})},u.getTemplate=function(e){var t=this.Automaton.getRecord(e,"template",{throws:!1});return t||(t=s.default.getTemplate(e),{_rawHtml:t})}}),define("acif/view/aria",["exports","module","../utils/mixins","../utils","../ci"],function(e,t,n,i,o){function r(e){this.View=e}function a(){var e=$(this),t=e.attr("aria-describedby")||"";t=t?t.replace(/[\w-_]*invalid-[\w-_]+/g,""):null,e.attr("aria-describedby",t)}t.exports=r;var s=r.prototype={constructor:r};s.init=function(e){var t=this;this.createSpeaker(),$(this.View.Env.top).on("focus.inq-acif",this.placeFocusOnView.bind(this)),this.View.Env.isAndroidMobile&&function(){var e=t.View.NS+"invalid",n=t;$(t.View.$viewport).on("focus","fieldset."+e+" :input",function(){n.speakErrorMessageOnFocus(this)})}()},s.createSpeaker=function(){var e=this.View.Env.document.createElement("DIV"),t=$(e),n=this.View.Env.isAndroidMobile?"presentation":"log";t.attr({id:"tc-acif-aria-speaker",role:n,"aria-live":"polite","aria-relevant":"additions"}),t.css({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}),t.appendTo(this.View.$viewport),this.$speaker=t},s.enableAriaHtml=function(e){var t=this.View.Env;this.$speaker.children().hide().attr("aria-hidden",!0),e.find("button:not([type])").attr("type","button"),this.repositionAncestorLabels(e),e.find("[acif-node], [acif-transition], [acif-action]").not(":input, a, button").not(':has(":input, a, button")').each(function(){var e=$(this),n=e.html(),i=$('<button type="button"></button>'),o=$("<span></span>").html(n).appendTo(i),r=e.attr("title"),a=e.attr("aria-labelledby"),s=e.attr("aria-describedby");if(r&&(e.removeAttr("title"),t.isAndroidMobile&&(r=e.text()+". "+r),i.attr("title",r)),e.parent().is("[aria-describedby]")){var u=e.parent().attr("aria-describedby"),l=_.uniqueId("tc-");e.parent().removeAttr("aria-describedby"),o.attr("id",l),t.isAndroidMobile?a=u+" "+l:(s=u,a=l)}a&&(e.removeAttr("aria-labelledby"),i.attr("aria-labelledby",a)),s&&(e.removeAttr("aria-describedby"),i.attr("aria-describedby",s)),e.html(i)}),e.find('[role="menu"]').each(function(){$(this).find("> *").attr("role","menuitem")}),e.find("form").length&&this.enableAriaForm(e)},s.saveInitialDescribedby=function(e){e.find("[aria-describedby]").each(function(e,t){var n=$(t),i=n.attr("aria-describedby");n.data("original-aria-describedby",i)})},s.placeInitialFocusOnView=function(){var e,t=this,n=this.View.$viewport.find("[acif-aria-speak]"),r=n.text(),a=(0,i.get)(this,"View.Automaton.node.initialFocusElement");a&&(e=(0,o.findInSkin)(a)[0]),e||(e=this.getFirstSelectableElement()),e||(e=this.View.Exit.$exitButton,r=r||this.getVisibleViewportText()),this.elementToBeFocused=e;var s=this.View.Env.isIOS?5e3:500;r&&setTimeout(function(){t.speak(r)},s),this.placeFocusOnView()},s.placeFocusOnView=function(){if(this.View.$viewport&&window){var e=this.View.$lastFocusedElement||this.elementToBeFocused,t="SAFARI"===this.View.Env.flashVars.browserType?500:0;this.View.Env.isIOS9&&this.speakElementToBeFocused(e),setTimeout(function(){$(e).blur().focus()},t)}},s.speakElementToBeFocused=function(e){var t=this,n=$(e).closest("fieldset");if(n.length){n=n.clone().appendTo(this.View.$xframe).find(":hidden").remove().end();var i=n.text().trim(),o=n.find(":input").first().is("[required],[aria-required]");if(n.remove(),i){var r=n.attr("acif-field-type")||"";i+=". "+r+" field"+(o?". required":""),setTimeout(function(){t.speak(i)},1e3)}}},s.speakErrorMessageOnFocus=function(e){var t=$(e).closest("fieldset").find("[acif-invalid]:visible").text().trim();t&&this.speak(t)},s.returnFocusToDropdown=function(e){var t=$(e);setTimeout(function(){t.blur().focus()},1e3)},s.speak=function(e){var t=this.View.Env.document.createElement("DIV"),n=$(t);n.text(e),n.appendTo(this.$speaker),setTimeout(function(){n.siblings().hide().attr("aria-hidden",!0)},1e4)},s.enableAriaForm=function(e){var t=e.find("fieldset");this.View.$viewport.find("form[aria-enabled]").removeAttr("aria-enabled");var n=this;t.each(function(){n.enableAriaFieldset(this)})},s.enableAriaFieldset=function(e){function t(){var e=$(this),t=e.attr("acif-invalid");e.attr("id","invalid-"+t+"-"+l).attr("hidden","true").attr("aria-hidden","true")}function n(){var e=this,t=$(this),n=t.closest("label");n.length||(0,i.throwError)("Radio and checkbox <input> elements must be wrapped inside <label> elements");var o,r=n.text().trim(),a=n.children(),s=a.filter(function(){return $(e).text().trim()===r});1===s.length?o=s.attr("id"):(s=$("<span>").text(r),n.empty().append(t).append(s)),o=o||_.uniqueId("tc-"),s.attr("id",o),t.attr("aria-labelledby",o)}var o=$(e);if(!o.is("[acif-aria-ignore]")){var r=o.find(":input"),a=r.first(),s=o.find("[acif-invalid]"),u=o.attr("acif-field-name")||a.attr("name")||"",l=_.dasherize(u),c=o.attr("aria-describedby"),d=l+"-label",f=d,h=a.attr("type")||o.attr("type")||"",p=o.is("[required], [aria-required]")||!!o.find(":input[required], :input[aria-required]"),m=o.find("legend").first();if(m.length||(m=o.find("label").first().filter(function(){return 0===$(this).find(":input").length})),m.length||(0,i.throwError)('Fieldset for "'+u+'" is missing a leading <label> or <legend> element.'),!l){var g=o.clone(),v=$("<div>").append(g).html();(0,i.throwError)("Fieldset with the content below must contain a name attribute to support aria-enabled behavior.\n\n"+v)}o.removeAttr("name").removeAttr("type"),c&&(m=this.View.$viewport.find("#"+c),o.removeAttr("aria-describedby")),s.each(t),m.attr("id")||m.attr("id",d),h.match(/radio|checkbox/)&&(r.each(n),f=d+" "+a.attr("aria-labelledby"),"checkbox"===h&&"IE"===this.View.Env.flashVars.browserType&&o.attr("tabindex",0)),a.attr("aria-labelledby",f),r.filter("[required]").attr("aria-required","true").removeAttr("required"),this.View.Env.isAndroidMobile&&p&&function(){var e=m.text().trim();e.match(/\*$/)||m.text(e+" *")}()}},s.resetErrorMessages=function(e){var t=e.find("[acif-invalid]"),n=e.find("[aria-invalid]");t.attr("aria-hidden","true").removeAttr("role"),n.removeAttr("aria-invalid"),n.each(a)},s.makeInvalid=function(e,t){var n=e.find(":input"),i=n.first(),o=i.data("original-aria-describedby")||"",r=o+" "+t.attr("id");t.removeAttr("aria-hidden"),n.attr("aria-invalid","true"),i.attr("aria-describedby",r)},s.createScreenReaderDiv=function(e){var t=this.View.Env.document.createElement("DIV"),n=$(t).text(e);return n.css({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}),n.attr("aria-hidden",!0),n},s.repositionAncestorLabels=function(e){var t=this;e.find("[aria-labelledby]").each(function(){var n=$(this),i=n.attr("aria-labelledby"),o=e.find("#"+i);if(!!n.closest(o).length){var r=_.uniqueId("tc-"),a=o.text(),s=t.createScreenReaderDiv(a);s.attr("id",r),n.attr("aria-labelledby",r),s.insertBefore(n)}})},s.getFirstSelectableElement=function(){var e=this.View.$viewport.find("[role=main]");return e=e.length?e:this.View.$viewport,this.View.getTabbables(e).first()[0]},s.getVisibleViewportText=function(){var e=this.View.$viewContainer.clone();return e.appendTo(this.View.$xframe).find(":hidden").remove().end().remove(),e.text()}}),define("acif/view/exit",["exports","module","../utils","../ci/ijsf-adapter","../ci/index"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){this.View=e,this.NS=e.NS,this.Data=e.Automaton.Data,this.Env=e.Automaton.Env,this.timers=e.Automaton.utils.timers}var s=r(n),u=r(i),l=r(o);t.exports=a;var c=a.prototype={constructor:a};c.registerExitListener=function(){var e=this;s.default.events.addListener("error",this.onError.bind(this)),u.default.addListener("onChatClosed",function(t){var n=e.View.Automaton.node;e.unload(n)}),this.$exitButton=this.getExitButton(),"satisfactionSurvey"===this.View.Automaton.settings.type&&this.$exitButton.on("click",function(){u.default.closeCI()})},c.getExitButton=function(){return(this.View.$skin.is("iframe")?this.View.Automaton.options.$container.closest("body"):this.View.$skin).find("[id$=btnCloseChat_img]")},c.unloaded=!1,c.unload=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.unloaded){this.cleanup(),this.Data.save("currentNodeModulePath",null),this.Data.triggerEnded(e);var t=this.View.Automaton.options,n=t.context,i=t.panel,o=t.startedBy;if("ci"===n){ACIF.ciPanelAutomatonMap[location]=null;var r=!!e&&!0===e.minimize,a=l.default.isMainPanel(i),s=!!o&&"agent"===o.type;r?(u.default.minimizeStage(),l.default.closePanel(i,this.View.Automaton.Env.isPersistentWindow)):s?l.default.closePanel(i,this.View.Automaton.Env.isPersistentWindow):a&&!e.isEngagingChat?u.default.closeCI():l.default.closePanel(i,this.View.Automaton.Env.isPersistentWindow)}return!1}},c.cleanup=function(){this.unloaded=!0,this.timers.clearTimers(),this.removeListeners(),this.View.$viewport.remove(),this.View.$viewport=$("<div>"),this.View.$lightbox&&this.View.$lightbox.remove()},c.removeListeners=function(){var e="."+this.NS;u.default.updateInputListeners(this.View.Automaton.hash),$(this.Env.top).off(".inq-acif").off(e),$(this.Env.document).off(".inq-acif").off(e)},c.closeCI=function(){this.timers.clearTimers();try{u.default.closeCI()}catch(e){s.default.logger.error("Failed to close CI. Received error: "+e.message)}},c.onError=function(){this.removeListeners(),this.unloaded=!0}}),define("acif/view/formify/formify-footer",["exports","module"],function(e,t){t.exports='<footer class="formify-footer">\n  <button class="formify-submit" type="submit" <%= formify._toggle_attr %>><%= formify.submit %></button>\n</footer>'}),define("acif/view/formify/formify-header",["exports","module"],function(e,t){t.exports='<header class="formify-header" acif-aria-speak>\n    <% if (formify.heading) { %>\n    <h1 class="formify-heading"><%= formify.heading %></h1>\n    <% } %>\n    <p class="formify-heading-required">Required items indicated with *.</p>\n</header>'}),define("acif/view/formify/formify-master",["exports","module"],function(e,t){t.exports='<form class="formify-form" <%= formify._attrs %> novalidate>\n  <div class="formify-form-body" role="main">\n\n    <div acif-template="formify-header"></div>\n\n    <% _.each(formify.fields, function(field) { %>\n\n      <% if (field.fields) { %>\n        <% _.each(field.fields, function(groupItem){ %>\n          <% if (groupItem._order === 1) { %>\n            <div class="formify-group" acif-fieldset-group>\n            <h2><%= this.group %></h2>\n          <% } %>\n            <div acif-template="formify-type"></div>\n          <% if (groupItem._order === this._size) { %>\n            </div>\n          <% } %>\n        <% }, field); %>\n    <% } %>\n\n      <div acif-template="formify-type"></div>\n\n    <% }); %>\n  </div>\n\n  <% if (!formify.submitOnClick) { %>\n    <div acif-template="formify-footer"></div>\n  <% } %>\n\n</form>'}),define("acif/view/formify/formify-type-checkbox",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-checkbox <%= field.inline ? \'formify-fieldset-inline\' : \'\' %>" name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs + field._max_attr + field._min_attr %>>\n  <legend class="formify-legend"><%= field.label %></legend>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.value = rawOption.value || rawOption;\n  %>\n\n    <label class="formify-label">\n      <input class="formify-input" type="<%= field.type %>" name="<%= field.id %>" value="<%= option.value %>" />\n      <span class="formify-option-label"><%= option.label %></span>\n    </label>\n\n  <% }); %>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-email",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-email" name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <input class="formify-input" type="<%= field.type %>" <%= field.validate._attrs + field._placeholder_attr %> />\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-label",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-label" name="<%= field.id %>" acif-field-type="<%= field._type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n</fieldset>'}),define("acif/view/formify/formify-type-radio-scale",["exports","module"],function(e,t){t.exports='<div class="formify-group" acif-fieldset-group>\n  <h2><%= field.label %></h2>\n    <div class="formify-scale-row formify-scale-header">\n    <div class="formify-scale-cell formify-scale-statement"></div>\n      <% _.each(field.scale, function(rawScaleItem) {\n        var scaleItem = {};\n        scaleItem.label = rawScaleItem.label || rawScaleItem;\n        scaleItem.value = rawScaleItem.value || rawScaleItem;\n      %>\n      <div class="formify-scale-cell">\n      <%= scaleItem.label %>\n      </div>\n      <% }); %>\n    </div>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.id = rawOption.id || _.dasherize(rawOption);\n  %>\n    <fieldset class="formify-scale-item" acif-field-type="radio" name="<%= option.id %>" <%= field._required_attr %>>\n      <div class="formify-scale-row">\n      <div class="formify-scale-cell formify-scale-statement">\n        <legend class="formify-legend"><%= option.label %></legend>\n      </div>\n      <% _.each(field.scale, function(rawScaleItem) {\n        var scaleItem = {};\n        scaleItem.label = rawScaleItem.label || rawScaleItem;\n        scaleItem.value = rawScaleItem.value || rawScaleItem;\n      %>\n      <label class="formify-scale-cell formify-scale-option">\n        <input class="formify-scale-input" type="radio" value="<%= scaleItem.value %>" />\n        <span class="formify-scale-label"><%= scaleItem.label %></span>\n      </label>\n      <% }); %>\n      </div>\n    </fieldset>\n  <% }); %>\n  <%= field.validate._html %>\n</div>'}),define("acif/view/formify/formify-type-radio",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-radio <%= field.inline ? \'formify-fieldset-inline\' : \'\' %>"  name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <legend class="formify-legend"><%= field.label %></legend>\n  <% _.each(field.options, function(rawOption) {\n    var option = {};\n    option.label = rawOption.label || rawOption;\n    option.value = rawOption.value || rawOption;\n  %>\n    <label class="formify-label">\n      <input class="formify-input" type="<%= field.type %>" name="<%= field.id %>" value="<%= option.value %>" />\n      <span class="formify-option-label"><%= option.label %></span>\n    </label>\n  <% }); %>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-select",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-select" name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <select class="formify-input" <%= field._multiple_attr + field._min_attr + field._max_attr %> >\n\n    <% if (!field.multiple) { %>\n      <option value=""><%= field.placeholder %></option>\n    <% } %>\n\n    <% _.each(field.options, function(rawOption) {\n        var option = {};\n        option.label = rawOption.label || rawOption;\n        option.value = rawOption.value || rawOption;\n    %>\n    <option value="<%= option.value %>"><%= option.label %></option>\n\n    <% }); %>\n  </select>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-text",["exports","module"],function(e,t){t.exports='<fieldset class="formify-fieldset-text" name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <input class="formify-input" type="<%= field.type %>" <%= field.validate._attrs + field._placeholder_attr %> />\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type-textarea",["exports","module"],function(e,t){
t.exports='<fieldset class="formify-fieldset-textarea" name="<%= field.id %>" acif-field-type="<%= field.type_attr %>" <%= field._attrs %>>\n  <label class="formify-label"><%= field.label %></label>\n  <textarea class="formify-input" <%= field.validate._attrs + field._placeholder_attr %>></textarea>\n  <%= field.validate._html %>\n</fieldset>'}),define("acif/view/formify/formify-type",["exports","module"],function(e,t){t.exports='<%\n  var groupItem = groupItem ? groupItem : false;\n  var field = groupItem || field;\n%>\n\n<% if (field.type === \'text\') { %>\n\n    <div acif-template="formify-type-text"></div>\n\n<% } else if (field.type === \'email\') { %>\n\n    <div acif-template="formify-type-email"></div>\n\n<% } else if (field.type === \'textarea\') { %>\n\n    <div acif-template="formify-type-textarea"></div>\n\n<% } else if (field.type === \'select\') { %>\n\n    <div acif-template="formify-type-select"></div>\n\n<% } else if (field.type === \'radio\') { %>\n\n    <% if (field.scale) { %>\n      <div acif-template="formify-type-radio-scale"></div>\n    <% } else { %>\n      <div acif-template="formify-type-radio"></div>\n    <% } %>\n\n<% } else if (field.type === \'checkbox\') { %>\n\n    <div acif-template="formify-type-checkbox"></div>\n\n<% } else if (field.type === \'label\') { %>\n\n    <div acif-template="formify-type-label"></div>\n\n<% } %>'}),define("acif/view/formify/index",["exports","module","../../utils","./templates"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=$.extend(!0,{},e);return s(t),u(t),l(t),t}function a(e){var t=require("Automatons/templates/formify-map");if(t&&t[e]){var n=t[e];return require("Automatons/templates/"+n)}return v.default[e]}function s(e){_.isUndefined(e.fields)?g.default.console.error('Formify: formify object is missing "fields" array.'):e.fields.forEach(function(e){_.isUndefined(e.group)&&_.isUndefined(e.id)&&g.default.console.error('Formify: field is missing property "id".')})}function u(e){var t=e||{},n=void 0;t.submit=t.submit||"Submit",t.next=t.next||"submit",n=_.isNumber(t.next)?"acif-next-node":"acif-next-transition",t._next_attr=" "+n+'="'+t.next+'" ',t._toggle_attr="",t._submitOnClick_attr="",t.toggle&&(t._toggle_attr=" acif-toggle-disabled-submit "),t.submitOnClick&&(t._submitOnClick_attr=" acif-submit-on-click "),t._attrs=t._next_attr+t._submitOnClick_attr}function l(e){e.fields.forEach(function(e){e.fields?e.fields.forEach(function(t){e._size=e.fields.length,t._order=_.indexOf(e.fields,t)+1,c(t)}):c(e)})}function c(e){var t=e||{};d(t),f(t),h(t),p(t),m(t.validate)}function d(e){e.label=e.label||e.id,e.type=e.type||"text",e._type_attr="scale"===e.type?"radio":e.type,e.placeholder="select"===e.type?e.placeholder||"Select One&#8230;":e.placeholder||"",e._placeholder_attr=e.placeholder?' placeholder="'+e.placeholder+'" ':""}function f(e){e._required_attr="",e._dynamic_attr="",e._autoscroll_attr="",e._masked_attr="",e._omit_attr="",e._exposure_attr="",e.required&&(e._required_attr=' required class="required" '),e.dynamic&&(e.dynamic.check=e.dynamic.check||"",e.dynamic.logic=e.dynamic.logic||"equals",e.dynamic.value=e.dynamic.value||"",e._dynamic_value_prop="equals"===e.dynamic.logic?" acif-base-field-value":" acif-base-field-value-"+e.dynamic.logic,e._dynamic_attr=' acif-base-field-name="'+e.dynamic.check+'" '+e._dynamic_value_prop+'="'+e.dynamic.value+'" '),e.conditions&&(e._dynamic_attr=" acif-conditional"),e.autoscroll&&(e._autoscroll_attr=" acif-scroll-on-change "),e.masked&&(e._masked_attr=" acif-masked "),e.omit&&(e._omit_attr=" acif-omit-datapass "),e.exposureRate>-1&&(e._exposure_attr=' acif-base-exposure-rate="'+e.exposureRate+'" '),e._attrs=e._required_attr+e._dynamic_attr+e._autoscroll_attr+e._masked_attr+e._omit_attr+e._exposure_attr}function h(e){e.validate=e.validate||{},e.validate.required=e.required||"",e.validate._error_types=["required","min","max","pattern","minlength","maxlength"],e.validate._html="",e.multiple=!("select"!==e.type||!e.validate.min)||(e.multiple||!1),e._multiple_attr=e.multiple?" multiple ":"",e._pattern_attr="",e._min_attr="",e._max_attr="",e._minlength_attr="",e._maxlength_attr="",e.validate.pattern&&(e._pattern_attr=' pattern="'+e.validate.pattern+'" '),e.validate.min&&(e._min_attr=' min="'+e.validate.min+'" '),e.validate.max&&(e._max_attr=' max="'+e.validate.max+'" '),e.validate.minlength&&(e._minlength_attr=' minlength="'+e.validate.minlength+'" '),e.validate.maxlength&&(e._maxlength_attr=' maxlength="'+e.validate.maxlength+'" '),e.validate._attrs=e._pattern_attr+e._min_attr+e._max_attr+e._minlength_attr+e._maxlength_attr}function p(e){var t=e.validate;t.requiredError=t.requiredError||e.requiredError||"This is a required field",t.minError=t.minError||"You must select at least "+t.min+" options.",t.maxError=t.maxError||"You cannot select more than "+t.min+" options.",t.patternError=t.patternError||"Please enter a valid "+e.label+".",t.minlengthError=t.minlengthError||e.label+" must be at least "+t.minlength+" characters.",t.maxlengthError=t.maxlengthError||e.label+" must be at less than "+t.maxlength+" characters."}function m(e){var t="",n={required:"requiredError",min:"minError",max:"maxError",pattern:"patternError",minlength:"minlengthError",maxlength:"maxlengthError"};Object.keys(n).forEach(function(i){e[i]&&(t+='<p acif-invalid="'+i+'">'+e[n[i]]+"</p>\n")}),e._html=t}var g=o(n),v=o(i);t.exports={process:r,getTemplate:a}}),define("acif/view/formify/templates",["exports","module","./formify-master","./formify-footer","./formify-header","./formify-type","./formify-type-checkbox","./formify-type-email","./formify-type-label","./formify-type-radio","./formify-type-radio-scale","./formify-type-select","./formify-type-text","./formify-type-textarea"],function(e,t,n,i,o,r,a,s,u,l,c,d,f,h){function p(e){return e&&e.__esModule?e:{default:e}}var m=p(n),g=p(i),v=p(o),y=p(r),b=p(a),w=p(s),x=p(u),C=p(l),_=p(c),A=p(d),E=p(f),T=p(h);t.exports={formify:m.default,"formify-footer":g.default,"formify-header":v.default,"formify-type":y.default,"formify-type-checkbox":b.default,"formify-type-email":w.default,"formify-type-label":x.default,"formify-type-radio":C.default,"formify-type-radio-scale":_.default,"formify-type-select":A.default,"formify-type-text":E.default,"formify-type-textarea":T.default}}),define("acif/view/forms",["exports","module","../utils","../data/evaluator"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){this.Automaton=e,this.View=e.View,this.errors={},this.serializedValuesArray=null,this.NS=this.View.NS,this.onChange=_.throttle(this.onChange.bind(this))}var a=o(n),s=o(i);t.exports=r;var u=r.prototype={constructor:r};u.submitOnClick=function(e){var t=$(e);t.find("input").prop("checked",!0);var n=t.closest("form")[0];this.submitForm(n)},u.submitForm=function(e){var t=this.Automaton.Transitions,n=$(e),i=n.attr("acif-next-node"),o=n.attr("acif-next-transition"),r=this.NS;i||o||a.default.throwError('Form element is missing one of the following required attributes: "acif-next-node" or "acif-next-transition".  See Confluence documentation.'),this.errors={},this.serializedValuesArray=n.serializeArray(),this.validateAllFields(n);var s=Object.keys(this.errors);if(!!s.length){var u=this.View.$viewport.find("."+r+"invalid :input, ."+r+"invalid:input"),l=u.first();l.focus(),this.View.$viewContainer.scrollTop(0);var c=l.closest("fieldset").position();return c&&this.View.$viewContainer.scrollTop(c.top),a.default.console("Form had errors in these fields: "+s.join(", "))}this.Automaton.Data.checkAlertConditions(),o&&(i=t.evaluate(o)),a.default.isPromise(i)?i.then(function(e){t.selectNextNode(e)}):t.selectNextNode(i)},u.validateAllFields=function(e){var t=this;e.find(":input").not(function(){return!!$(this).closest("[acif-field-enabled=no]").length}).not(":data(acif-skip-validation)").not("button, input[type=submit]").not("[type=radio]:not(:checked)").each(function(){t.validateField(this)}),e.find("fieldset").has("[type=radio]").not(":has(:checked)").each(function(){t.validateField(this)})},u.validateField=function(e){var t=$(e),n=t.closest("form"),i=t.attr("acif-input-group");i?this.validateInputGroup(i,n):this.validateIndividialField(t)},u.validateIndividialField=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=this.getAttributes(e),i=e.is(a.default.isTextbox),o=e.closest("form"),r=!!e.attr("acif-input-group"),s=!(e.val()&&e.val().trim().length);r&&s||t||(i?t=this.validateTextField(e,n):e.is("select")?t=this.validateSelect(e,n):e.has("input[type=radio], input[type=checkbox]")&&(t=this.validateCheckbox(n),e=e.closest("fieldset").add(this.View.$viewport.find('form fieldset[acif-field-name="'+name+'"]')).first()));var u=e.closest("fieldset");this.clearFieldErrors(u,n),t?this.markFieldInvalid(o,u,n,t):this.markFieldAsValid(o,u,n),this.Automaton.Data.CRM.addResponse(n.response)},u.validateInputGroup=function(e,t){var n=this,i=!1,o=t.find('[acif-input-group="'+e+'"]');t.find('[acif-input-group-constraint="'+e+'"]').each(function(e,t){var n=$(t),r=parseInt(n.attr("max")),a=parseInt(n.attr("min")),s=o.filter(function(e,t){return $(t).val().trim().length>0}),u=!isNaN(a)&&s.length<a,l=!isNaN(r)&&s.length>r;u||l?(i=!0,n.removeAttr("hidden")):n.attr("hidden","true")}),o.each(function(e,t){var o=i?"group":"";n.validateIndividialField($(t),o)})},u.validateTextField=function(e,t){return t.required&&""===t.value?"required":"email"!==t.type||this.isValidEmail(t.value)?t.pattern&&!this.isValidPattern(t)?"pattern":t.min&&1*t.value<t.min?"min":t.max&&1*t.value>t.max?"max":t.minlength&&t.value.length<t.minlength?"minlength":t.maxlength&&t.value.length>t.maxlength?"maxlength":void 0:"pattern"},u.validateSelect=function(e,t){var n=e.parent().values();return n=n[t.name][0],t.required&&!n?"required":t.min&&n.length<t.min?"min":t.max&&n.length>t.max?"max":void 0},u.validateCheckbox=function(e){var t=null===e.value?[]:[].concat(e.value);return e.required&&0===t.length?"required":e.min&&t.length<e.min?"min":e.max&&t.length>e.max?"max":void 0},u.markFieldInvalid=function(e,t,n,i){var o=this.View,r=o.NS,a=o.$viewContainer,s=a.find("[acif-toggle-disabled-submit]").not("[disabled]"),u=_.dasherize("invalid-"+n.name+"-"+i);this.errors[n.name]=!0,a.addClass(r+u),t.removeClass(r+"valid").addClass(r+"invalid").addClass(r+"invalid-"+i);var l=void 0;l="group"===i?e.find('[acif-input-group-constraint="'+n.inputGroupName+'"]:visible'):t.find('[acif-invalid="'+i+'"]'),l.removeAttr("hidden"),s.attr("disabled",!0),this.View.isAriaEnabled&&this.View.Aria.makeInvalid(t,l),this.markFormInvalid(e)},u.clearFieldErrors=function(e,t){var n=this.NS,i=this.View,o=e.find("[acif-invalid]");i.$viewContainer.removeClassPrefix(n+"invalid-"+_.dasherize(t.name)+"-"),e.removeClassPrefix(n+"invalid-"),o.attr("hidden","true"),i.isAriaEnabled&&i.Aria.resetErrorMessages(e)},u.markFieldAsValid=function(e,t,n){var i=this.NS,o=n.name;delete this.errors[o],t.removeClass(i+"invalid").addClass(i+"valid"),this.addValidationClassesToForm(e)},u.addValidationClassesToForm=function(e){_.isEmpty(this.errors)?this.allVisibleRequiredFieldsHaveValue()&&this.markFormAsValid(e):this.markFormInvalid(e)},u.markFormInvalid=function(e){var t=this.NS;this.View.$viewContainer.addClass(t+"invalid-form"),e.removeClass(t+"form-pristine").removeClass(t+"form-dirty").removeClass(t+"form-valid").addClass(t+"form-invalid")},u.markFormAsValid=function(e){var t=this.NS,n=e.find("[acif-toggle-disabled-submit][disabled]");this.View.$viewContainer.removeClass(t+"invalid-form"),n.removeAttr("disabled"),e.removeClass(t+"form-pristine").removeClass(t+"form-dirty").removeClass(t+"form-invalid").addClass(t+"valid-form")},u.allVisibleRequiredFieldsHaveValue=function(){var e=this.View.$viewContainer,t=e.find(":input:not([data-field-enabled=no])").filter("[required], [aria-required]"),n=!0;return t.each(function(){var t=void 0;if($(this).is("select"))t=$(this).find(":selected").length>0&&!!$(this).find(":selected").val().trim();else if($(this).is("[type=radio]")){var i=$(this).prop("name");t=e.find('[name="'+i+'"]:checked').val()}else t=!!$(this).val().trim();if(!t)return n=!1,!1}),n},u.getSerializedValuesArray=function(){return this.serializedValuesArray||(this.serializedValuesArray=this.Automaton.View.$viewport.find("form").serializeArray()),this.serializedValuesArray},u.toggleFields=function(e){var t=this,n=this.View.$viewContainer.find("form"),i=!1;return e=e||$("[acif-base-field-name]",n),e.length||(e=$("[acif-conditional]",n)),e.each(function(){var e=$(this),o=void 0;if(e.is("[acif-conditional]")){var r=e.attr("acif-field-name"),a=t.Automaton.node.fieldsList[r],u=t.Automaton.Data.CRM.getResponseList();o=new s.default(a.conditions,u).isSatisfied()}else o=t.shouldShowElement(e,n);var l=!t.View.$viewport.find(e).length;o?(l||e.is(":hidden"))&&(i=!0,e.show().attr("acif-field-enabled","yes")):(l||e.is(":visible"))&&(l||t.resetField(this),i=!0,e.hide().attr("acif-field-enabled","no"))}),this.addValidationClassesToForm(n),i},u.shouldShowElement=function(e,t){var n=!1,i=e.attr("acif-base-field-name"),o=$.trim(e.attr("acif-base-field-value")||""),r=$.trim(e.attr("acif-base-field-value-any")||""),a=$.trim(e.attr("acif-base-field-value-all")||""),s=$.trim(e.attr("acif-base-field-value-contains")||""),u=$.trim(e.attr("acif-base-field-value-not")||""),l=t.find('[acif-field-name="'+i+'"]'),c=l.values(),d=c[i],f=/\s*;\s*/g;return o?n=d==o:r?(r=r.split(f),n=!!_.intersection(d,r).length):a?(a=a.split(f),n=_.intersection(d,a).length===a.length):s?(d&&1===d.length&&(d=d[0]),n=_.contains(d,s)):u&&(u=u.split(f),n=!_.intersection(u,d).length),n},u.throttleElements=function(){var e=this.View.$viewContainer.find("form");$("[acif-base-exposure-rate]",e).each(function(){var e=$(this),t=!1,n=e.attr("acif-base-exposure-rate")||"",i=_.random(99)+1;n&&(t=i<=n),t||(e.hide().attr("acif-field-enabled","no"),e.removeAttr("acif-base-field-name"))})},u.resetField=function(e){var t=this,n=$(e),i=n.find("fieldset");if(i.length)return i.each(function(){t.resetField(this)});var o=n.attr("acif-field-name")||n.find(":input").first().attr("name"),r=n.find(":input"),a=r.first(),s=n.attr("acif-field-type")||a.attr("type")||"",u=this.NS;s.match(/radio|checkbox/)?r.prop("checked",!1):a.is("select")?a.prop("selectedIndex",0):r.val(""),n.removeClass(u+"valid").removeClass(u+"invalid"),$("[aria-invalid]",n).removeAttr("aria-invalid"),$("[acif-invalid]",n).attr("aria-hidden",!0).attr("hidden",!0),n.is("[acif-base-field-name]")&&n.hide().attr("acif-field-enabled","no"),this.Automaton.Data.CRM.clearResponse(o),$('[acif-base-field-name="'+o+'"]',this.Automaton.View.$viewContainer).each(function(){var e=$(this);e.is("fieldset")?t.resetField(e):e.find("fieldset").each(function(){t.resetField(this)})})},u.onFocus=function(e){var t=this.NS,n=$(e),i=n.closest("fieldset");this.Automaton.View.$lastFocusedElement=n,i.addClass(t+"focus").removeClass(t+"pristine").removeClass(t+"filled").removeClass(t+"empty").removeClass(t+"blurred"),n.closest("form").removeClass(t+"form-pristine").removeClass(t+"form-valid").addClass(t+"form-dirty"),this.serializedValuesArray=null},u.onBlur=function(e){var t=this.NS,n=$(e).closest("fieldset"),i=""!==e.value,o=i?"filled":"empty";n.removeClass(t+"focus").addClass(t+"blurred").addClass(t+o)},u.onChange=function(e){this.validateField(e);var t=$(e),n=t.attr("name"),i=t.scrollParent(),o=i.scrollTop(),r=this.Automaton.View.$viewport.find('form [acif-base-field-name="'+n+'"]'),a=t.closest("[acif-scroll-on-change]"),s=a.offset();r.length||(r=this.Automaton.View.$viewport.find("form [acif-conditional]"));var u=this.toggleFields(r);i.scrollTop(o),u&&a.length&&this.scrollToTop(a,s)},u.storeCurrentValue=function(e){var t=$(e);t.attr("acif-original-value",t.val())},u.fireOnChangeManually=function(e){var t=this,n=$(e);setTimeout(function(){n.val()!==n.attr("acif-original-value")&&t.onChange(e)},0)},u.toggleCheckbox=function(e){var t=$(e);t.is(":checked")?t.attr("checked","checked"):t.removeAttr("checked")},u.scrollToTop=function(e,t){var n=e.scrollParent(),i=n.scrollTop(),o=n.height(),r=e.offset().top,a=o-(r+e.height()),s=n[0].scrollHeight,u=s-o,l=s-(o+i),c=Math.min(l,u,r);(c>100||a<100)&&(r-c<t.top?n.animate({scrollTop:i+=c},500):n.scrollTop(i+c))},u.clearLastFocusedElement=function(){this.Automaton.View.$lastFocusedElement=null},u.isValidEmail=function(e){return"string"==typeof e&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},u.isValidPattern=function(e){var t=new RegExp("^"+e.pattern+"$","gim");return!!e.value.match(t)},u.getAttributes=function(e){var t=this,n=$(e);n.is(":input")||n.is("fieldset")||a.default.throwError("Forms.getAttributes() expected an input or fieldset to be passed.");var i=this.Automaton.Data.CRM.answerTypes,o=n.closest("fieldset"),r=o.closest("form"),s=o.find(":input"),u=n.is(":input")?n:s.first(),l=u.attr("type")||o.attr("acif-field-type")||u[0].tagName.toLowerCase(),c=!!l.match(/^(radio|checkbox)$/),d=u.attr("name")||o.attr("acif-field-name"),f=this.Automaton.node.fieldsList||{},h=f[d]||{},p=o.find("legend, label").first(),m=h.label||p.text().trim(),g=r.find("fieldset").index(o)+1,v=o.find(":input").index(u)+1,y=u.is("[required], [aria-required]")||o.is("[required], [aria-required], [acif-required]"),b=u.is("[multiple]")||o.is("[multiple]"),w="checkbox"===l||b,x=!l.match(/^(radio|checkbox|select|button)$/),C=u.is("[acif-masked]")||o.is("[acif-masked]"),A=c?u.is(":checked")?u.val():null:$.trim(u.val()||""),E=null===A?null:c?u.closest("label").text().trim():A;if("select"===l){var T=u.find("option"),D=T.filter('[value="'+A+'"]');v=T.index(D)}else w&&function(){var e=t.getSerializedValuesArray(),n=_.where(e,{name:d});A=_.pluck(n,"value"),E=A;var i=[];s.each(function(){var e=$(this).closest("label").text().trim();i.push(e)}),v=E.map(function(e){return i.indexOf(e.trim())+1}).sort()}();var k={type:l,name:d,value:A,multiple:b,required:y,min:1*(u.attr("min")||o.attr("min")),max:1*(u.attr("max")||o.attr("max")),inputGroupName:u.attr("acif-input-group"),minlength:1*u.attr("minlength"),maxlength:1*u.attr("maxlength"),pattern:u.attr("pattern")};C&&(E="((masked{["+E+"]}masked))");var S={questionText:m,questionId:d,answerText:E,answerId:x?"":A,answerType:x?i.FREE_FORM:i.NON_FREE_FORM,answerValue:A,questionNumber:g,answerNumber:v,isMasked:C};return k.response=S,k}}),define("acif/view/index",["exports","module","./view"],function(e,t,n){e.default=function(e){return e&&e.__esModule?e.default:e}(n),t.exports=e.default}),define("acif/view/position",["exports","module","../utils","../ci/ijsf-adapter"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){this.View=e,this.Env=e.Env}function a(e){var t=["upper_left","upper_center","upper_right","center_left","center","center_right","lower_left","lower_center","lower_right"],n=e.toLowerCase().replace(/[-\s]+/,"_").replace("top","upper").replace("bottom","lower").replace("middle","center").replace("center_center","center");if(-1===_.indexOf(t,n)){var i='"'+n+'" is not a valid CI position keyword. The 9 valid position keywords are: ['+t.join(", ")+']. Defaulting to "center" position.';u.default.console(i,"error"),n="center"}return n}function s(e){if(e=e instanceof jQuery?e[0]:e,!!!e.tagName)return!0;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=$(this.Env.top).height()&&t.right<=$(this.Env.top).width()}var u=o(n),l=o(i);t.exports=r;var c=r.prototype={constructor:r};c.set=function(e){if("Phone"!==this.Env.flashVars.deviceType&&!this.Env.isPersistentWindow){if(!e)return void this.repositionInsideViewport();var t=[];if(_.has(e,"x")&&_.has(e,"y")||_.has(e,"top")&&_.has(e,"left")){var n=e.x||e.left,i=e.y||e.top;if(_.isString(n)&&_.isString(i))t=[a(i+"_"+n)];else if(_.isNumber(n)&&_.isNumber(i))t=[e.type||"relative",n,i];else{var o="The x and y coordinates were unrecognized. You passed: x = "+n+", y = "+i+". Defaulting to center position.";u.default.console(o,"error"),t=["center"]}}else if("string"==typeof e)t=[a(e)];else{if(!(e.my||e.at||e.of))return void u.default.console("Unrecognized position settings.  Skipping CI positioning","error");t=this.getCustomPositionSettings(e)}var r=function(){l.default.moveStage.apply(null,t)};if(e.didScroll)setTimeout(r,550);else{var s=this.View.$skin.position();r(),e&&e.animate&&!this.Env.is_preview_mode&&this.animate(s,e,t)}}},c.fit=function(){if("Phone"!==this.Env.flashVars.deviceType&&!this.Env.isPersistentWindow){var e=this.View.$skin.position();l.default.moveStage("lower_right");var t=this.View.$skin.position(),n=Math.min(e.left,t.left),i=Math.min(e.top,t.top);l.default.moveStage("absolute",n,i)}},c.getCustomPositionSettings=function(e){var t=this.Env.top.document.createElement("div"),n=$(t);e.within=this.Env.top,e.of?"window"===e.of||e.of===window?e.of=this.Env.top:e.of!==this.Env.top&&(e.of=$(e.of,this.Env.top.document),e.element=e.of[0],0===e.of.length&&(e.of=this.Env.top)):e.of=this.Env.top,!(!e.element||s(e.element)||"function"!=typeof e.element.scrollIntoView)&&(e.element.scrollIntoView(),e.didScroll=!0),n.appendTo($("body",this.Env.top.document)),n.css({position:"absolute",width:this.View.$skin.outerWidth(),height:this.View.$skin.outerHeight()}),n.position(e);var i=n.position(),o=$(this.Env.top),r=o.scrollTop(),a=o.scrollLeft(),u=i.left-a,l=i.top-r;return n.remove(),["relative",u,l]},c.animate=function(e,t,n){var i=this;l.default.moveStage("relative",e.left,e.top);var o="object"==typeof t.animate?t.animate:{},r=o.delay||500;delete o.delay;var a=this.View.$skin.position(),s="function"==typeof o.always?o.always:$.noop;o.always=function(){l.default.moveStage.apply(null,n),s()},setTimeout(function(){i.View.$skin.animate(a,o)},r)}}),define("acif/view/view",["exports","module","../utils","../ci/ijsf-adapter","../models/Style","./aria","./exit","./FileUpload","./position","./NodeView","../ci/index"],function(e,t,n,i,o,r,a,s,u,l,c){function d(e){return e&&e.__esModule?e:{default:e}}function f(e){this.Automaton=e,this.Env=e.Env,this.NS=e.namespace,this.Aria=new g.default(this),this.Exit=new v.default(this),this.position=new b.default(this)}var h=d(n),p=d(i),m=d(o),g=d(r),v=d(a),y=d(s),b=d(u),w=d(l),x=d(c);t.exports=f;var C=f.prototype={constructor:f};C.initializeViewport=function(){var e=this.Automaton,t=this.Automaton.settings;h.default.benchmark("init").mark("initializeViewport"),this.setFrames(),this.disableBackAndForwardCaching(),this.Env.is_touch_enabled&&this.makeButtonsTapResponsive(),this.loadViewport(),this.Exit.registerExitListener(),this.isAriaEnabled=!(!t.ariaEnabled||this.Env.isIE7),this.isAriaEnabled&&this.Aria.init(this),this.viewportSettings=e.settings.viewport,h.default.benchmark("init").mark("starting to load CSS"),t.style&&this.loadStyles(),h.default.benchmark("init").mark("finished loading CSS"),t.escToClose&&this.enableCloseOnEscape(),t.lightbox&&this.createLightbox(),this.position.fit()},C.registerEventListeners=function(){function e(e){return function(t){return h.default.benchmark("btn click").start(),n.setActiveEvent(t,this),e.call(this),!1}}var t=this,n=this,i=this.Automaton,o=i.hash,r=i.Forms,a=i.Transitions,s=this.$viewport,u=$("input, textarea, select",s);p.default.updateInputListeners(o,u),$("[acif-node]",s).on("click",e(function(){var e=$(this).attr("acif-node");a.selectNextNode(e)})),$("[acif-transition]",s).on("click",e(function(){var e=$(this).attr("acif-transition");a.trigger(e)})),$("[acif-action]",s).on("click",e(function(){n.selectAction(this)})),$('input[type="file"][acif-upload-to-agent]',s).on("change",function(e){(this.value||"").length&&new y.default(e,i)}),$("form",s).on("submit",function(e){return e.preventDefault(),n.setActiveEvent(e,n.Env.document.activeElement),r.submitForm(this),!1}),$("form[acif-submit-on-click] label:has(input)",s).on("click",e(function(){return r.submitOnClick(this),!1})),$("form[acif-validate-onkeyup] :input",s).on("keyup",function(){r.validateField(this)}),$("form :input",s).on("focus",function(){r.onFocus(this)}),$("form :input",s).on("blur",function(){r.onBlur(this)}),$("form :input",s).on("change",function(){r.onChange(this)}),$("form :input[acif-auto-format=currency]",s).each(function(e,n){var i=$(n);t.hideAttributes(i,["acif-auto-format","acif-thousands-separator","acif-currency-symbol","acif-decimal-separator"]),i.on("input",t.autoFormatCurrencyField)}),$("form select",s).on("focus",function(){r.storeCurrentValue(this)}),$("form select",s).on("keydown",function(){r.fireOnChangeManually(this)}),$("form :input[type=checkbox], form :input[type=radio]",s).on("change",function(){r.toggleCheckbox(this)}),this.isAriaEnabled&&this.Env.isAndroidMobile&&$("select",s).on("change",function(){n.Aria.returnFocusToDropdown(this)})},C.renderNode=function(){var e=this.Automaton;h.default.benchmark("btn click").mark("renderNode start");var t=new w.default(e.node,e),n=t.$container;this.isAriaEnabled&&(this.Aria.enableAriaHtml(n),this.Aria.saveInitialDescribedby(n));var i=e.getProp("circularTabbing");i?this.enableCircularTabbing(n):!1===i&&p.default.removeCircularTabbing(),e.node.id===e.displayedPath[0]&&t.hideBackButtons(),t.addNamespace(this.NS),t.addIdsToDivTags(),this.$viewContainer&&this.$viewContainer.remove(),this.$viewContainer=n,$("form [acif-base-field-name]",n).each(function(){var e=$(this).attr("acif-base-field-name");$('form fieldset[acif-field-name="'+e+'"]',n).attr("acif-is-base-field",!0)}),e.Forms.throttleElements(),e.Forms.toggleFields(),n.prependTo(this.$viewportOutlet||this.$viewport),t.initializeAccordionMenus(),t.initializeTooltips(),t.initializeDatepickers(),this.registerEventListeners(),this.isAriaEnabled&&this.Aria.placeInitialFocusOnView();var o=h.default.get(e,"node.panel")||h.default.get(e,"settings.panel")||{},r=h.default.get(e,"options.panel"),a=o.height,s=o.width,u=!(x.default.isHorizontalPanel(r)||!s),l=!(x.default.isVerticalPanel(r)||!a);u&&l?p.default.setElementPosition(r,{width:s,height:a}):(u&&p.default.setElementPosition(r,{width:s}),l&&p.default.setElementPosition(r,{height:a}));var c=e.node.viewport||{};if(e.isSessionInitializing){var d=e.settings.viewport||{};c.width=c.width||d.width,c.height=c.height||d.height,c.position=c.position||d.position}return(c.width||c.height)&&x.default.resizeStage({width:c.width,height:c.height}),e.settings.autoResizeHeight&&!c.height&&this.autoResizeHeight(),c.position&&this.position.set(c.position),h.default.benchmark("btn click").mark("renderNode end").end(),top.loadAcifEvent&&(top.loadAcifEvent=null),!1},C.autoResizeHeight=function(){this.$viewport.css({top:"",left:"",right:"",bottom:"",height:""});var e=this.$skin.height(),t=this.$xframe.height(),n=this.$viewContainer.outerHeight(!0),i=this.Automaton.settings.minHeight||0,o=e-t+n-i;this.$viewport.css({top:0,left:0,right:0,bottom:0,height:"100%"}),this.resizeStage(null,o)},C.resizeStage=function(e,t){var n=this.Env;if("Phone"!==n.flashVars.deviceType&&(this.$skin.length||this.$viewport)){var i=h.default.benchmark("resizeStage").start();if(!n.isPersistentWindow){var o=$(this.Env.top).height(),r=$(this.Env.top).width(),a=this.$skin.height()||this.$viewport.height(),s=this.$skin.width()||this.$viewport.width();e=Math.min(e||s,r),t=Math.min(t||a,o)}i("setup"),p.default.resizeStage(e,t),i("IJSF.resizeStage()"),this.position.fit(),i("view.position.fit()"),this.$viewport.siblings().hide(),i.end()}},C.getTabbables=function(e){e=e||this.$viewport;return e.find(":input,a,button,[tabindex]")},C.setFrames=function(){this.$xframe=this.Automaton.options.$container,this.$skin=this.Automaton.options.$skin},C.makeButtonsTapResponsive=function(){var e=this;if(!this.Env.top.FastClick){this.Env.top.document.body.appendChild(document.createElement("script")).src="https://static.inq.com/sites/320/assets/libs/FastClick/fastclick-1.0.6.js",this.Automaton.utils.doAfter({condFn:function(){return!!e.Env.top.FastClick},afterFn:function(){try{e.Env.top.FastClick.attach?e.Env.top.FastClick.attach(e.$viewport[0]):new e.Env.top.FastClick(e.$viewport[0])}catch(e){h.default.console("Failed to initialize FastClick.","error")}},poll:10,maxWait:2e3})}},C.loadViewport=function(){this.$xframe.children().hide().attr("aria-hidden","true"),this.$viewport=$("<div>").attr("id",this.NS+"viewport").addClass(h.default.namespaceString(this.NS,"viewport acif-wrapping")).css({overflowY:"auto",backgroundColor:"white",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,height:"100%",boxSizing:"border-box"}).appendTo(this.$xframe),this.Env.is_preview_mode||this.reAttachViewportToDOM()},C.reAttachViewportToDOM=function(){var e=this,t=(new Date).getTime(),n=this.Automaton.utils.timers.setInterval(function(){e.$viewport.parent()[0]!==e.$xframe[0]&&(h.default.console("re-appending $viewport after "+((new Date).getTime()-t)+"ms"),e.$viewport.appendTo(e.$xframe),e.isAriaEnabled&&e.Aria.placeFocusOnView(),clearInterval(n))},10);this.Automaton.utils.timers.setTimeout(function(){clearInterval(n)},1e4)},C.createLightbox=function(){var e=this,t=this.Automaton.settings,n="object"==typeof t.lightbox?t.lightbox:{},i=$("body",this.Env.top.document),o=_.pick(n,["background","background-color","backgroundColor","opacity","zIndex","z-index"]),r=this.Env.top.document.createElement("DIV"),a=$(r),s={position:"fixed",top:0,left:0,width:"999999px",height:"999999px",background:"black",opacity:.5,zIndex:2147e6};_.extend(s,o),a.attr("id","inq-lightbox-"+this.Automaton.namespace).addClass("inq-lightbox").appendTo(i).css(s),n.closeOnEscape&&i.on("keydown.inq-lightbox",function(t){t.keyCode===$.ui.keyCode.ESCAPE&&(e.Exit.unload(),i.off(".inq-lightbox"))}),n.closeOnClick&&a.one("click",this.Exit.unload.bind(this.Exit)),this.$lightbox=a},C.loadStyles=function(){m.default.loadStyleSheet("https://static.inq.com/sites/320/assets/acif/assets/jquery-ui/jquery-ui.min.css",null,!0,this.Automaton.Env.document),m.default.loadStyleSheet("https://static.inq.com/sites/320/assets/acif/assets/flatpickr/flatpickr.min.css",null,!0,this.Automaton.Env.document),m.default.loadStyleSheet("#tcChat_Skin .flatpickr-calendar { display: none; }",null,!1,this.Automaton.Env.document);var e=this.Automaton.getRecord(this.Automaton.settings.style,"style");e.addNamespace(this.NS);var t=this.Automaton.settings;if(t.tooltips){e.updateTooltipClassName();var n="object"==typeof t.tooltips?t.tooltips:{};n.tooltipClass="-ui-tooltip",n.position=n.position||{},n.position.within=this.Env.top,this.$viewport.tooltip(n)}e.addToDOM(),e.preloadImages()},C.selectAction=function(e){var t=$(e).attr("acif-action"),n=t.split(/[\s;,]+/g),i=this.Automaton,o=i.options.panel,r=void 0;return n.forEach(function(e){switch(e){case"exit":i.close();break;case"close-panel":x.default.closePanel(o,i.Env.isPersistentWindow);break;case"back":var t=h.default.generateBreadcrumbs(i.displayedPath);r=t[t.length-2];break;case"start_over":case"start-over":r=i.displayedPath[0];break;default:i.node.runCustomAction(e)||h.default.throwError('Unrecognized acif-action: "'+e+'"')}}),r&&this.Automaton.Transitions.selectNextNode(r),!1},C.enableCircularTabbing=function(e){var t=this.$skin[0],n=$("[id$=btnMinimize_img]:visible",t)[0],i=n||this.Exit.$exitButton[0],o=this.getTabbables(e),r=o.length?o[o.length-1]:i;p.default.setCircularTabbing(t,i,r)},C.setActiveEvent=function(e,t){this.Automaton.activeEvent={event:e,element:t,$element:$(t),currentNode:this.Automaton.node,previousNode:this.Automaton.api.getPreviousNode()}},C.enableCloseOnEscape=function(){var e=this;$("body",this.Env.document).on("keyup."+this.NS,function(t){27===t.keyCode&&($("body",e.Env.document).off("."+e.NS),e.Exit.unload(),e.Exit.closeCI())})},C.disableBackAndForwardCaching=function(){$(this.Env.top).on("unload.inq-acif beforeunload.inq-acif",$.noop)},C.getQuestions=function(){var e=[],t=this.Automaton.Forms;return this.$viewport.find("fieldset").each(function(){var n=t.getAttributes(this)
;e.push({questionText:n.response.questionText,questionId:n.response.questionId})}),e},C.hideAttributes=function(e,t){t.forEach(function(t){var n=e.attr(t);e.removeAttr(t),e.data(t,n)})},C.autoFormatCurrencyField=function(e){var t=$(e.target),n=this.selectionStart,i=this.selectionEnd,o=t.data("acif-currency-symbol"),r=t.data("acif-thousands-separator"),a=t.data("acif-decimal-separator"),s=t.val(),u=(s.slice(0,n).match(/,/g)||[]).length,l=s.replace(/\D/g,"");if(l){if("00"===l)return void t.val("");var c=l.slice(-2),d=l.slice(0,-2);1===c.length&&(c="0"+c),d=d.replace(/^0*/,""),r&&(d=d.replace(/(\d)(?=(\d{3})+$)/g,"$1"+r)),d.length||(d="0");var f=""+o+d+a+c,h=(f.slice(0,n).match(/,/g)||[]).length;t.val(f),s.length!==n&&(n+=h-u,i+=h-u,this.setSelectionRange(n,i))}}}),define("boot/index",["exports"],function(e){window.name.match("acif")?require("storage"):window.inQ&&"test"===window.inQ.ENV||(require("storage"),require("acif"))}),define("storage/iframe/index",["exports","../utils/frame-messenger","./storage"],function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}var o=i(t),r=i(n),a=new o.default({frame:window,name:"tc-storage-iframe",targetFrame:parent,targetName:"tc-storage-top-frame"}),s=void 0;try{window.localStorage;var u=JSON.parse(decodeURIComponent(window.name));s=new r.default(u);var l=s.getAllData();a.targetOrigin=u.targetOrigin,a.postMessage({code:"initial storage data",storage:l})}catch(e){a.postMessage({code:"local storage failed"})}a.onMessage(function(e,t){var n=s[e.method],i=void 0;if("function"==typeof n)try{return t(null,n.call(s,e.params))}catch(e){i=e}else i='"'+e.method+'" is not a valid TcSorage method.';i&&(t(i),window.console&&"function"==typeof console.error&&console.error(i))})}),define("storage/iframe/storage",["exports","module","../utils/get","../utils/set"],function(e,t,n,i){function o(e){return e&&e.__esModule?e:{default:e}}function r(e){this.ids={site:e.siteId,session:e.sessionId,engagement:e.engagementId,tab:e.tabId},this._storageKey="nuance-acif-"+e.siteId;var t=this._getStorage();this.options=e,this._initStore(t,"session"),this._initStore(t,"engagement"),this._initStore(t,"tab"),t.lifetime=t.lifetime||{data:{}},t.custom=t.custom||{data:{},registry:{}},this._purgeExpiredItems(t),this._ieSyncFix(),this._setStorage(t)}function a(e){var t=new Date,n=(e.match(/(\d+)y/i)||[])[1],i=(e.match(/(\d+)M/)||[])[1],o=(e.match(/(\d+)d/i)||[])[1],r=(e.match(/(\d+)h/i)||[])[1],a=(e.match(/(\d+)m/)||[])[1],s=(e.match(/(\d+)s/i)||[])[1];return n&&t.setFullYear(t.getFullYear()+Number(n)),i&&t.setMonth(t.getMonth()+Number(i)),o&&t.setDate(t.getDate()+Number(o)),r&&t.setHours(t.getHours()+Number(r)),a&&t.setMinutes(t.getMinutes()+Number(a)),s&&t.setSeconds(t.getSeconds()+Number(s)),t}var s=o(n),u=o(i);t.exports=r,r.get=function(e){var t=localStorage.getItem(e);if(!t)return t;try{t=JSON.parse(t)}catch(t){console.error('"'+e+'" is not a valid localStorage JSON string')}return t};var l=r.prototype={constructor:r};l._initStore=function(e,t){e[t]=e[t]||{};var n=this.ids[t];n!==e[t].id&&(e[t]={id:n,data:{}})},l._ieSyncFix=function(){var e=function(){};document.addEventListener?document.addEventListener("storage",e,!1):document.attachEvent?document.attachEvent("onstorage",e):document.onstorage=e,this._ieSyncFix=function(){localStorage.setItem("inq-dummy",1),localStorage.removeItem("inq-dummy")}},l.set=function(e){e.engagementId&&(this.ids.engagement=e.engagementId);var t=e.path,n=e.value,i=e.scope,o=this._getStorage(),r=this._getStore(o,i),a=void 0;r||(i?(a=this._getExpirationDate(i),i="custom"):i="session",r=this._getStore(o,i));var l=(0,s.default)(r,t);return(0,u.default)(r,t,n),a&&(o.custom.registry[t]=a.getTime()),this._setStorage(o),this._ieSyncFix(),{storage:o,changes:l===n?void 0:{path:t,previous:l,current:n,scope:i,expires:a}}},l._setStorage=function(e){e=JSON.stringify(e),localStorage.setItem(this._storageKey,e)},l.get=function(e){e.engagementId&&(this.ids.engagement=e.engagementId);var t=e.scope||"session";if(!(["engagement","tab","session","lifetime","custom"].indexOf(t)>-1))throw new Error('"'+t+'" is not a valid TC Storage scope. Expected one of: engagement, tab, session, lifetime, or custom');var n=this._getStorage(),i=this._getStore(n,t);return(0,s.default)(i,e.path)},l._getStore=function(e,t){var n=e[t];if(t.match(/custom|lifetime/i))return n.data;var i=this.ids[t];return i!==n.id&&(n=e[t]={id:i,data:{}}),n.data},l._getStorage=function(){var e=localStorage.getItem(this._storageKey);return e?JSON.parse(e):{}},l.getAllData=function(){return this._getStorage()},l._getExpirationDate=function(e){var t=void 0;return e instanceof Date?t=e:"number"==typeof e?t=new Date(e):"string"==typeof e&&(t=a(e)),t instanceof Date&&t>new Date?t:a("1d")},l._purgeExpiredItems=function(e){var t=(new Date).getTime(),n=e.__registry__;for(var i in n){t<n[i]||((0,u.default)(e,i,void 0),delete n[i])}}}),define("storage/index",["exports"],function(e){var t="undefined"==typeof inqFrame;require(t?"storage/iframe":"storage/top-frame")}),define("storage/top-frame/id-manager",["exports","module"],function(e,t){function n(e){var t=u[e];if(t)return t(e);throw new Error(e+" is not a valid TC Local Storage scope")}function i(){return inqFrame.Inq.siteID}function o(){return inqFrame.Inq.FlashPeer.getSessionID()}function r(){var e=void 0;try{e=window.Inq.API.get("engagementId")}catch(e){}if(e)return e;try{return window.Inq.getData().CHM.id}catch(e){}}function a(){var e=sessionStorage.getItem("nuance-tab-id");return e||(e=Math.random().toString().substr(2,99),sessionStorage.setItem("nuance-tab-id",e)),e}function s(e){return e}t.exports=n;var u={site:i,session:o,engagement:r,tab:a,lifetime:s,custom:s}}),define("storage/top-frame/index",["exports","../utils/frame-messenger","./local-storage-api","./session-storage-api","./id-manager"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}var a=r(t),s=r(n),u=r(i),l=r(o),c=window.inQ=window.inQ||{},d=inqFrame.Inq.urls.skinURL.replace(/flash\/$/,""),f=d+"assets/local-storage/storage.html",h=function(){var e=document.createElement("iframe"),t="test"===c.ENV?$("script").filter('[src*="acif.js"], [src*="acif-debug.js"]').last().attr("src"):$("script").last().attr("src"),n={siteId:(0,l.default)("site"),sessionId:(0,l.default)("session"),engagementId:(0,l.default)("engagement"),tabId:(0,l.default)("tab"),jsUrl:t,targetOrigin:location.protocol+"//"+location.hostname};return f=f.replace(/^https?/,"https"),e.name=encodeURIComponent(JSON.stringify(n)),e.src=f,e.style.display="none",document.body.appendChild(e),e}();!function(e){var t=document.createElement("a");t.href=f;var n=t.protocol+"//"+t.hostname,i=new a.default({frame:window,name:"tc-storage-top-frame",targetFrame:e.contentWindow,targetName:"tc-storage-iframe",targetOrigin:n});i.onMessage(function(e,t){var n=void 0;"initial storage data"===e.code?n=new s.default(i,e.storage):"local storage failed"===e.code&&(n=new u.default(e.storage)),n&&(c.Storage=n,Inq.fireCustomEvent("StorageReady"))})}(h)}),define("storage/top-frame/local-storage-api",["exports","module","../utils/get","../utils/set","./id-manager"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.frameMessenger=e,this.storage=t}var s=r(n),u=r(i),l=r(o);t.exports=a;var c=a.prototype;c.peek=function(e,t,n){t&&"function"!=typeof t||(n=t,t="session");var i=(0,l.default)("engagement");if("engagement"!==t||i){var o=this._getStore(t);if(!o)return void console.error('"'+t+'" is not a valid TC Storage scope. Expected one of: engagment, tab, session, lifetime, or custom');var r=(0,s.default)(o,e);return"function"==typeof n?n(null,r):r}},c._getStore=function(e){var t=this.storage[e],n=(0,l.default)(e);return n!==t.id&&(t=this.storage[e]={id:n,data:{}}),t.data},c.get=function(e,t,n){t&&"function"!=typeof t||(n=t,t="session");var i=(0,l.default)("engagement");this.frameMessenger.postMessage({method:"get",params:{path:e,scope:t,engagementId:i}},n)},c.set=function(e,t,n){"object"==typeof e&&(t=e.value,n=e.scope,e=e.path||e.key);var i=(0,l.default)("engagement");if("engagement"!==(n=n||"session")||i){var o=this._getStore(n);(0,u.default)(o,e,t),this.frameMessenger.postMessage({method:"set",params:{path:e,value:t,scope:n,engagementId:i}},function(e,t){if(e)return window.inqFrame.Inq.log(e,"error");this.storage=t.storage,t.changes&&Inq.fireCustomEvent("StorageChanged",t.changes)})}}}),define("storage/top-frame/session-storage-api",["exports","module","../utils/get","../utils/set","./id-manager"],function(e,t,n,i,o){function r(e){return e&&e.__esModule?e:{default:e}}function a(){this.ids={site:(0,l.default)("site"),session:(0,l.default)("session"),engagement:(0,l.default)("engagement"),tab:(0,l.default)("tab")},this._storageKey="nuance-acif-"+this.ids.site;var e=this._getStorage();this._initStore(e,"session"),this._initStore(e,"engagement"),this._initStore(e,"tab"),this._setStorage(e),this.storage=e}var s=r(n),u=r(i),l=r(o);t.exports=a;var c=a.prototype;c.peek=function(e,t,n){t&&"function"!=typeof t||(n=t,t="session");var i=(0,l.default)("engagement");if("engagement"!==t||i){var o=this._getStore(this.storage,t);if(!o)return void console.error('"'+t+'" is not a valid TC Storage scope. Expected one of: engagment, tab, session, lifetime, or custom');var r=(0,s.default)(o,e);return"function"==typeof n?setTimeout(function(){return n(null,r)},100):r}},c._getStore=function(e,t){var n=e[t];if(t.match(/custom|lifetime/i))return n.data;var i=this.ids[t];return i!==n.id&&(n=e[t]={id:i,data:{}}),n.data},c.get=function(e,t,n){t&&"function"!=typeof t||(n=t,t="session");var i=(0,l.default)("engagement");if(i&&(this.ids.engagement=i),!(["engagement","tab","session","lifetime","custom"].indexOf(t)>-1))throw new Error('"'+t+'" is not a valid TC Storage scope. Expected one of: engagement, tab, session, lifetime, or custom');var o=this._getStorage(),r=this._getStore(o,t),a=(0,s.default)(r,e);setTimeout(function(){return n(null,a)},100)},c.set=function(e,t,n){"object"==typeof e&&(t=e.value,n=e.scope,e=e.path||e.key);var i=(0,l.default)("engagement");if("engagement"!==(n=n||"session")||i){var o=this._getStorage(),r=this._getStore(o,n);(0,u.default)(r,e,t),i&&(this.ids.engagement=i);var a=void 0;r||(n?(a=this._getExpirationDate(n),n="custom"):n="session",r=this._getStore(o,n));var c=(0,s.default)(r,e);(0,u.default)(r,e,t),a&&(o.custom.registry[e]=a.getTime()),this._setStorage(o),this._ieSyncFix();var d=c===t?void 0:{path:e,previous:c,current:t,scope:n,expires:a};this.storage=o,d&&Inq.fireCustomEvent("StorageChanged",d)}},c._initStore=function(e,t){e[t]=e[t]||{};var n=this.ids[t];n!==e[t].id&&(e[t]={id:n,data:{}})},c._getStorage=function(){var e=sessionStorage.getItem(this._storageKey);return e?JSON.parse(e):{}},c._setStorage=function(e){e=JSON.stringify(e),sessionStorage.setItem(this._storageKey,e)},c._ieSyncFix=function(){var e=function(){};document.addEventListener?document.addEventListener("storage",e,!1):document.attachEvent?document.attachEvent("onstorage",e):document.onstorage=e,this._ieSyncFix=function(){localStorage.setItem("inq-dummy",1),localStorage.removeItem("inq-dummy")}}}),define("storage/utils/frame-messenger",["exports","module"],function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){try{return JSON.parse(e)}catch(e){return{}}}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){function i(e){return!(!e||!e.postMessage||"function"!=typeof e.postMessage)}if(n(this,e),t=t||{},this.name=t.name,this.frame=t.frame,this.targetName=t.targetName,this.targetFrame=t.targetFrame,this.targetOrigin=t.targetOrigin,this.Promise=t.Promise,this.callbackCount=0,this.callbacks={},this.listeners={},"string"!=typeof this.name)throw new Error("FrameMessenger must be initialized with a string in the `name` property");if("string"!=typeof this.targetName)throw new Error("FrameMessenger must be initialized with a string in the `targetName` property");if(!i(this.frame))throw new Error("FrameMessenger must be initialized with a frame in the `frame` property");if(!i(this.targetFrame))throw new Error("FrameMessenger must be initialized with a frame in the `targetFrame` property");this.frame.addEventListener("message",this._processMessage.bind(this))}return o(e,[{key:"postMessage",value:function(e,t,n,i){var o=this,r="c"+this.callbackCount++;i&&(i instanceof Error?i={name:i.name,message:i.message,stack:i.stack}:"object"==typeof i&&(i=JSON.parse(JSON.stringify(i))));var a=JSON.stringify({__name__:this.targetName,__origin_name__:this.name,__reply__:r,__callback__:n,__error__:i,data:e});if(this.targetFrame.postMessage(a,this.targetOrigin),"function"==typeof t)this.callbacks[r]=t;else{if(this.Promise)return new this.Promise(function(e,t){o.callbacks[r]={resolve:e,reject:t}});this.callbacks[r]=function(){}}}},{key:"_processMessage",value:function(e){var t=this,n=e.data,o=i(n);if(e.source===this.targetFrame&&o.__name__===this.name){var r=o.__callback__,a=this.callbacks[r],s=function(e,n,i){t.postMessage(n,i,o.__reply__,e)};a?(delete this.callbacks[r],o.__error__?a.reject?a.reject(o.__error__):a(o.__error__):a.resolve?a.resolve(o.data):a(null,o.data,s)):this._onMessage?this._onMessage(o.data,s):console.error("No callback existed to handle callback ID "+r)}}},{key:"onMessage",value:function(e){this._onMessage=e}}]),e}();t.exports=r}),define("storage/utils/get",["exports","module"],function(e,t){function n(e,t){if(e)try{var i=(t||"").split("."),o=i.shift(),r=e[o];return i.length?n(r,i.join(".")):r}catch(e){console.error(e)}}t.exports=n}),define("storage/utils/set",["exports","module"],function(e,t){function n(e,t,i){if("object"!=typeof e)throw new Error("set() expected an object as the first argument. Received "+e);if("string"!=typeof t)throw new Error("set() expected a string as the second argument. Received "+t);var o=t.split("."),r=o.shift();if(o.length){n(e[r]=e[r]||{},o.join("."),i)}else e[r]=i}t.exports=n}),require("boot");
//# sourceMappingURL=acif.map